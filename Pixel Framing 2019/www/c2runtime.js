// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,da,ea,fa,ga,ha,z,ia,ja,ka,la,ma,na,Q,oa,qa,sa,ta,ua,va,wa,R,xa,ya,Ba,Ca,Da,W,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb={},Zb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});
(function(){function e(a,c,h,d){this.set(a,c,h,d)}function p(){this.Oa=this.Na=this.Qa=this.Pa=this.ab=this.$a=this.ya=this.xa=0}function m(a,c,h,d){a<c?h<d?(u=a<h?a:h,y=c>d?c:d):(u=a<d?a:d,y=c>h?c:h):h<d?(u=c<h?c:h,y=a>d?a:d):(u=c<d?c:d,y=a>h?a:h)}function l(){this.items=this.G=null;this.$g=0;ca&&(this.G=new Set);this.rg=[];this.$d=!0}function r(a){v[H++]=a}function t(){this.ta=this.Nj=this.y=this.nk=0}function b(a){this.Ja=[];this.Vh=this.Xh=this.Yh=this.Wh=0;this.zh(a)}function a(a,c){this.sk=
a;this.rk=c;this.cells={}}function f(a,c){this.sk=a;this.rk=c;this.cells={}}function q(a,c,h){var d;return E.length?(d=E.pop(),d.bl=a,d.x=c,d.y=h,d):new aa(a,c,h)}function c(a,c,h){this.bl=a;this.x=c;this.y=h;this.hb=new ba}function d(a,c,h){var d;return P.length?(d=P.pop(),d.bl=a,d.x=c,d.y=h,d):new da(a,c,h)}function k(a,c,h){this.bl=a;this.x=c;this.y=h;this.hb=[];this.Rf=!0;this.ld=new ba;this.vg=!1}function g(a,c){return a.cd-c.cd}ea=function(a){window.console&&window.console.log&&window.console.log(a)};
fa=function(a){window.console&&window.console.error&&window.console.error(a)};ga=function(a){return"undefined"===typeof a};ha=function(a){return"number"===typeof a};z=function(a){return"string"===typeof a};ia=function(a){return 0<a&&0===(a-1&a)};ja=function(a){--a;for(var c=1;32>c;c<<=1)a=a|a>>c;return a+1};ka=function(a){return 0>a?-a:a};la=function(a,c){return a>c?a:c};ma=function(a,c){return a<c?a:c};na=Math.PI;Q=function(a){return 0<=a?a|0:(a|0)-1};oa=function(a){var c=a|0;return c===a?c:c+1};
qa=function(a,c,h,d,g,k,f,x){var A,B,C,q;a<h?(B=a,A=h):(B=h,A=a);g<f?(q=g,C=f):(q=f,C=g);if(A<q||B>C)return!1;c<d?(B=c,A=d):(B=d,A=c);k<x?(q=k,C=x):(q=x,C=k);if(A<q||B>C)return!1;A=g-a+f-h;B=k-c+x-d;a=h-a;c=d-c;g=f-g;k=x-k;x=ka(c*g-k*a);return ka(g*B-k*A)>x?!1:ka(a*B-c*A)<=x};e.prototype.set=function(a,c,h,d){this.left=a;this.top=c;this.right=h;this.bottom=d};e.prototype.Cf=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};e.prototype.width=function(){return this.right-
this.left};e.prototype.height=function(){return this.bottom-this.top};e.prototype.offset=function(a,c){this.left+=a;this.top+=c;this.right+=a;this.bottom+=c;return this};e.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};e.prototype.At=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};e.prototype.Bt=function(a,c,h){return!(a.right+
c<this.left||a.bottom+h<this.top||a.left+c>this.right||a.top+h>this.bottom)};e.prototype.tb=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};e.prototype.Dg=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};sa=e;p.prototype.De=function(a){this.xa=a.left;this.ya=a.top;this.$a=a.right;this.ab=a.top;this.Pa=a.right;this.Qa=a.bottom;this.Na=a.left;this.Oa=a.bottom};p.prototype.Fp=function(a,c){if(0===c)this.De(a);else{var h=
Math.sin(c),d=Math.cos(c),g=a.left*h,k=a.top*h,f=a.right*h,h=a.bottom*h,x=a.left*d,A=a.top*d,B=a.right*d,d=a.bottom*d;this.xa=x-k;this.ya=A+g;this.$a=B-k;this.ab=A+f;this.Pa=B-h;this.Qa=d+f;this.Na=x-h;this.Oa=d+g}};p.prototype.offset=function(a,c){this.xa+=a;this.ya+=c;this.$a+=a;this.ab+=c;this.Pa+=a;this.Qa+=c;this.Na+=a;this.Oa+=c;return this};var u=0,y=0;p.prototype.pn=function(a){m(this.xa,this.$a,this.Pa,this.Na);a.left=u;a.right=y;m(this.ya,this.ab,this.Qa,this.Oa);a.top=u;a.bottom=y};p.prototype.tb=
function(a,c){var h=this.xa,d=this.ya,g=this.$a-h,k=this.ab-d,f=this.Pa-h,x=this.Qa-d,A=a-h,B=c-d,C=g*g+k*k,q=g*f+k*x,k=g*A+k*B,b=f*f+x*x,n=f*A+x*B,v=1/(C*b-q*q),g=(b*k-q*n)*v,C=(C*n-q*k)*v;if(0<=g&&0<C&&1>g+C)return!0;g=this.Na-h;k=this.Oa-d;C=g*g+k*k;q=g*f+k*x;k=g*A+k*B;v=1/(C*b-q*q);g=(b*k-q*n)*v;C=(C*n-q*k)*v;return 0<=g&&0<C&&1>g+C};p.prototype.Yd=function(a,c){if(c)switch(a){case 0:return this.xa;case 1:return this.$a;case 2:return this.Pa;case 3:return this.Na;case 4:return this.xa;default:return this.xa}else switch(a){case 0:return this.ya;
case 1:return this.ab;case 2:return this.Qa;case 3:return this.Oa;case 4:return this.ya;default:return this.ya}};p.prototype.Uo=function(){return(this.xa+this.$a+this.Pa+this.Na)/4};p.prototype.Vo=function(){return(this.ya+this.ab+this.Qa+this.Oa)/4};p.prototype.jo=function(a){var c=a.Uo(),h=a.Vo();if(this.tb(c,h))return!0;c=this.Uo();h=this.Vo();if(a.tb(c,h))return!0;var d,g,k,f,x,A,B,C;for(B=0;4>B;B++)for(C=0;4>C;C++)if(c=this.Yd(B,!0),h=this.Yd(B,!1),d=this.Yd(B+1,!0),g=this.Yd(B+1,!1),k=a.Yd(C,
!0),f=a.Yd(C,!1),x=a.Yd(C+1,!0),A=a.Yd(C+1,!1),qa(c,h,d,g,k,f,x,A))return!0;return!1};ta=p;ua=function(a,c){for(var h in c)c.hasOwnProperty(h)&&(a[h]=c[h]);return a};va=function(a,c){var h,d;c=Q(c);if(!(0>c||c>=a.length)){h=c;for(d=a.length-1;h<d;h++)a[h]=a[h+1];wa(a,d)}};wa=function(a,c){a.length=c};R=function(a){wa(a,0)};xa=function(a,c){R(a);var h,d;h=0;for(d=c.length;h<d;++h)a[h]=c[h]};ya=function(a,c){a.push.apply(a,c)};Ba=function(a,c){var h,d;h=0;for(d=a.length;h<d;++h)if(a[h]===c)return h;
return-1};Ca=function(a,c){var h=Ba(a,c);-1!==h&&va(a,h)};Da=function(a,c,h){return a<c?c:a>h?h:a};W=function(a){return a/(180/na)};Ea=function(a){return 180/na*a};Fa=function(a){a%=360;0>a&&(a+=360);return a};Ga=function(a){a%=2*na;0>a&&(a+=2*na);return a};Ha=function(a){return Fa(Ea(a))};Ia=function(a){return Ga(W(a))};Ja=function(a,c,h,d){return Math.atan2(d-c,h-a)};Ka=function(a,c){if(a===c)return 0;var h=Math.sin(a),d=Math.cos(a),g=Math.sin(c),k=Math.cos(c),h=h*g+d*k;return 1<=h?0:-1>=h?na:Math.acos(h)};
La=function(a,c,h){var d=Math.sin(a),g=Math.cos(a),k=Math.sin(c),f=Math.cos(c);return Math.acos(d*k+g*f)>h?0<g*k-d*f?Ga(a+h):Ga(a-h):Ga(c)};Ma=function(a,c){var h=Math.sin(a),d=Math.cos(a),g=Math.sin(c),k=Math.cos(c);return 0>=d*g-h*k};Na=function(a,c,h,d){a=h-a;c=d-c;return Math.sqrt(a*a+c*c)};Oa=function(a,c){return!a!==!c};Pa=function(a){for(var c in a)if(a.hasOwnProperty(c))return!0;return!1};Qa=function(a){for(var c in a)a.hasOwnProperty(c)&&delete a[c]};var G=+new Date;Ra=function(){if("undefined"!==
typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-G};var h=!1,n=h=!1,w=!1;"undefined"!==typeof window&&(h=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),h=!h&&/safari/i.test(navigator.userAgent),n=/(iphone|ipod|ipad)/i.test(navigator.userAgent),w=window.c2ejecta);
var ca=!h&&!w&&!n&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;l.prototype.contains=function(a){return this.Cd()?!1:ca?this.G.has(a):this.items&&this.items.hasOwnProperty(a)};l.prototype.add=function(a){if(ca)this.G.has(a)||(this.G.add(a),this.$d=!1);else{var c=a.toString(),h=this.items;h?h.hasOwnProperty(c)||(h[c]=a,this.$g++,this.$d=!1):(this.items={},this.items[c]=a,this.$g=1,this.$d=!1)}};l.prototype.remove=function(a){if(!this.Cd())if(ca)this.G.has(a)&&(this.G["delete"](a),
this.$d=!1);else if(this.items){a=a.toString();var c=this.items;c.hasOwnProperty(a)&&(delete c[a],this.$g--,this.$d=!1)}};l.prototype.clear=function(){this.Cd()||(ca?this.G.clear():(this.items=null,this.$g=0),R(this.rg),this.$d=!0)};l.prototype.Cd=function(){return 0===this.count()};l.prototype.count=function(){return ca?this.G.size:this.$g};var v=null,H=0;l.prototype.Ou=function(){if(!this.$d){if(ca)R(this.rg),v=this.rg,H=0,this.G.forEach(r),v=null,H=0;else{var a=this.rg;R(a);var c,h=0,d=this.items;
if(d)for(c in d)d.hasOwnProperty(c)&&(a[h++]=d[c])}this.$d=!0}};l.prototype.qd=function(){this.Ou();return this.rg};ba=l;var L=new ba;Sa=function(a){var c,h;c=0;for(h=a.length;c<h;++c)L.add(a[c]);xa(a,L.qd());L.clear()};Ta=function(a,c){ca?Ua(a,c.G):Va(a,c.qd())};Ua=function(a,c){var h,d,g,k;d=h=0;for(g=a.length;h<g;++h)k=a[h],c.has(k)||(a[d++]=k);wa(a,d)};Va=function(a,c){var h,d,g,k;d=h=0;for(g=a.length;h<g;++h)k=a[h],-1===Ba(c,k)&&(a[d++]=k);wa(a,d)};t.prototype.add=function(a){this.y=a-this.nk;
this.Nj=this.ta+this.y;this.nk=this.Nj-this.ta-this.y;this.ta=this.Nj};t.prototype.reset=function(){this.ta=this.Nj=this.y=this.nk=0};Wa=t;Xa=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};b.prototype.zh=function(a){this.qp=a;this.Bc=a.length/2;this.Ja.length=a.length;this.ai=this.bi=-1;this.sn=0};b.prototype.qe=function(){return!this.qp.length};b.prototype.aa=function(){for(var a=this.Ja,c=a[0],h=c,d=a[1],g=d,k,f,x=1,A=this.Bc;x<A;++x)f=2*x,k=a[f],f=a[f+1],k<c&&(c=k),k>h&&(h=k),
f<d&&(d=f),f>g&&(g=f);this.Wh=c;this.Xh=h;this.Yh=d;this.Vh=g};b.prototype.De=function(a,c,h){this.Ja.length=8;this.Bc=4;var d=this.Ja;d[0]=a.left-c;d[1]=a.top-h;d[2]=a.right-c;d[3]=a.top-h;d[4]=a.right-c;d[5]=a.bottom-h;d[6]=a.left-c;d[7]=a.bottom-h;this.bi=a.right-a.left;this.ai=a.bottom-a.top;this.aa()};b.prototype.Ce=function(a,c,h,d,g){this.Ja.length=8;this.Bc=4;var k=this.Ja;k[0]=a.xa-c;k[1]=a.ya-h;k[2]=a.$a-c;k[3]=a.ab-h;k[4]=a.Pa-c;k[5]=a.Qa-h;k[6]=a.Na-c;k[7]=a.Oa-h;this.bi=d;this.ai=g;this.aa()};
b.prototype.Ep=function(a){this.Bc=a.Bc;xa(this.Ja,a.Ja);this.Wh=a.Wh;this.Yh-a.Yh;this.Xh=a.Xh;this.Vh=a.Vh};b.prototype.Zd=function(a,c,h){if(this.bi!==a||this.ai!==c||this.sn!==h){this.bi=a;this.ai=c;this.sn=h;var d,g,k,f,x,A=0,B=1,C=this.qp,q=this.Ja;0!==h&&(A=Math.sin(h),B=Math.cos(h));h=0;for(k=this.Bc;h<k;h++)d=2*h,g=d+1,f=C[d]*a,x=C[g]*c,q[d]=f*B-x*A,q[g]=x*B+f*A;this.aa()}};b.prototype.tb=function(a,c){var h=this.Ja;if(a===h[0]&&c===h[1])return!0;var d,g,k,f=this.Bc,x=this.Wh-110,A=this.Yh-
101,B=this.Xh+131,C=this.Vh+120,q,b,n=0,v=0;for(d=0;d<f;d++)g=2*d,k=(d+1)%f*2,q=h[g],g=h[g+1],b=h[k],k=h[k+1],qa(x,A,a,c,q,g,b,k)&&n++,qa(B,C,a,c,q,g,b,k)&&v++;return 1===n%2||1===v%2};b.prototype.Tg=function(a,c,h){var d=a.Ja,g=this.Ja;if(this.tb(d[0]+c,d[1]+h)||a.tb(g[0]-c,g[1]-h))return!0;var k,f,x,A,B,q,b,n,v,e,u,w;k=0;for(A=this.Bc;k<A;k++)for(f=2*k,x=(k+1)%A*2,n=g[f],f=g[f+1],v=g[x],e=g[x+1],x=0,b=a.Bc;x<b;x++)if(B=2*x,q=(x+1)%b*2,u=d[B]+c,B=d[B+1]+h,w=d[q]+c,q=d[q+1]+h,qa(n,f,v,e,u,B,w,q))return!0;
return!1};Za=b;a.prototype.je=function(a,c,h){var d;d=this.cells[a];return d?(d=d[c])?d:h?(d=q(this,a,c),this.cells[a][c]=d):null:h?(d=q(this,a,c),this.cells[a]={},this.cells[a][c]=d):null};a.prototype.Fb=function(a){return Q(a/this.sk)};a.prototype.Gb=function(a){return Q(a/this.rk)};a.prototype.update=function(a,c,h){var d,g,k,f,x;if(c)for(d=c.left,g=c.right;d<=g;++d)for(k=c.top,f=c.bottom;k<=f;++k)if(!h||!h.tb(d,k))if(x=this.je(d,k,!1))x.remove(a),x.Cd()&&(x.hb.clear(),1E3>E.length&&E.push(x),
this.cells[d][k]=null);if(h)for(d=h.left,g=h.right;d<=g;++d)for(k=h.top,f=h.bottom;k<=f;++k)c&&c.tb(d,k)||this.je(d,k,!0).ll(a)};a.prototype.tj=function(a,c){var h,d,g,k,f,x;h=this.Fb(a.left);g=this.Gb(a.top);d=this.Fb(a.right);for(f=this.Gb(a.bottom);h<=d;++h)for(k=g;k<=f;++k)(x=this.je(h,k,!1))&&x.dump(c)};$a=a;f.prototype.je=function(a,c,h){var g;g=this.cells[a];return g?(g=g[c])?g:h?(g=d(this,a,c),this.cells[a][c]=g):null:h?(g=d(this,a,c),this.cells[a]={},this.cells[a][c]=g):null};f.prototype.Fb=
function(a){return Q(a/this.sk)};f.prototype.Gb=function(a){return Q(a/this.rk)};f.prototype.update=function(a,c,h){var d,g,k,f,x;if(c)for(d=c.left,g=c.right;d<=g;++d)for(k=c.top,f=c.bottom;k<=f;++k)if(!h||!h.tb(d,k))if(x=this.je(d,k,!1))x.remove(a),x.Cd()&&(x.reset(),1E3>P.length&&P.push(x),this.cells[d][k]=null);if(h)for(d=h.left,g=h.right;d<=g;++d)for(k=h.top,f=h.bottom;k<=f;++k)c&&c.tb(d,k)||this.je(d,k,!0).ll(a)};f.prototype.tj=function(a,c,h,d,g){var k,f;a=this.Fb(a);c=this.Gb(c);h=this.Fb(h);
for(k=this.Gb(d);a<=h;++a)for(d=c;d<=k;++d)(f=this.je(a,d,!1))&&f.dump(g)};f.prototype.St=function(a){var c,h,d,g,k;c=a.left;d=a.top;h=a.right;for(g=a.bottom;c<=h;++c)for(a=d;a<=g;++a)if(k=this.je(c,a,!1))k.Rf=!1};ab=f;var E=[];c.prototype.Cd=function(){return this.hb.Cd()};c.prototype.ll=function(a){this.hb.add(a)};c.prototype.remove=function(a){this.hb.remove(a)};c.prototype.dump=function(a){ya(a,this.hb.qd())};aa=c;var P=[];k.prototype.Cd=function(){if(!this.hb.length)return!0;if(this.hb.length>
this.ld.count())return!1;this.Mk();return!0};k.prototype.ll=function(a){this.ld.contains(a)?(this.ld.remove(a),this.ld.Cd()&&(this.vg=!1)):this.hb.length?(this.hb[this.hb.length-1].jd()>a.jd()&&(this.Rf=!1),this.hb.push(a)):(this.hb.push(a),this.Rf=!0)};k.prototype.remove=function(a){this.ld.add(a);this.vg=!0;30<=this.ld.count()&&this.Mk()};k.prototype.Mk=function(){this.vg&&(this.ld.count()===this.hb.length?this.reset():(Ta(this.hb,this.ld),this.ld.clear(),this.vg=!1))};k.prototype.cs=function(){this.Rf||
(this.hb.sort(g),this.Rf=!0)};k.prototype.reset=function(){R(this.hb);this.Rf=!0;this.ld.clear();this.vg=!1};k.prototype.dump=function(a){this.Mk();this.cs();this.hb.length&&a.push(this.hb)};da=k;var J="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");bb=function(a){return 0>=a||11<=a?"source-over":J[a-1]};cb=function(a,c,h){if(h)switch(a.zb=h.ONE,a.ub=h.ONE_MINUS_SRC_ALPHA,c){case 1:a.zb=h.ONE;a.ub=h.ONE;break;case 3:a.zb=
h.ONE;a.ub=h.ZERO;break;case 4:a.zb=h.ONE_MINUS_DST_ALPHA;a.ub=h.ONE;break;case 5:a.zb=h.DST_ALPHA;a.ub=h.ZERO;break;case 6:a.zb=h.ZERO;a.ub=h.SRC_ALPHA;break;case 7:a.zb=h.ONE_MINUS_DST_ALPHA;a.ub=h.ZERO;break;case 8:a.zb=h.ZERO;a.ub=h.ONE_MINUS_SRC_ALPHA;break;case 9:a.zb=h.DST_ALPHA;a.ub=h.ONE_MINUS_SRC_ALPHA;break;case 10:a.zb=h.ONE_MINUS_DST_ALPHA,a.ub=h.SRC_ALPHA}};db=function(a){return Math.round(1E6*a)/1E6};eb=function(a,c){return"string"!==typeof a||"string"!==typeof c||a.length!==c.length?
!1:a===c?!0:a.toLowerCase()===c.toLowerCase()};fb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||eb(a.tagName,"canvas")?!0:!1}})();var $b="undefined"!==typeof Float32Array?Float32Array:Array;function ac(e){var p=new $b(3);e&&(p[0]=e[0],p[1]=e[1],p[2]=e[2]);return p}
function bc(e){var p=new $b(16);e&&(p[0]=e[0],p[1]=e[1],p[2]=e[2],p[3]=e[3],p[4]=e[4],p[5]=e[5],p[6]=e[6],p[7]=e[7],p[8]=e[8],p[9]=e[9],p[10]=e[10],p[11]=e[11],p[12]=e[12],p[13]=e[13],p[14]=e[14],p[15]=e[15]);return p}function cc(e,p){p[0]=e[0];p[1]=e[1];p[2]=e[2];p[3]=e[3];p[4]=e[4];p[5]=e[5];p[6]=e[6];p[7]=e[7];p[8]=e[8];p[9]=e[9];p[10]=e[10];p[11]=e[11];p[12]=e[12];p[13]=e[13];p[14]=e[14];p[15]=e[15]}
function dc(e,p){var m=p[0],l=p[1];p=p[2];e[0]*=m;e[1]*=m;e[2]*=m;e[3]*=m;e[4]*=l;e[5]*=l;e[6]*=l;e[7]*=l;e[8]*=p;e[9]*=p;e[10]*=p;e[11]*=p}
function ec(e,p,m,l){l||(l=bc());var r,t,b,a,f,q,c,d,k=e[0],g=e[1];e=e[2];t=m[0];b=m[1];r=m[2];m=p[1];q=p[2];k===p[0]&&g===m&&e===q?(e=l,e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1):(m=k-p[0],q=g-p[1],c=e-p[2],d=1/Math.sqrt(m*m+q*q+c*c),m*=d,q*=d,c*=d,p=b*c-r*q,r=r*m-t*c,t=t*q-b*m,(d=Math.sqrt(p*p+r*r+t*t))?(d=1/d,p*=d,r*=d,t*=d):t=r=p=0,b=q*t-c*r,a=c*p-m*t,f=m*r-q*p,(d=Math.sqrt(b*b+a*a+f*f))?(d=1/d,b*=d,a*=d,f*=d):f=a=b=0,
l[0]=p,l[1]=b,l[2]=m,l[3]=0,l[4]=r,l[5]=a,l[6]=q,l[7]=0,l[8]=t,l[9]=f,l[10]=c,l[11]=0,l[12]=-(p*k+r*g+t*e),l[13]=-(b*k+a*g+f*e),l[14]=-(m*k+q*g+c*e),l[15]=1)}
(function(){function e(a,f,q){this.ne=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.ja=!!q;this.Ii=this.Ug=!1;this.ni=0;this.bk=1;this.Qm=1E3;this.Tu=(this.Qm-this.bk)/32768;this.pk=ac([0,0,100]);this.Do=ac([0,0,0]);this.Yp=ac([0,1,0]);this.Oh=ac([1,1,1]);this.Hn=!0;this.aj=bc();this.lc=bc();this.yl=bc();this.yk=bc();this.u=a;this.version=0===this.u.getParameter(this.u.VERSION).indexOf("WebGL 2")?2:1;this.co()}function p(a,f,q){this.u=a;this.Ah=
f;this.name=q;this.yc=a.getAttribLocation(f,"aPos");this.ye=a.getAttribLocation(f,"aTex");this.Bo=a.getUniformLocation(f,"matP");this.Xi=a.getUniformLocation(f,"matMV");this.Zf=a.getUniformLocation(f,"opacity");this.Kl=a.getUniformLocation(f,"colorFill");this.Co=a.getUniformLocation(f,"samplerFront");this.ih=a.getUniformLocation(f,"samplerBack");this.hf=a.getUniformLocation(f,"destStart");this.gf=a.getUniformLocation(f,"destEnd");this.kh=a.getUniformLocation(f,"seconds");this.Ml=a.getUniformLocation(f,
"pixelWidth");this.Ll=a.getUniformLocation(f,"pixelHeight");this.hh=a.getUniformLocation(f,"layerScale");this.gh=a.getUniformLocation(f,"layerAngle");this.mh=a.getUniformLocation(f,"viewOrigin");this.jh=a.getUniformLocation(f,"scrollPos");this.wt=!!(this.Ml||this.Ll||this.kh||this.ih||this.hf||this.gf||this.hh||this.gh||this.mh||this.jh);this.Lo=this.Mo=-999;this.$i=1;this.Ho=this.Go=0;this.Jo=this.Fo=this.Eo=1;this.Po=this.Oo=this.No=this.Ro=this.Qo=this.Io=0;this.xl=[];this.Ko=bc();this.Zf&&a.uniform1f(this.Zf,
1);this.Kl&&a.uniform4f(this.Kl,1,1,1,1);this.Co&&a.uniform1i(this.Co,0);this.ih&&a.uniform1i(this.ih,1);this.hf&&a.uniform2f(this.hf,0,0);this.gf&&a.uniform2f(this.gf,1,1);this.hh&&a.uniform1f(this.hh,1);this.gh&&a.uniform1f(this.gh,0);this.mh&&a.uniform2f(this.mh,0,0);this.jh&&a.uniform2f(this.jh,0,0);this.kh&&a.uniform1f(this.kh,0);this.Ve=!1}function m(a,f){return a[0]===f[0]&&a[1]===f[1]&&a[2]===f[2]&&a[3]===f[3]&&a[4]===f[4]&&a[5]===f[5]&&a[6]===f[6]&&a[7]===f[7]&&a[8]===f[8]&&a[9]===f[9]&&
a[10]===f[10]&&a[11]===f[11]&&a[12]===f[12]&&a[13]===f[13]&&a[14]===f[14]&&a[15]===f[15]}function l(a,f){this.type=a;this.k=f;this.u=f.u;this.Nb=this.qb=this.ip=0;this.P=this.Fc=null;this.Gp=[]}var r=bc();e.prototype.co=function(){var a=this.u,f;this.vo=1;this.Ze=this.te=null;this.mi=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.ja?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):
a.disable(a.DEPTH_TEST);this.wo=a.ONE;this.ro=a.ONE_MINUS_SRC_ALPHA;this.Nh=new Float32Array(8E3*(this.ja?3:2));this.Gh=new Float32Array(16E3);this.am=new Float32Array(32E3);this.$l=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.$l);a.bufferData(a.ARRAY_BUFFER,this.am.byteLength,a.DYNAMIC_DRAW);this.Mh=Array(4);this.Fh=Array(4);for(f=0;4>f;f++)this.Mh[f]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Mh[f]),a.bufferData(a.ARRAY_BUFFER,this.Nh.byteLength,a.DYNAMIC_DRAW),this.Fh[f]=a.createBuffer(),
a.bindBuffer(a.ARRAY_BUFFER,this.Fh[f]),a.bufferData(a.ARRAY_BUFFER,this.Gh.byteLength,a.DYNAMIC_DRAW);this.td=0;this.yt=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.yt);for(var q=new Uint16Array(12E3),c=f=0;12E3>f;)q[f++]=c,q[f++]=c+1,q[f++]=c+2,q[f++]=c,q[f++]=c+2,q[f++]=c+3,c+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,q,a.STATIC_DRAW);this.eg=this.Ge=this.Ic=0;this.Ea=[];f=this.ja?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";q=this.Ag({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},f,"<default>");this.Ea.push(q);q=this.Ag({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Ea.push(q);q=this.Ag({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},f,"<earlyz>");this.Ea.push(q);q=this.Ag({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
f,"<fill>");this.Ea.push(q);for(var d in fc)fc.hasOwnProperty(d)&&this.Ea.push(this.Ag(fc[d],f,d));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Mc=[];this.uc=0;this.nb=this.Ta=!1;this.Dn=this.ah=-1;this.Ef=null;this.Lk=a.createFramebuffer();this.pi=this.vj=null;this.mn=!1;this.ja&&(this.pi=a.createRenderbuffer());this.Ie=ac([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.Vt=a[0];this.Ol=a[1];2048<this.Ol&&(this.Ol=2048);this.Sb(0)};p.prototype.Lm=function(a){m(this.Ko,
a)||(cc(a,this.Ko),this.u.uniformMatrix4fv(this.Xi,!1,a))};e.prototype.Ag=function(a,f,q){var c=this.u,d=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(d,a.src);c.compileShader(d);if(!c.getShaderParameter(d,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(d),c.deleteShader(d),Error("error compiling fragment shader: "+a);var k=c.createShader(c.VERTEX_SHADER);c.shaderSource(k,f);c.compileShader(k);if(!c.getShaderParameter(k,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(k),c.deleteShader(d),c.deleteShader(k),
Error("error compiling vertex shader: "+a);f=c.createProgram();c.attachShader(f,d);c.attachShader(f,k);c.linkProgram(f);if(!c.getProgramParameter(f,c.LINK_STATUS))throw a=c.getProgramInfoLog(f),c.deleteShader(d),c.deleteShader(k),c.deleteProgram(f),Error("error linking shader program: "+a);c.useProgram(f);c.deleteShader(d);c.deleteShader(k);d=new p(c,f,q);d.Jk=a.Jk||0;d.Kk=a.Kk||0;d.Cn=!!a.Cn;d.Vc=!!a.Vc;d.kn=!!a.kn;d.Q=a.Q||[];a=0;for(k=d.Q.length;a<k;a++)d.Q[a][1]=c.getUniformLocation(f,d.Q[a][0]),
d.xl.push(0),c.uniform1f(d.Q[a][1],0);return d};e.prototype.$k=function(a){var f,q;f=0;for(q=this.Ea.length;f<q;f++)if(this.Ea[f].name===a)return f;return-1};e.prototype.pp=function(a,f,q){var c=this.lc,d=this.aj,k=[0,0,0,0,0,0,0,0];k[0]=c[0]*a+c[4]*f+c[12];k[1]=c[1]*a+c[5]*f+c[13];k[2]=c[2]*a+c[6]*f+c[14];k[3]=c[3]*a+c[7]*f+c[15];k[4]=d[0]*k[0]+d[4]*k[1]+d[8]*k[2]+d[12]*k[3];k[5]=d[1]*k[0]+d[5]*k[1]+d[9]*k[2]+d[13]*k[3];k[6]=d[2]*k[0]+d[6]*k[1]+d[10]*k[2]+d[14]*k[3];k[7]=-k[2];0!==k[7]&&(k[7]=1/
k[7],k[4]*=k[7],k[5]*=k[7],k[6]*=k[7],q[0]=(.5*k[4]+.5)*this.width,q[1]=(.5*k[5]+.5)*this.height)};e.prototype.tf=function(a,f,q){if(this.width!==a||this.height!==f||q){this.gd();q=this.u;this.width=a;this.height=f;q.viewport(0,0,a,f);ec(this.pk,this.Do,this.Yp,this.lc);if(this.ja){var c=-a/2;a=a/2;var d=f/2;f=-f/2;var k=this.bk,g=this.Qm,b=this.aj;b||(b=bc());var e=a-c,l=f-d,h=g-k;b[0]=2/e;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=2/l;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=-2/h;b[11]=0;b[12]=-(c+a)/e;b[13]=-(f+
d)/l;b[14]=-(g+k)/h;b[15]=1;this.Oh[0]=1;this.Oh[1]=1}else f=a/f,c=this.bk,a=this.Qm,b=this.aj,g=c*Math.tan(45*Math.PI/360),f*=g,d=-f,k=-g,b||(b=bc()),e=f-d,l=g-k,h=a-c,b[0]=2*c/e,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=2*c/l,b[6]=0,b[7]=0,b[8]=(f+d)/e,b[9]=(g+k)/l,b[10]=-(a+c)/h,b[11]=-1,b[12]=0,b[13]=0,b[14]=-(a*c*2)/h,b[15]=0,c=[0,0],a=[0,0],this.pp(0,0,c),this.pp(1,1,a),this.Oh[0]=1/(a[0]-c[0]),this.Oh[1]=-1/(a[1]-c[1]);c=0;for(a=this.Ea.length;c<a;c++)d=this.Ea[c],d.Ve=!1,d.Bo&&(q.useProgram(d.Ah),
q.uniformMatrix4fv(d.Bo,!1,this.aj));q.useProgram(this.Ea[this.ah].Ah);q.bindTexture(q.TEXTURE_2D,null);q.activeTexture(q.TEXTURE1);q.bindTexture(q.TEXTURE_2D,null);q.activeTexture(q.TEXTURE0);this.Ze=this.te=null;this.pi&&(q.bindFramebuffer(q.FRAMEBUFFER,this.Lk),q.bindRenderbuffer(q.RENDERBUFFER,this.pi),q.renderbufferStorage(q.RENDERBUFFER,q.DEPTH_COMPONENT16,this.width,this.height),this.mn||(q.framebufferRenderbuffer(q.FRAMEBUFFER,q.DEPTH_ATTACHMENT,q.RENDERBUFFER,this.pi),this.mn=!0),q.bindRenderbuffer(q.RENDERBUFFER,
null),q.bindFramebuffer(q.FRAMEBUFFER,null),this.vj=null)}};e.prototype.Cc=function(){ec(this.pk,this.Do,this.Yp,this.lc);dc(this.lc,this.Oh)};e.prototype.translate=function(a,f){if(0!==a||0!==f){this.Ie[0]=a;this.Ie[1]=f;this.Ie[2]=0;var b=this.lc,c=this.Ie,d=c[0],k=c[1],c=c[2];b[12]=b[0]*d+b[4]*k+b[8]*c+b[12];b[13]=b[1]*d+b[5]*k+b[9]*c+b[13];b[14]=b[2]*d+b[6]*k+b[10]*c+b[14];b[15]=b[3]*d+b[7]*k+b[11]*c+b[15]}};e.prototype.scale=function(a,f){if(1!==a||1!==f)this.Ie[0]=a,this.Ie[1]=f,this.Ie[2]=
1,dc(this.lc,this.Ie)};e.prototype.xj=function(a){if(0!==a){var f=this.lc,b,c=Math.sin(a);a=Math.cos(a);var d=f[0],k=f[1],g=f[2],e=f[3],y=f[4],l=f[5],h=f[6],n=f[7];b?f!==b&&(b[8]=f[8],b[9]=f[9],b[10]=f[10],b[11]=f[11],b[12]=f[12],b[13]=f[13],b[14]=f[14],b[15]=f[15]):b=f;b[0]=d*a+y*c;b[1]=k*a+l*c;b[2]=g*a+h*c;b[3]=e*a+n*c;b[4]=d*-c+y*a;b[5]=k*-c+l*a;b[6]=g*-c+h*a;b[7]=e*-c+n*a}};e.prototype.qc=function(){if(!m(this.yl,this.lc)){var a=this.Db();a.type=5;a.P?cc(this.lc,a.P):a.P=bc(this.lc);cc(this.lc,
this.yl);this.nb=this.Ta=!1}};e.prototype.Bj=function(a){this.ja&&(32760<a&&(a=32760),this.ni=this.pk[2]-this.bk-a*this.Tu)};l.prototype.Nr=function(){var a=this.u,f=this.k;0!==this.qb?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,f.Lk),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),f.Ii=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),f.Ii=
!1)};l.prototype.Rr=function(){this.u.bindTexture(this.u.TEXTURE_2D,this.Fc)};l.prototype.Sr=function(){var a=this.u;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Fc);a.activeTexture(a.TEXTURE0)};l.prototype.Or=function(){var a=this.ip,f=this.k;f.mi=a;f=f.Ef;f.Zf&&f.$i!==a&&(f.$i=a,this.u.uniform1f(f.Zf,a))};l.prototype.Ir=function(){this.u.drawElements(this.u.TRIANGLES,this.Nb,this.u.UNSIGNED_SHORT,this.qb)};l.prototype.Kr=function(){this.u.blendFunc(this.qb,this.Nb)};l.prototype.Tr=
function(){var a,f,b,c=this.k.Ea,d=this.k.Dn;a=0;for(f=c.length;a<f;a++)b=c[a],a===d&&b.Xi?(b.Lm(this.P),b.Ve=!0):b.Ve=!1;cc(this.P,this.k.yk)};l.prototype.Jr=function(){var a=this.u,f=this.k;this.Fc?(f.Ze===this.Fc&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),f.Ze=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,f.Lk),f.Ii||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Fc,0)):(f.ja||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,
a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};l.prototype.Fr=function(){var a=this.u,f=this.qb;0===f?(a.clearColor(this.P[0],this.P[1],this.P[2],this.P[3]),a.clear(a.COLOR_BUFFER_BIT)):1===f?(a.enable(a.SCISSOR_TEST),a.scissor(this.P[0],this.P[1],this.P[2],this.P[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};l.prototype.Mr=function(){var a=this.u;0!==this.qb?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};l.prototype.Hr=
function(){var a=this.u,f=this.k;f.ja&&a.disable(a.DEPTH_TEST);var b=f.Ea[1];a.useProgram(b.Ah);!b.Ve&&b.Xi&&(b.Lm(f.yk),b.Ve=!0);a.enableVertexAttribArray(b.yc);a.bindBuffer(a.ARRAY_BUFFER,f.$l);a.vertexAttribPointer(b.yc,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.qb/4,this.Nb);b=f.Ef;a.useProgram(b.Ah);0<=b.yc&&(a.enableVertexAttribArray(b.yc),a.bindBuffer(a.ARRAY_BUFFER,f.Mh[f.td]),a.vertexAttribPointer(b.yc,f.ja?3:2,a.FLOAT,!1,0,0));0<=b.ye&&(a.enableVertexAttribArray(b.ye),a.bindBuffer(a.ARRAY_BUFFER,
f.Fh[f.td]),a.vertexAttribPointer(b.ye,2,a.FLOAT,!1,0,0));f.ja&&a.enable(a.DEPTH_TEST)};l.prototype.Pr=function(){var a=this.u,f=this.k,b=f.Ea[this.qb];f.Dn=this.qb;f.Ef=b;a.useProgram(b.Ah);!b.Ve&&b.Xi&&(b.Lm(f.yk),b.Ve=!0);b.Zf&&b.$i!==f.mi&&(b.$i=f.mi,a.uniform1f(b.Zf,f.mi));0<=b.yc&&(a.enableVertexAttribArray(b.yc),a.bindBuffer(a.ARRAY_BUFFER,f.Mh[f.td]),a.vertexAttribPointer(b.yc,f.ja?3:2,a.FLOAT,!1,0,0));0<=b.ye&&(a.enableVertexAttribArray(b.ye),a.bindBuffer(a.ARRAY_BUFFER,f.Fh[f.td]),a.vertexAttribPointer(b.ye,
2,a.FLOAT,!1,0,0))};l.prototype.Lr=function(){var a=this.P;this.u.uniform4f(this.k.Ef.Kl,a[0],a[1],a[2],a[3])};l.prototype.Qr=function(){var a,f,b=this.k.Ef,c=this.u;a=this.P;b.ih&&this.k.Ze!==this.Fc&&(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,this.Fc),this.k.Ze=this.Fc,c.activeTexture(c.TEXTURE0));var d=a[0];b.Ml&&d!==b.Mo&&(b.Mo=d,c.uniform1f(b.Ml,d));d=a[1];b.Ll&&d!==b.Lo&&(b.Lo=d,c.uniform1f(b.Ll,d));d=a[2];f=a[3];!b.hf||d===b.Go&&f===b.Ho||(b.Go=d,b.Ho=f,c.uniform2f(b.hf,d,f));
d=a[4];f=a[5];!b.gf||d===b.Eo&&f===b.Fo||(b.Eo=d,b.Fo=f,c.uniform2f(b.gf,d,f));d=a[6];b.hh&&d!==b.Jo&&(b.Jo=d,c.uniform1f(b.hh,d));d=a[7];b.gh&&d!==b.Io&&(b.Io=d,c.uniform1f(b.gh,d));d=a[8];f=a[9];!b.mh||d===b.Qo&&f===b.Ro||(b.Qo=d,b.Ro=f,c.uniform2f(b.mh,d,f));d=a[10];f=a[11];!b.jh||d===b.No&&f===b.Oo||(b.No=d,b.Oo=f,c.uniform2f(b.jh,d,f));d=a[12];b.kh&&d!==b.Po&&(b.Po=d,c.uniform1f(b.kh,d));if(b.Q.length)for(a=0,f=b.Q.length;a<f;a++)d=this.Gp[a],d!==b.xl[a]&&(b.xl[a]=d,c.uniform1f(b.Q[a][1],d))};
e.prototype.Db=function(){this.uc===this.Mc.length&&this.Mc.push(new l(0,this));return this.Mc[this.uc++]};e.prototype.gd=function(){if(0!==this.uc&&!this.u.isContextLost()){var a=this.u;0<this.eg&&(a.bindBuffer(a.ARRAY_BUFFER,this.$l),a.bufferSubData(a.ARRAY_BUFFER,0,this.am.subarray(0,this.eg)),b&&0<=b.yc&&"<point>"===b.name&&a.vertexAttribPointer(b.yc,4,a.FLOAT,!1,0,0));if(0<this.Ic){var b=this.Ef;a.bindBuffer(a.ARRAY_BUFFER,this.Mh[this.td]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Nh.subarray(0,
this.Ic));b&&0<=b.yc&&"<point>"!==b.name&&a.vertexAttribPointer(b.yc,this.ja?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Fh[this.td]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Gh.subarray(0,this.Ge));b&&0<=b.ye&&"<point>"!==b.name&&a.vertexAttribPointer(b.ye,2,a.FLOAT,!1,0,0)}for(var e,a=0,b=this.uc;a<b;a++)switch(e=this.Mc[a],e.type){case 1:e.Ir();break;case 2:e.Rr();break;case 3:e.Or();break;case 4:e.Kr();break;case 5:e.Tr();break;case 6:e.Jr();break;case 7:e.Fr();break;case 8:e.Hr();break;
case 9:e.Pr();break;case 10:e.Qr();break;case 11:e.Sr();break;case 12:e.Lr();break;case 13:e.Mr();break;case 14:e.Nr()}this.eg=this.Ge=this.Ic=this.uc=0;this.Ii=this.nb=this.Ta=!1;this.td++;4<=this.td&&(this.td=0)}};e.prototype.Id=function(a){if(a!==this.vo&&!this.Ug){var b=this.Db();b.type=3;this.vo=b.ip=a;this.nb=this.Ta=!1}};e.prototype.La=function(a){if(a!==this.te){var b=this.Db();b.type=2;this.te=b.Fc=a;this.nb=this.Ta=!1}};e.prototype.Be=function(a,b){if((a!==this.wo||b!==this.ro)&&!this.Ug){var e=
this.Db();e.type=4;e.qb=a;e.Nb=b;this.wo=a;this.ro=b;this.nb=this.Ta=!1}};e.prototype.yp=function(){this.Be(this.u.ONE,this.u.ONE_MINUS_SRC_ALPHA)};e.prototype.Ae=function(a,b,e,c,d,k,g,u){15992<=this.Ic&&this.gd();var y=this.Ic,l=this.Ge,h=this.Nh,n=this.Gh,w=this.ni;if(this.Ta)this.Mc[this.uc-1].Nb+=6;else{var p=this.Db();p.type=1;p.qb=this.ja?y:y/2*3;p.Nb=6;this.Ta=!0;this.nb=!1}this.ja?(h[y++]=a,h[y++]=b,h[y++]=w,h[y++]=e,h[y++]=c,h[y++]=w,h[y++]=d,h[y++]=k,h[y++]=w,h[y++]=g,h[y++]=u,h[y++]=w):
(h[y++]=a,h[y++]=b,h[y++]=e,h[y++]=c,h[y++]=d,h[y++]=k,h[y++]=g,h[y++]=u);n[l++]=0;n[l++]=0;n[l++]=1;n[l++]=0;n[l++]=1;n[l++]=1;n[l++]=0;n[l++]=1;this.Ic=y;this.Ge=l};e.prototype.Hd=function(a,b,e,c,d,k,g,u,y){15992<=this.Ic&&this.gd();var l=this.Ic,h=this.Ge,n=this.Nh,w=this.Gh,p=this.ni;if(this.Ta)this.Mc[this.uc-1].Nb+=6;else{var v=this.Db();v.type=1;v.qb=this.ja?l:l/2*3;v.Nb=6;this.Ta=!0;this.nb=!1}var v=y.left,H=y.top,r=y.right;y=y.bottom;this.ja?(n[l++]=a,n[l++]=b,n[l++]=p,n[l++]=e,n[l++]=c,
n[l++]=p,n[l++]=d,n[l++]=k,n[l++]=p,n[l++]=g,n[l++]=u,n[l++]=p):(n[l++]=a,n[l++]=b,n[l++]=e,n[l++]=c,n[l++]=d,n[l++]=k,n[l++]=g,n[l++]=u);w[h++]=v;w[h++]=H;w[h++]=r;w[h++]=H;w[h++]=r;w[h++]=y;w[h++]=v;w[h++]=y;this.Ic=l;this.Ge=h};e.prototype.sp=function(a,b,e,c,d,k,g,u,l,p,h,n,w){15992<=this.Ic&&this.gd();var r=this.Ic,v=this.Ge,H=this.Nh,m=this.Gh,E=this.ni;if(this.Ta)this.Mc[this.uc-1].Nb+=6;else{var t=this.Db();t.type=1;t.qb=this.ja?r:r/2*3;t.Nb=6;this.Ta=!0;this.nb=!1}this.ja?(H[r++]=a,H[r++]=
b,H[r++]=E,H[r++]=e,H[r++]=c,H[r++]=E,H[r++]=d,H[r++]=k,H[r++]=E,H[r++]=g,H[r++]=u,H[r++]=E):(H[r++]=a,H[r++]=b,H[r++]=e,H[r++]=c,H[r++]=d,H[r++]=k,H[r++]=g,H[r++]=u);m[v++]=l;m[v++]=p;m[v++]=h;m[v++]=0;m[v++]=n;m[v++]=0;m[v++]=w;m[v++]=0;this.Ic=r;this.Ge=v};e.prototype.zn=function(a){var b=a.length/2-2,e=b-1,c=a[0],d=a[1],k,g,l,y,p,h,n;for(k=0;k<b;k+=2)g=2*k,l=a[g+2],y=a[g+3],p=a[g+4],h=a[g+5],k===e?this.Ae(c,d,l,y,p,h,p,h):(n=a[g+6],g=a[g+7],this.Ae(c,d,l,y,p,h,n,g))};e.prototype.hu=function(a,
b,e,c){7996<=this.eg&&this.gd();var d=this.eg,k=this.am;if(this.nb)this.Mc[this.uc-1].Nb++;else{var g=this.Db();g.type=8;g.qb=d;g.Nb=1;this.nb=!0;this.Ta=!1}k[d++]=a;k[d++]=b;k[d++]=e;k[d++]=c;this.eg=d};e.prototype.Sb=function(a){if(this.ah!==a){if(!this.Ea[a]){if(0===this.ah)return;a=0}var b=this.Db();b.type=9;this.ah=b.qb=a;this.nb=this.Ta=!1}};e.prototype.vh=function(a){a=this.Ea[a];return!(!a.hf&&!a.gf)};e.prototype.em=function(a){a=this.Ea[a];return!!(a.hf||a.gf||a.Cn)};e.prototype.cm=function(a){return this.Ea[a].Vc};
e.prototype.pu=function(a){a=this.Ea[a];return 0!==a.Jk||0!==a.Kk};e.prototype.Zs=function(a){return this.Ea[a].Jk};e.prototype.$s=function(a){return this.Ea[a].Kk};e.prototype.bt=function(a,b){return this.Ea[a].Q[b][2]};e.prototype.pj=function(a){return this.Ea[a].kn};e.prototype.jg=function(a,b,e,c,d,k,g,l,y,p,h,n,w,r,v){var H=this.Ea[this.ah],m,E;if(H.wt||v.length){m=this.Db();m.type=10;m.P?cc(this.lc,m.P):m.P=bc();E=m.P;E[0]=b;E[1]=e;E[2]=c;E[3]=d;E[4]=k;E[5]=g;E[6]=l;E[7]=y;E[8]=p;E[9]=h;E[10]=
n;E[11]=w;E[12]=r;H.ih?m.Fc=a:m.Fc=null;if(v.length)for(e=m.Gp,e.length=v.length,a=0,b=v.length;a<b;a++)e[a]=v[a];this.nb=this.Ta=!1}};e.prototype.clear=function(a,b,e,c){var d=this.Db();d.type=7;d.qb=0;d.P||(d.P=bc());d.P[0]=a;d.P[1]=b;d.P[2]=e;d.P[3]=c;this.nb=this.Ta=!1};e.prototype.clearRect=function(a,b,e,c){if(!(0>e||0>c)){var d=this.Db();d.type=7;d.qb=1;d.P||(d.P=bc());d.P[0]=a;d.P[1]=b;d.P[2]=e;d.P[3]=c;this.nb=this.Ta=!1}};e.prototype.Bp=function(a){if(this.ja&&(a=!!a,this.Ug!==a)){var b=
this.Db();b.type=14;b.qb=a?1:0;this.nb=this.Ta=!1;this.Ug=a;this.vj=null;this.Ug?this.Sb(2):this.Sb(0)}};e.prototype.Ap=function(a){if(this.ja){var b=this.Db();b.type=13;b.qb=a?1:0;this.nb=this.Ta=!1}};e.prototype.On=function(){cc(this.yl,r);this.Cc();this.qc();var a=this.width/2,b=this.height/2;this.Ae(-a,b,a,b,a,-b,-a,-b);cc(r,this.lc);this.qc()};e.prototype.zp=function(a,b,e){this.Sb(3);var c=this.Db();c.type=12;c.P||(c.P=bc());c.P[0]=a;c.P[1]=b;c.P[2]=e;c.P[3]=1;this.nb=this.Ta=!1};e.prototype.Fu=
function(){this.Sb(0)};e.prototype.uu=function(){this.Sb(2)};e.prototype.ou=function(){this.gd();this.u.flush()};var t=[],b={};e.prototype.sr=function(){R(t);b={}};e.prototype.Yf=function(a,f,e,c){f=!!f;e=!!e;var d=a.src+","+f+","+e+(f?",undefined":""),k=null;if("undefined"!==typeof a.src&&b.hasOwnProperty(d))return k=b[d],k.$h++,k;this.gd();var g=this.u,l=ia(a.width)&&ia(a.height),k=g.createTexture();g.bindTexture(g.TEXTURE_2D,k);g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var y=g.RGBA,p=
g.RGBA,h=g.UNSIGNED_BYTE;if(c&&!this.ne)switch(c){case 1:p=y=g.RGB;break;case 2:h=g.UNSIGNED_SHORT_4_4_4_4;break;case 3:h=g.UNSIGNED_SHORT_5_5_5_1;break;case 4:p=y=g.RGB,h=g.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!l&&f){c=document.createElement("canvas");c.width=ja(a.width);c.height=ja(a.height);var n=c.getContext("2d");"undefined"!==typeof n.imageSmoothingEnabled?n.imageSmoothingEnabled=e:(n.webkitImageSmoothingEnabled=e,n.mozImageSmoothingEnabled=e,n.msImageSmoothingEnabled=e);n.drawImage(a,
0,0,a.width,a.height,0,0,c.width,c.height);g.texImage2D(g.TEXTURE_2D,0,y,p,h,c)}else g.texImage2D(g.TEXTURE_2D,0,y,p,h,a);f?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.REPEAT),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.REPEAT)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE));e?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR),(l||2<=this.version)&&this.Hn?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,
g.LINEAR_MIPMAP_LINEAR),g.generateMipmap(g.TEXTURE_2D)):g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.NEAREST),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.NEAREST));g.bindTexture(g.TEXTURE_2D,null);this.te=null;k.Pe=a.width;k.Oe=a.height;k.$h=1;k.rn=d;t.push(k);return b[d]=k};e.prototype.Ib=function(a,b,e,c,d){this.gd();var k=this.u;this.ne&&(c=!1);var g=k.createTexture();k.bindTexture(k.TEXTURE_2D,g);k.texImage2D(k.TEXTURE_2D,
0,k.RGBA,a,b,0,k.RGBA,c?k.UNSIGNED_SHORT_4_4_4_4:k.UNSIGNED_BYTE,null);d?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,e?k.LINEAR:k.NEAREST);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,e?k.LINEAR:k.NEAREST);k.bindTexture(k.TEXTURE_2D,null);this.te=null;
g.Pe=a;g.Oe=b;t.push(g);return g};e.prototype.Pm=function(a,b,e){this.gd();var c=this.u;this.ne&&(e=!1);c.bindTexture(c.TEXTURE_2D,b);c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,e?c.UNSIGNED_SHORT_4_4_4_4:c.UNSIGNED_BYTE,a)}catch(d){console&&console.error&&console.error("Error updating WebGL texture: ",d)}c.bindTexture(c.TEXTURE_2D,null);this.te=null};e.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.$h&&1<a.$h?a.$h--:(this.gd(),
a===this.te&&(this.u.bindTexture(this.u.TEXTURE_2D,null),this.te=null),a===this.Ze&&(this.u.activeTexture(this.u.TEXTURE1),this.u.bindTexture(this.u.TEXTURE_2D,null),this.u.activeTexture(this.u.TEXTURE0),this.Ze=null),Ca(t,a),"undefined"!==typeof a.rn&&delete b[a.rn],this.u.deleteTexture(a)))};e.prototype.Dc=function(a){if(a!==this.vj){var b=this.Db();b.type=6;this.vj=b.Fc=a;this.nb=this.Ta=!1}};gb=e})();
(function(){function e(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var c=this;this.xc=(this.ol=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.me=!!a.dc;this.Et="undefined"!==typeof window.AppMobi||
this.me;this.wc=!!window.c2cocoonjs;this.Rc=!!window.c2ejecta;this.wc&&(CocoonJS.App.onSuspended.addEventListener(function(){c.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){c.setSuspended(!1)}));this.Rc&&(document.addEventListener("pagehide",function(){c.setSuspended(!0)}),document.addEventListener("pageshow",function(){c.setSuspended(!1)}),document.addEventListener("resize",function(){c.setSize(window.innerWidth,window.innerHeight)}));this.Va=this.me||this.wc||this.Rc;this.Ji=
/edge\//i.test(navigator.userAgent);this.ne=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Ji;this.lo=/tizen/i.test(navigator.userAgent);this.nl=/android/i.test(navigator.userAgent)&&!this.lo&&!this.ne&&!this.Ji;this.qo=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.ne&&!this.Ji;this.Ot=/ipad/i.test(navigator.userAgent);this.Ni=this.qo||this.Ot||this.Rc;this.Gt=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.ne&&!this.Ji;this.Dt=/amazonwebappplatform/i.test(navigator.userAgent);this.It=/firefox/i.test(navigator.userAgent);this.rl="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.oo=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Mt=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Yg=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.ul=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.no=!!window.cr_windows10;this.Kt=this.oo||this.Mt||this.ul||this.no;this.Ft=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.ko=this.nl&&!this.Gt&&!this.ol&&!this.It&&!this.Dt&&!this.Va;this.devicePixelRatio=1;this.pe=this.xc||this.ol||this.Et||this.wc||this.nl||this.Ni||this.Yg||this.ul||this.Ft||this.lo||this.Rc;this.pe||
(this.pe=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.mo=!!(this.Ni&&this.xc&&window.webkit);"undefined"===typeof cr_is_preview||this.rl||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.rl=!0);this.canvas=a;this.tn=document.getElementById("c2canvasdiv");this.k=this.u=null;this.al="(unavailable)";this.ja=!1;this.Se=0;this.Ba=null;this.vi=!1;this.cp=this.dp=
0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.ontouchstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.me&&(window.c2runtime=this);this.rl&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.ko&&"undefined"!==
typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.I=this.width;this.H=this.height;this.ki=this.width;this.Cg=this.height;this.Vf=window.innerWidth;this.Uf=window.innerHeight;this.ca=!0;this.Wg=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.n=[];this.Aa=[];this.El={};this.Tc=[];this.Ik={};this.xd=[];this.tg=[];this.Tj=[];this.er=[];this.fr=[];this.um=this.Mp=null;this.Qe={};this.ql=this.ke=!1;
this.Sc=0;this.pl=this.tl=!1;this.Oc=[];this.Vg=!1;this.Ui=this.pm="";this.Xa=null;this.Dd="";this.Eh=this.Ip=!1;this.ti=[];this.Re=this.Hf=0;this.Wo=30;this.wk=this.nh=0;this.og=1;this.ac=new Wa;this.Zj=new Wa;this.dj=this.Ai=this.Fg=this.Gc=this.bf=this.Nk=this.Pi=0;this.tk=null;this.Dk=[];this.Hk=[];this.ri=-1;this.Nl=[[]];this.Hm=this.Yi=0;this.rj(null);this.Gg=this.Zo=this.ph=0;this.Mj=[];this.Em=this.hm=-1;this.Oi=!0;this.Wi=0;this.Ki=!1;this.Iu=0;this.yg=null;this.oe=this.Zn=!1;this.bp=new ba;
this.Tl=new ba;this.Ul=new ba;this.sf=[];this.Zc=new Za([]);this.Cm=new Za([]);this.Af=[];this.Pg={};this.ee={};this.Wd={};this.sg={};this.nn={};this.zo=this.Ti=this.Ia=this.Wa=this.yo=this.Si=this.ka=null;this.qg=this.wl=!1;this.Pk=[null,null];this.Mf=0;this.Gd={};this.Ch=this.we=null;this.Kp="";this.cj=[];this.tu()}}function p(a,c){return 128>=c?a[3]:256>=c?a[2]:512>=c?a[1]:a[0]}function m(){try{return!!window.indexedDB}catch(a){return!1}}function l(a){a.target.result.createObjectStore("saves",
{keyPath:"slot"})}function r(a,c,h,d){try{var b=indexedDB.open("_C2SaveStates");b.onupgradeneeded=l;b.onerror=d;b.onsuccess=function(b){b=b.target.result;b.onerror=d;b.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=h}}catch(g){d(g)}}function t(a,c,h){try{var d=indexedDB.open("_C2SaveStates");d.onupgradeneeded=l;d.onerror=h;d.onsuccess=function(d){d=d.target.result;d.onerror=h;var b=d.transaction(["saves"]).objectStore("saves").get(a);b.onsuccess=function(){b.result?
c(b.result.data):c(null)}}}catch(b){h(b)}}function b(){ea("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var c,h={};for(c in a)!a.hasOwnProperty(c)||a[c]instanceof ba||a[c]&&"undefined"!==typeof a[c].Xv||"spriteCreatedDestroyCallback"!==c&&(h[c]=a[c]);return h}var f=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;e.prototype.tu=function(){var a=this;if(this.mo)this.Ms(function(c){a.fh(JSON.parse(c))},function(){alert("Error fetching data.js")});else{var c;this.Yg?c=new ActiveXObject("Microsoft.XMLHTTP"):c=new XMLHttpRequest;var h="data.js";if(this.oo||this.Yg||this.ul||this.no)h="data.json";c.open("GET",h,!0);var d=!1;if(!this.Va&&"response"in c&&"responseType"in c)try{c.responseType="json",d="json"===c.responseType}catch(b){d=!1}if(!d&&"responseType"in
c)try{c.responseType="text"}catch(g){}if("overrideMimeType"in c)try{c.overrideMimeType("application/json; charset=utf-8")}catch(k){}this.Yg?c.onreadystatechange=function(){4===c.readyState&&a.fh(JSON.parse(c.responseText))}:(c.onload=function(){if(d)a.fh(c.response);else if(a.Rc){var h=c.responseText,h=h.substr(h.indexOf("{"));a.fh(JSON.parse(h))}else a.fh(JSON.parse(c.responseText))},c.onerror=function(a){fa("Error requesting "+h+":");fa(a)});c.send()}};e.prototype.zt=function(){var a=this,c,h,d,
b,g,k,f,e,n;this.Ye=(!this.Va||this.Rc||this.xc)&&this.Pu&&!this.ko;0===this.Jb&&this.Ni&&(this.Ye=!1);this.devicePixelRatio=this.Ye?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.rb();0<this.Jb&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(c){c.preventDefault();a.Yt();ea("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",
function(){a.k.co();a.k.tf(a.k.width,a.k.height,!0);a.Wa=null;a.Ia=null;a.Pk[0]=null;a.Pk[1]=null;a.Zt();a.ca=!0;ea("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.as&&(this.wc||this.Rc||!this.Va)&&(c={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.nl||(this.u=this.canvas.getContext("webgl2",c)),this.u||(this.u=this.canvas.getContext("webgl",c)||this.canvas.getContext("experimental-webgl",c)))}catch(v){}if(this.u){if(c=
this.u.getExtension("WEBGL_debug_renderer_info"))this.al=this.u.getParameter(c.UNMASKED_RENDERER_WEBGL)+" ["+this.u.getParameter(c.UNMASKED_VENDOR_WEBGL)+"]";this.ja&&(this.al+=" [front-to-back enabled]");this.Va||(this.ob=document.createElement("canvas"),jQuery(this.ob).appendTo(this.canvas.parentNode),this.ob.oncontextmenu=function(){return!1},this.ob.onselectstart=function(){return!1},this.ob.width=Math.round(this.ki*this.devicePixelRatio),this.ob.height=Math.round(this.Cg*this.devicePixelRatio),
jQuery(this.ob).css({width:this.ki+"px",height:this.Cg+"px"}),this.op(),this.Zl=this.ob.getContext("2d"));this.k=new gb(this.u,this.pe,this.ja);this.k.tf(this.canvas.width,this.canvas.height);this.k.Hn=0!==this.Ur;this.Ba=null;c=0;for(h=this.n.length;c<h;c++)for(g=this.n[c],d=0,b=g.L.length;d<b;d++)f=g.L[d],f.Ma=this.k.$k(f.id),f.Vc=this.k.cm(f.Ma),this.qg=this.qg||this.k.vh(f.Ma);c=0;for(h=this.Tc.length;c<h;c++){e=this.Tc[c];d=0;for(b=e.L.length;d<b;d++)f=e.L[d],f.Ma=this.k.$k(f.id),f.Vc=this.k.cm(f.Ma);
e.ad();d=0;for(b=e.N.length;d<b;d++){n=e.N[d];g=0;for(k=n.L.length;g<k;g++)f=n.L[g],f.Ma=this.k.$k(f.id),f.Vc=this.k.cm(f.Ma),this.qg=this.qg||this.k.vh(f.Ma);n.ad()}}}else{if(0<this.Jb&&this.me){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Ba=AppMobi.canvas.getContext("2d");try{this.Ba.samplingMode=this.la?"smooth":"sharp",this.Ba.globalScale=1,this.Ba.HTML5CompatibilityMode=!0,this.Ba.imageSmoothingEnabled=this.la}catch(l){}0!==this.width&&
0!==this.height&&(this.Ba.width=this.width,this.Ba.height=this.height)}this.Ba||(this.wc?(c={antialias:!!this.la,alpha:!0},this.Ba=this.canvas.getContext("2d",c)):(c={alpha:!0},this.Ba=this.canvas.getContext("2d",c)),this.Aj(this.Ba,this.la));this.Zl=this.ob=null}this.Rp=function(c){a.Tb(!1,c)};window==window.top||this.Va||this.Kt||this.Yg||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&
(this.wc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(ea("Reloading for continuous preview"),this.Ui="__c2_continuouspreview",this.Eh=!0),this.gu&&!this.pe&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var c=window.parent;c&&c.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){a.of()});this.Va||(c=function(a){if(fb(a)&&document.activeElement&&document.activeElement!==
document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(c){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",c):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",c):document.addEventListener("touchstart",c),document.addEventListener("mousedown",c));0===this.Jb&&this.Ye&&1<this.devicePixelRatio&&this.setSize(this.Za,this.Ya,!0);this.Vp();this.qt();this.go();this.O={}};e.prototype.setSize=function(a,
c,h){var d=0,b=0,g=0,k=0,k=0;if(this.Vf!==a||this.Uf!==c||h){this.Vf=a;this.Uf=c;var f=this.Jb;if((g=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Ki)&&!this.xc)||0!==this.Jb||h)g&&(f=this.Mf),h=this.devicePixelRatio,4<=f?(g=this.Za/this.Ya,a/c>g?(g*=c,5===f?(k=g*h/this.Za,1<k?k=Math.floor(k):1>k&&(k=1/Math.ceil(1/k)),g=this.Za*k/h,k=this.Ya*k/h,d=(a-g)/2,b=(c-k)/2,a=g,c=k):(d=(a-g)/2,a=g)):(k=a/g,5===f?(k=k*h/this.Ya,1<k?k=Math.floor(k):
1>k&&(k=1/Math.ceil(1/k)),g=this.Za*k/h,k=this.Ya*k/h,d=(a-g)/2,b=(c-k)/2,a=g):b=(c-k)/2,c=k)):g&&0===f&&(d=Math.floor((a-this.Za)/2),b=Math.floor((c-this.Ya)/2),a=this.Za,c=this.Ya),2>f&&(this.xg=h),this.ki=Math.round(a),this.Cg=Math.round(c),this.width=Math.round(a*h),this.height=Math.round(c*h),this.ca=!0,this.gq?(this.I=this.width,this.H=this.height,this.jc=!0):this.width<this.Za&&this.height<this.Ya||1===f?(this.I=this.width,this.H=this.height,this.jc=!0):(this.I=this.Za,this.H=this.Ya,this.jc=
!1,2===f?(g=this.Za/this.Ya,f=this.Vf/this.Uf,f<g?this.I=this.H*f:f>g&&(this.H=this.I/f)):3===f&&(g=this.Za/this.Ya,f=this.Vf/this.Uf,f>g?this.I=this.H*f:f<g&&(this.H=this.I/f))),this.tn&&!this.Va&&(jQuery(this.tn).css({width:Math.round(a)+"px",height:Math.round(c)+"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(b)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(c)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*h),
this.canvas.height=Math.round(c*h),this.Rc?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(b)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px"):this.Ye&&!this.Va&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px")),this.ob&&(this.ob.width=Math.round(a*h),this.ob.height=Math.round(c*h),this.ob.style.width=this.ki+"px",this.ob.style.height=this.Cg+"px"),this.k&&this.k.tf(Math.round(a*h),Math.round(c*
h)),this.me&&this.Ba&&(this.Ba.width=Math.round(a),this.Ba.height=Math.round(c)),this.Ba&&this.Aj(this.Ba,this.la),this.Vp(),this.qo&&!this.xc&&window.scrollTo(0,0)}};e.prototype.Vp=function(){if(this.ir&&0!==this.Yl){var a="portrait";2===this.Yl&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):
screen.msLockOrientation&&screen.msLockOrientation(a)}catch(c){console&&console.warn&&console.warn("Failed to lock orientation: ",c)}}};e.prototype.Yt=function(){this.k.sr();this.wl=!0;var a,c,h;a=0;for(c=this.n.length;a<c;a++)h=this.n[a],h.dg&&h.dg()};e.prototype.Zt=function(){this.wl=!1;var a,c,h;a=0;for(c=this.n.length;a<c;a++)h=this.n[a],h.sh&&h.sh()};e.prototype.op=function(){if(!this.Va){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||
this.Ki)&&!this.xc?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.ob).css(a)}};var q=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;e.prototype.setSuspended=function(a){var c;if(a&&!this.Wg)for(ea("[Construct 2] Suspending"),this.Wg=!0,-1!==this.hm&&q&&q(this.hm),-1!==this.Em&&clearTimeout(this.Em),a=0,c=this.Mj.length;a<c;a++)this.Mj[a](!0);else if(!a&&
this.Wg){ea("[Construct 2] Resuming");this.Wg=!1;this.Pi=Ra();this.bf=Ra();a=this.nh=this.Ai=0;for(c=this.Mj.length;a<c;a++)this.Mj[a](!1);this.Tb(!1)}};e.prototype.Ud=function(a){return this.cj[a]};e.prototype.fh=function(a){a&&a.project||fa("Project model unavailable");a=a.project;this.name=a[0];this.Nn=a[1];this.Jb=a[12];this.Za=a[10];this.Ya=a[11];this.jp=this.Za/2;this.kp=this.Ya/2;this.Va&&!this.Rc&&(4<=a[12]||0===a[12])&&(ea("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
this.Jb=3);this.Om=a[18];this.xe=a[19];if(0===this.xe){var c=new Image;c.crossOrigin="anonymous";this.Cp(c,"loading-logo.png");this.we={Zi:c}}else if(4===this.xe){c=new Image;c.src="";var h=new Image;h.src="";var d=new Image;d.src="";var g=new Image;g.src="";var b=new Image;b.src="";var k=new Image;k.src="";var f=new Image;f.src="";var e=new Image;e.src="";var n=new Image;n.src="";var v=new Image;v.src="";var l=new Image;l.src="";var w=new Image;w.src="";this.we={Zi:[c,h,d,g],lu:[b,k,f,e],Su:[n,v,
l,w]}}this.ph=a[21];this.cj=gc();this.nd=new X(this);c=0;for(h=a[2].length;c<h;c++)f=a[2][c],d=this.Ud(f[0]),hb(f,d.prototype),e=new d(this),e.Ej=f[1],e.re=f[2],e.Nt=f[5],e.Xo=f[9],e.X&&e.X(),this.plugins.push(e);this.cj=gc();c=0;for(h=a[3].length;c<h;c++){f=a[3][c];b=this.Ud(f[1]);e=null;d=0;for(g=this.plugins.length;d<g;d++)if(this.plugins[d]instanceof b){e=this.plugins[d];break}n=new e.za(e);n.name=f[0];n.B=f[2];n.ml=f[3].slice(0);n.Ru=f[3].length;n.jr=f[4];n.Ps=f[5];n.W=f[11];n.B?(n.kf=[],n.yd=
this.Gg++,n.ua=null):(n.kf=null,n.yd=-1,n.ua=[]);n.si=null;n.Kf=null;n.In=null;n.Ob=!1;n.Xb=null;f[6]?(n.Pj=f[6][0],n.Dm=f[6][1],n.Hh=f[6][2]):(n.Pj=null,n.Dm=0,n.Hh=0);f[7]?n.Wb=f[7]:n.Wb=null;n.index=c;n.d=[];n.oi=[];n.Pd=[new ib(n)];n.fd=0;n.vc=null;n.Dr=0;n.mg=!0;n.Vj=jb;n.Ss=kb;n.Xs=lb;n.V=mb;n.xh=pb;n.qj=qb;n.rf=rb;n.Bi=sb;n.Rk=tb;n.Wk=ub;n.tc=vb;n.Xk=wb;n.ii=new $a(this.Za,this.Ya);n.Sh=!0;n.Th=!1;n.O={};n.toString=xb;n.Aa=[];d=0;for(g=f[8].length;d<g;d++){v=f[8][d];l=this.Ud(v[1]);w=null;
b=0;for(k=this.Aa.length;b<k;b++)if(this.Aa[b]instanceof l){w=this.Aa[b];break}w||(w=new l(this),w.Sl=[],w.bj=new ba,w.X&&w.X(),this.Aa.push(w),hc&&w instanceof hc&&(this.Mp=w),Zb.Hu&&w instanceof Zb.Hu&&(this.um=w));-1===w.Sl.indexOf(n)&&w.Sl.push(n);b=new w.za(w,n);b.name=v[0];b.W=v[2];b.X();n.Aa.push(b)}n.global=f[9];n.sl=f[10];n.L=[];d=0;for(g=f[12].length;d<g;d++)n.L.push({id:f[12][d][0],name:f[12][d][1],Ma:-1,Vc:!1,bb:!0,index:d});n.vw=f[13];this.Om&&!n.B&&!n.sl&&e.re||n.X();n.name&&(this.types[n.name]=
n);this.n.push(n);e.Ej&&(d=new e.oa(n),d.uid=this.ph++,d.rp=this.Zo++,d.Xe=0,d.Ng=yb,d.toString=zb,d.A=f[14],d.X(),n.d.push(d),this.Gd[d.uid.toString()]=d)}c=0;for(h=a[4].length;c<h;c++)for(b=a[4][c],k=this.n[b[0]],d=1,g=b.length;d<g;d++)f=this.n[b[d]],f.ua.push(k),k.kf.push(f);c=0;for(h=a[28].length;c<h;c++){b=a[28][c];k=[];d=0;for(g=b.length;d<g;d++)k.push(this.n[b[d]]);d=0;for(g=k.length;d<g;d++)k[d].Ob=!0,k[d].Xb=k}if(0<this.Gg)for(c=0,h=this.n.length;c<h;c++)if(f=this.n[c],!f.B&&f.ua.length){f.si=
Array(this.Gg);f.Kf=Array(this.Gg);f.In=Array(this.Gg);n=[];d=w=l=v=0;for(g=f.ua.length;d<g;d++)for(e=f.ua[d],f.si[e.yd]=v,v+=e.Ru,f.Kf[e.yd]=l,l+=e.jr,f.In[e.yd]=w,w+=e.Ps,b=0,k=e.L.length;b<k;b++)n.push(ua({},e.L[b]));f.L=n.concat(f.L);d=0;for(g=f.L.length;d<g;d++)f.L[d].index=d}c=0;for(h=a[5].length;c<h;c++)f=a[5][c],d=new Ab(this,f),this.El[d.name]=d,this.Tc.push(d);c=0;for(h=a[6].length;c<h;c++)f=a[6][c],d=new Bb(this,f),this.Ik[d.name]=d,this.xd.push(d);c=0;for(h=this.xd.length;c<h;c++)this.xd[c].Ga();
c=0;for(h=this.xd.length;c<h;c++)this.xd[c].Km();c=0;for(h=this.Tj.length;c<h;c++)this.Tj[c].Ga();R(this.Tj);this.hr=a[7];this.nc=a[9];this.xg=1;this.as=a[13];this.la=a[14];this.xn=a[15];this.Pu=a[17];this.Yl=a[20];this.ir=0<this.Yl;this.gu=a[22];this.jc=this.gq=a[23];this.Ur=a[24];this.mu=a[25];this.ja=a[27]&&!this.ne;this.Ij=Date.now();R(this.cj);this.zt()};var c=!1,d=0,k=[];e.prototype.su=function(a,c){function h(){d--;b.So()}var b=this;a.addEventListener("load",h);a.addEventListener("error",h);
k.push([a,c]);this.So()};e.prototype.So=function(){for(var a;k.length&&100>d;)d++,a=k.shift(),this.Cp(a[0],a[1])};e.prototype.Yj=function(a,h){a.cocoonLazyLoad=!0;a.onerror=function(h){c=a.qn=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",h)};this.Rc?a.src=h:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(h,function(c){a.src=c},function(d){c=a.qn=!0;console&&console.error&&console.error("Error extracting image '"+h+"' from expansion file: ",d)}):(a.crossOrigin=
"anonymous",this.su(a,h)));this.tg.push(a)};e.prototype.Os=function(a){var c,h;c=0;for(h=this.tg.length;c<h;c++)if(this.tg[c].tr===a)return this.tg[c];return null};var g=0,u=!1;e.prototype.qt=function(){this.yg&&(g=this.yg.qw(this.hr))};e.prototype.ln=function(){var a=g,c=0,h=0,d=!0,b,k,h=0;for(b=this.tg.length;h<b;h++){k=this.tg[h];var f=k.xk;if(!f||0>=f)f=5E4;a+=f;k.src&&(k.complete||k.loaded)&&!k.qn?c+=f:d=!1}d&&this.mu&&this.yg&&(u||(this.yg.rw(),u=!0),h=this.yg.bw(),c+=h,h<g&&(d=!1));this.Wc=
0==a?1:c/a;return d};var y=!1;e.prototype.go=function(){if(this.Ba||this.k){var a=this.Ba||this.Zl;this.ob&&this.op();var h=window.innerWidth,d=window.innerHeight;this.Vf===h&&this.Uf===d||this.setSize(h,d);this.Wc=0;this.xo=-1;var b=this;if(this.ln()&&(4!==this.xe||y))this.tt();else{d=Date.now()-this.Ij;if(a){var g=this.width,k=this.height,h=this.devicePixelRatio;if(3>this.xe&&(this.wc||500<=d&&this.xo!=this.Wc)){a.clearRect(0,0,g,k);var d=g/2,k=k/2,g=0===this.xe&&this.we.Zi.complete,n=40*h,e=0,
v=80*h,w;if(g){var l=this.we.Zi,v=l.width*h;w=l.height*h;n=v/2;e=w/2;a.drawImage(l,Q(d-n),Q(k-e),v,w)}1>=this.xe?(d=Q(d-n)+.5,k=Q(k+(e+(g?12*h:0)))+.5,a.fillStyle=c?"red":"DodgerBlue",a.fillRect(d,k,Math.floor(v*this.Wc),6*h),a.strokeStyle="black",a.strokeRect(d,k,v,6*h),a.strokeStyle="white",a.strokeRect(d-1*h,k-1*h,v+2*h,8*h)):2===this.xe&&(a.font=this.Rc?"12pt ArialMT":"12pt Arial",a.fillStyle=c?"#f00":"#999",a.uw="middle",h=Math.round(100*this.Wc)+"%",g=a.measureText?a.measureText(h):null,a.fillText(h,
d-(g?g.width:0)/2,k));this.xo=this.Wc}else if(4===this.xe){this.Zr(a);f?f(function(){b.go()}):setTimeout(function(){b.go()},16);return}}setTimeout(function(){b.go()},this.wc?10:100)}}};var G=-1,h="undefined"===typeof cr_is_preview?200:0,n=!0,w=!1,ca=0,v=0,H="undefined"===typeof cr_is_preview?3E3:0,L=null,E=null,P=0;e.prototype.Zr=function(a){if(!y){for(var d=Math.ceil(this.width),b=Math.ceil(this.height),g=this.we.Zi,k=this.we.lu,f=this.we.Su,e=0;4>e;++e)if(!g[e].complete||!k[e].complete||!f[e].complete)return;
0===P&&(G=Date.now());var e=Date.now(),l=!1,u=a,q,r;n||w?(a.clearRect(0,0,d,b),L&&L.width===d&&L.height===b||(L=document.createElement("canvas"),L.width=d,L.height=b,E=L.getContext("2d")),u=E,l=!0,n&&1===P&&(G=Date.now())):a.globalAlpha=1;u.fillStyle="#333333";u.fillRect(0,0,d,b);256<this.Cg?(q=Da(.22*b,105,.6*d),r=.25*q,u.drawImage(p(k,q),.5*d-q/2,.2*b-r/2,q,r),r=q=Math.min(.395*b,.95*d),u.drawImage(p(g,q),.5*d-q/2,.485*b-r/2,q,r),q=Da(.22*b,105,.6*d),r=.25*q,u.drawImage(p(f,q),.5*d-q/2,.868*b-r/
2,q,r),u.fillStyle="#3C3C3C",q=d,r=Math.max(.005*b,2),u.fillRect(0,.8*b-r/2,q,r),u.fillStyle=c?"red":"#E0FF65",q=d*this.Wc,u.fillRect(.5*d-q/2,.8*b-r/2,q,r)):(r=q=.55*b,u.drawImage(p(g,q),.5*d-q/2,.45*b-r/2,q,r),u.fillStyle="#3C3C3C",q=d,r=Math.max(.005*b,2),u.fillRect(0,.85*b-r/2,q,r),u.fillStyle=c?"red":"#E0FF65",q=d*this.Wc,u.fillRect(.5*d-q/2,.85*b-r/2,q,r));l&&(n?a.globalAlpha=0===P?0:Math.min((e-G)/300,1):w&&(a.globalAlpha=Math.max(1-(e-v)/300,0)),a.drawImage(L,0,0,d,b));n&&300<=e-G&&2<=P&&
(n=!1,ca=e);!n&&e-ca>=H&&!w&&1<=this.Wc&&(w=!0,v=e);if(w&&e-v>=300+h||"undefined"!==typeof cr_is_preview&&1<=this.Wc&&500>Date.now()-G)y=!0,w=n=!1,this.we=E=L=null;++P}};e.prototype.tt=function(){this.ob&&(this.canvas.parentNode.removeChild(this.ob),this.ob=this.Zl=null);this.Ij=Date.now();this.bf=Ra();var a,c,h;if(this.Om)for(a=0,c=this.n.length;a<c;a++)h=this.n[a],h.B||h.sl||!h.ma.re||h.X();else this.Oi=!1;a=0;for(c=this.Tc.length;a<c;a++)this.Tc[a].Ar();2<=this.Jb&&(a=this.Za/this.Ya,c=this.width/
this.height,this.xg=2!==this.Jb&&c>a||2===this.Jb&&c<a?this.height/this.Ya:this.width/this.Za);this.Nn?this.El[this.Nn].Am():this.Tc[0].Am();this.Om||(this.Wi=1,this.trigger(X.prototype.q.Sm,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(c=this.n.length;a<c;a++)h=this.n[a],h.Xt&&h.Xt();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Tb(!1);this.me&&
AppMobi.webview.execute("onGameReady();")};e.prototype.Tb=function(a,c,h){if(this.ka){var d=Ra();if(h||!this.Wg||a){a||(f?this.hm=f(this.Rp):this.Em=setTimeout(this.Rp,this.pe?1:16));c=c||d;var b=this.Jb;((h=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.xc)||this.Ki)&&0<this.Mf&&(b=this.Mf);if(0<b){var b=window.innerWidth,g=window.innerHeight;this.Vf===b&&this.Uf===g||this.setSize(b,g)}this.Va||(h?this.vi||(this.vi=!0):this.vi?(this.vi=
!1,0===this.Jb&&this.setSize(Math.round(this.dp/this.devicePixelRatio),Math.round(this.cp/this.devicePixelRatio),!0)):(this.dp=this.width,this.cp=this.height));this.Oi&&(h=this.ln(),this.Wi=this.Wc,h&&(this.Oi=!1,this.Wc=1,this.trigger(X.prototype.q.Sm,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.Rt(c);!this.ca&&!this.wc||this.wl||this.Eh||a||(this.ca=!1,this.k?this.wb():this.Yb(),this.Ch&&(this.canvas&&this.canvas.toDataURL&&(this.Kp=this.canvas.toDataURL(this.Ch[0],this.Ch[1]),window.cr_onSnapshot&&
window.cr_onSnapshot(this.Kp),this.trigger(X.prototype.q.Cq,null)),this.Ch=null));this.dw||(this.Gc++,this.Fg++,this.Ai++);this.nh+=Ra()-d}}};e.prototype.Rt=function(a){var c,h,d,b,g,k,f,n;1E3<=a-this.bf&&(this.bf+=1E3,1E3<=a-this.bf&&(this.bf=a),this.Nk=this.Ai,this.Ai=0,this.wk=this.nh,this.nh=0);c=0;0!==this.Pi&&(c=a-this.Pi,0>c&&(c=0),this.Re=c/=1E3,.5<this.Re?this.Re=0:this.Re>1/this.Wo&&(this.Re=1/this.Wo));this.Pi=a;this.Hf=this.Re*this.og;this.ac.add(this.Hf);this.Zj.add(c);a=(document.mozFullScreen||
document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Ki)&&!this.xc;2<=this.Jb||a&&0<this.Mf?(c=this.Za/this.Ya,h=this.width/this.height,d=this.Jb,a&&0<this.Mf&&(d=this.Mf),this.xg=2!==d&&h>c||2===d&&h<c?this.height/this.Ya:this.width/this.Za,this.ka&&(this.ka.qm(this.ka.scrollX),this.ka.rm(this.ka.scrollY))):this.xg=this.Ye?this.devicePixelRatio:1;this.rb();this.Sc++;this.nd.xu();this.Sc--;this.rb();this.Sc++;h=this.bp.qd();a=0;for(c=h.length;a<c;a++)h[a].lw();a=
0;for(c=this.n.length;a<c;a++)if(k=this.n[a],!k.B&&(k.Aa.length||k.ua.length))for(h=0,d=k.d.length;h<d;h++)for(f=k.d[h],b=0,g=f.J.length;b<g;b++)f.J[b].Tb();a=0;for(c=this.n.length;a<c;a++)if(k=this.n[a],!k.B&&(k.Aa.length||k.ua.length))for(h=0,d=k.d.length;h<d;h++)for(f=k.d[h],b=0,g=f.J.length;b<g;b++)n=f.J[b],n.ku&&n.ku();h=this.Tl.qd();a=0;for(c=h.length;a<c;a++)h[a].Tb();this.Sc--;this.ut();for(a=0;this.tk&&10>a++;)this.Gn(this.tk);a=0;for(c=this.xd.length;a<c;a++)this.xd[a].el=!1;this.ka.Te&&
this.ka.Te.Ka();R(this.sf);this.Sc++;a=0;for(c=this.n.length;a<c;a++)if(k=this.n[a],!k.B&&(k.Aa.length||k.ua.length))for(h=0,d=k.d.length;h<d;h++)for(f=k.d[h],b=0,g=f.J.length;b<g;b++)n=f.J[b],n.ng&&n.ng();h=this.Ul.qd();a=0;for(c=h.length;a<c;a++)h[a].ng();this.Sc--};e.prototype.of=function(){var a,c,h,d,b,k,g,f,n;a=0;for(c=this.n.length;a<c;a++)if(g=this.n[a],!g.B)for(h=0,d=g.d.length;h<d;h++)if(f=g.d[h],f.of&&f.of(),f.J)for(b=0,k=f.J.length;b<k;b++)n=f.J[b],n.of&&n.of()};e.prototype.Gn=function(a){var c=
this.ka;this.ka.Ju();var h,d,b;if(this.k)for(h=0,d=this.n.length;h<d;h++)b=this.n[h],b.B||!b.Uj||b.global&&0!==b.d.length||-1!==a.Sg.indexOf(b)||b.Uj();c==a&&R(this.nd.Ub);R(this.sf);this.wp(!0);a.Am();this.wp(!1);this.ca=!0;this.rb()};e.prototype.wp=function(a){var c,h,d,b,g,k,f,n,e;c=0;for(h=this.Aa.length;c<h;c++)d=this.Aa[c],a?d.qh&&d.qh():d.rh&&d.rh();c=0;for(h=this.n.length;c<h;c++)if(d=this.n[c],d.global||d.ma.Ej)for(b=0,g=d.d.length;b<g;b++)if(k=d.d[b],a?k.qh&&k.qh():k.rh&&k.rh(),k.J)for(f=
0,n=k.J.length;f<n;f++)e=k.J[f],a?e.qh&&e.qh():e.rh&&e.rh()};e.prototype.Ih=function(a){this.Tl.add(a)};e.prototype.Qp=function(a){this.Ul.add(a)};e.prototype.Ig=function(a){return a&&-1!==a.oh?this.Re*a.oh:this.Hf};e.prototype.Yb=function(){this.ka.Yb(this.Ba);this.me&&this.Ba.present()};e.prototype.wb=function(){this.ja&&(this.Se=1,this.ka.Gf(this.k));this.ka.wb(this.k);this.k.ou()};e.prototype.$q=function(a){a&&this.Dk.push(a)};e.prototype.Vn=function(a){a=a.toString();return this.Gd.hasOwnProperty(a)?
this.Gd[a]:null};var J=[];e.prototype.Je=function(a){var c,h;c=a.type.name;var d=null;if(this.Qe.hasOwnProperty(c)){if(d=this.Qe[c],d.contains(a))return}else d=J.length?J.pop():new ba,this.Qe[c]=d;d.add(a);this.ke=!0;if(a.Ob)for(c=0,h=a.siblings.length;c<h;c++)this.Je(a.siblings[c]);this.ql&&d.rg.push(a);this.pl||(this.Sc++,this.trigger(Object.getPrototypeOf(a.type.ma).q.Eq,a),this.Sc--)};e.prototype.rb=function(){if(this.ke){var a,c,h,d,b,k;this.ql=!0;h=0;for(b=this.Oc.length;h<b;++h)for(a=this.Oc[h],
c=a.type,c.d.push(a),d=0,k=c.ua.length;d<k;++d)c.ua[d].d.push(a),c.ua[d].mg=!0;R(this.Oc);this.yq();Qa(this.Qe);this.ke=this.ql=!1}};e.prototype.yq=function(){for(var a in this.Qe)this.Qe.hasOwnProperty(a)&&this.mq(this.Qe[a])};e.prototype.mq=function(a){var c=a.qd(),h=c[0].type,d,b,k,g,f,n;Ta(h.d,a);h.mg=!0;0===h.d.length&&(h.Th=!1);d=0;for(b=h.ua.length;d<b;++d)n=h.ua[d],Ta(n.d,a),n.mg=!0;d=0;for(b=this.nd.Ub.length;d<b;++d)if(f=this.nd.Ub[d],f.Eb.hasOwnProperty(h.index)&&Ta(f.Eb[h.index].Bd,a),
!h.B)for(k=0,g=h.ua.length;k<g;++k)n=h.ua[k],f.Eb.hasOwnProperty(n.index)&&Ta(f.Eb[n.index].Bd,a);if(f=c[0].e){if(f.rc)for(k=f.d,d=0,b=k.length;d<b;++d)g=k[d],a.contains(g)&&(g.aa(),f.pb.update(g,g.Rb,null),g.Rb.set(0,0,-1,-1));Ta(f.d,a);f.yh(0)}for(d=0;d<c.length;++d)this.lq(c[d],h);a.clear();J.push(a);this.ca=!0};e.prototype.lq=function(a,c){var h,d,b;h=0;for(d=this.Dk.length;h<d;++h)this.Dk[h](a);a.fe&&c.ii.update(a,a.fe,null);(h=a.e)&&h.hg(a,!0);if(a.J)for(h=0,d=a.J.length;h<d;++h)b=a.J[h],b.nf&&
b.nf(),b.behavior.bj.remove(a);this.bp.remove(a);this.Tl.remove(a);this.Ul.remove(a);a.nf&&a.nf();this.Gd.hasOwnProperty(a.uid.toString())&&delete this.Gd[a.uid.toString()];this.dj--;100>c.oi.length&&c.oi.push(a)};e.prototype.An=function(a,c,h,d){if(a.B){var b=Q(Math.random()*a.kf.length);return this.An(a.kf[b],c,h,d)}return a.vc?this.ge(a.vc,c,!1,h,d,!1):null};var S=[];e.prototype.ge=function(a,c,h,d,b,k){var g,f,n,e;if(!a)return null;var v=this.n[a[1]],l=v.ma.re;if(this.Oi&&l&&!v.sl||l&&!this.k&&
11===a[0][11])return null;var w=c;l||(c=null);var u;v.oi.length?(u=v.oi.pop(),u.gc=!0,v.ma.oa.call(u,v)):(u=new v.ma.oa(v),u.gc=!1);!h||k||this.Gd.hasOwnProperty(a[2].toString())?u.uid=this.ph++:u.uid=a[2];this.Gd[u.uid.toString()]=u;u.rp=this.Zo++;u.Xe=v.d.length;g=0;for(f=this.Oc.length;g<f;++g)this.Oc[g].type===v&&u.Xe++;u.Ng=yb;u.toString=zb;n=a[3];if(u.gc)Qa(u.O);else{u.O={};if("undefined"!==typeof cr_is_preview)for(u.ho=[],u.ho.length=n.length,g=0,f=n.length;g<f;g++)u.ho[g]=n[g][1];u.Ua=[];
u.Ua.length=n.length}g=0;for(f=n.length;g<f;g++)u.Ua[g]=n[g][0];if(l){var q=a[0];u.x=ga(d)?q[0]:d;u.y=ga(b)?q[1]:b;u.z=q[2];u.width=q[3];u.height=q[4];u.depth=q[5];u.j=q[6];u.opacity=q[7];u.Lb=q[8];u.Mb=q[9];u.sb=q[10];g=q[11];!this.k&&v.L.length&&(u.sb=g);u.zg=bb(u.sb);this.u&&cb(u,u.sb,this.u);if(u.gc){g=0;for(f=q[12].length;g<f;g++)for(n=0,e=q[12][g].length;n<e;n++)u.Ca[g][n]=q[12][g][n];u.fa.set(0,0,0,0);u.fe.set(0,0,-1,-1);u.Rb.set(0,0,-1,-1);u.cb.De(u.fa);R(u.mk)}else{u.Ca=q[12].slice(0);g=
0;for(f=u.Ca.length;g<f;g++)u.Ca[g]=q[12][g].slice(0);u.ba=[];u.Vd=[];u.Vd.length=v.L.length;u.fa=new sa(0,0,0,0);u.fe=new sa(0,0,-1,-1);u.Rb=new sa(0,0,-1,-1);u.cb=new ta;u.mk=[];u.K=Cb;u.dr=Db;u.tb=Eb;u.aa=Fb;u.bq=Gb;u.Nm=Hb;u.jd=Ib}u.He=!1;u.Nu=0;u.Mu=0;u.Lu=null;14===q.length&&(u.He=!0,u.Nu=q[13][0],u.Mu=q[13][1],u.Lu=q[13][2]);g=0;for(f=v.L.length;g<f;g++)u.Vd[g]=!0;u.Jd=!0;u.ad=Jb;u.ad();u.cq=!!u.ba.length;u.Zh=!0;u.qk=!0;v.Sh=!0;u.visible=!0;u.oh=-1;u.e=c;u.cd=c.d.length;u.Se=0;"undefined"===
typeof u.M&&(u.M=null);this.ca=u.sd=!0}var y;R(S);g=0;for(f=v.ua.length;g<f;g++)S.push.apply(S,v.ua[g].Aa);S.push.apply(S,v.Aa);if(u.gc)for(g=0,f=S.length;g<f;g++){var r=S[g];y=u.J[g];y.gc=!0;r.behavior.oa.call(y,r,u);q=a[4][g];n=0;for(e=q.length;n<e;n++)y.A[n]=q[n];y.X();r.behavior.bj.add(u)}else for(u.J=[],g=0,f=S.length;g<f;g++)r=S[g],y=new r.behavior.oa(r,u),y.gc=!1,y.A=a[4][g].slice(0),y.X(),u.J.push(y),r.behavior.bj.add(u);q=a[5];if(u.gc)for(g=0,f=q.length;g<f;g++)u.A[g]=q[g];else u.A=q.slice(0);
this.Oc.push(u);this.ke=!0;c&&(c.wg(u,!0),1!==c.zc||1!==c.Ac)&&(v.Th=!0);this.dj++;if(v.Ob){if(u.Ob=!0,u.gc?R(u.siblings):u.siblings=[],!h&&!k){g=0;for(f=v.Xb.length;g<f;g++)if(v.Xb[g]!==v){if(!v.Xb[g].vc)return null;u.siblings.push(this.ge(v.Xb[g].vc,w,!1,l?u.x:d,l?u.y:b,!0))}g=0;for(f=u.siblings.length;g<f;g++)for(u.siblings[g].siblings.push(u),n=0;n<f;n++)g!==n&&u.siblings[g].siblings.push(u.siblings[n])}}else u.Ob=!1,u.siblings=null;u.X();g=0;for(f=u.J.length;g<f;g++)u.J[g].ju&&u.J[g].ju();return u};
e.prototype.Yk=function(a){var c,h;c=0;for(h=this.ka.N.length;c<h;c++){var d=this.ka.N[c];if(eb(d.name,a))return d}return null};e.prototype.Kg=function(a){a=Q(a);0>a&&(a=0);a>=this.ka.N.length&&(a=this.ka.N.length-1);return this.ka.N[a]};e.prototype.uk=function(a){var c,h;c=0;for(h=a.length;c<h;c++)a[c].V().da=!0};e.prototype.xh=function(a){var c,h;c=0;for(h=a.length;c<h;c++)a[c].xh()};e.prototype.qj=function(a){var c,h;c=0;for(h=a.length;c<h;c++)a[c].qj()};e.prototype.rf=function(a){var c,h;c=0;
for(h=a.length;c<h;c++)a[c].rf()};e.prototype.$p=function(a){if(a.Sh){var c,h,d=a.d;c=0;for(h=d.length;c<h;++c)d[c].Nm();d=this.Oc;c=0;for(h=d.length;c<h;++c)d[c].type===a&&d[c].Nm();a.Sh=!1}};e.prototype.Tk=function(a,c,h,d){var g,b,k=a?1!==a.zc||1!==a.Ac:!1;if(c.B)for(a=0,g=c.kf.length;a<g;++a)b=c.kf[a],k||b.Th?ya(d,b.d):(this.$p(b),b.ii.tj(h,d));else k||c.Th?ya(d,c.d):(this.$p(c),c.ii.tj(h,d))};e.prototype.Xn=function(a,c,h,d){var g,b;g=0;for(b=c.length;g<b;++g)this.Tk(a,c[g],h,d)};e.prototype.ct=
function(a,c,h){var d=this.Mp;d&&this.Xn(a,d.Sl,c,h)};e.prototype.Oj=function(a,c,h){var d=a.V(),g,b,k,f,n=this.Sa().Ab.mc,e,v,u;if(d.da)for(d.da=!1,R(d.d),g=0,f=a.d.length;g<f;g++)k=a.d[g],k.aa(),e=k.e.jb(c,h,!0),v=k.e.jb(c,h,!1),k.tb(e,v)?d.d.push(k):n&&d.R.push(k);else{b=0;u=n?d.R:d.d;g=0;for(f=u.length;g<f;g++)k=u[g],k.aa(),e=k.e.jb(c,h,!0),v=k.e.jb(c,h,!1),k.tb(e,v)&&(n?d.d.push(k):(d.d[b]=d.d[g],b++));u.length=b}a.tc();return d.dl()};e.prototype.Fe=function(a,c){if(!(a&&c&&a!==c&&a.sd&&c.sd))return!1;
a.aa();c.aa();var h=a.e,d=c.e,g,b,k,f,n,e,v,u;if(h===d||h.zc===d.zc&&d.Ac===d.Ac&&h.scale===d.scale&&h.j===d.j&&h.dd===d.dd){if(!a.fa.At(c.fa)||!a.cb.jo(c.cb)||a.He&&c.He)return!1;if(a.He)return this.Pp(a,c);if(c.He)return this.Pp(c,a);v=a.M&&!a.M.qe();g=c.M&&!c.M.qe();if(!v&&!g)return!0;v?(a.M.Zd(a.width,a.height,a.j),v=a.M):(this.Zc.Ce(a.cb,a.x,a.y,a.width,a.height),v=this.Zc);g?(c.M.Zd(c.width,c.height,c.j),u=c.M):(this.Zc.Ce(c.cb,c.x,c.y,c.width,c.height),u=this.Zc);return v.Tg(u,c.x-a.x,c.y-
a.y)}v=a.M&&!a.M.qe();g=c.M&&!c.M.qe();v?(a.M.Zd(a.width,a.height,a.j),this.Zc.Ep(a.M)):this.Zc.Ce(a.cb,a.x,a.y,a.width,a.height);v=this.Zc;g?(c.M.Zd(c.width,c.height,c.j),this.Cm.Ep(c.M)):this.Cm.Ce(c.cb,c.x,c.y,c.width,c.height);u=this.Cm;g=0;for(b=v.Bc;g<b;g++)k=2*g,f=k+1,n=v.Ja[k],e=v.Ja[f],v.Ja[k]=h.wa(n+a.x,e+a.y,!0),v.Ja[f]=h.wa(n+a.x,e+a.y,!1);v.aa();g=0;for(b=u.Bc;g<b;g++)k=2*g,f=k+1,n=u.Ja[k],e=u.Ja[f],u.Ja[k]=d.wa(n+c.x,e+c.y,!0),u.Ja[f]=d.wa(n+c.x,e+c.y,!1);u.aa();return v.Tg(u,0,0)};
var D=new ta;new sa(0,0,0,0);var K=[];e.prototype.Pp=function(a,c){var h,d,g,b,k=c.fa,f=a.x,n=a.y;a.Qn(k,K);var e=c.M&&!c.M.qe();h=0;for(d=K.length;h<d;++h)if(g=K[h],b=g.tp,k.Bt(b,f,n)&&(D.De(b),D.offset(f,n),D.jo(c.cb)))if(e)if(c.M.Zd(c.width,c.height,c.j),g.qf){if(g.qf.Tg(c.M,c.x-(f+b.left),c.y-(n+b.top)))return R(K),!0}else{if(this.Zc.Ce(D,0,0,b.right-b.left,b.bottom-b.top),this.Zc.Tg(c.M,c.x,c.y))return R(K),!0}else if(g.qf){if(this.Zc.Ce(c.cb,0,0,c.width,c.height),g.qf.Tg(this.Zc,-(f+b.left),
-(n+b.top)))return R(K),!0}else return R(K),!0;R(K);return!1};e.prototype.Wp=function(a,c){if(!c)return!1;var h,d,g,b,k;h=0;for(d=a.Aa.length;h<d;h++)if(a.Aa[h].behavior instanceof c)return!0;if(!a.B)for(h=0,d=a.ua.length;h<d;h++)for(k=a.ua[h],g=0,b=k.Aa.length;g<b;g++)if(k.Aa[g].behavior instanceof c)return!0;return!1};e.prototype.Im=function(a){return this.Wp(a,Zb.wv)};e.prototype.Jm=function(a){return this.Wp(a,Zb.xv)};var I=[];e.prototype.oc=function(a){var c,h,d;a.aa();this.ct(a.e,a.fa,I);c=
0;for(h=I.length;c<h;++c)if(d=I[c],d.O.solidEnabled&&this.Fe(a,d))return R(I),d;R(I);return null};e.prototype.fm=function(a,c,h,d){d=d||50;var g=a.x,b=a.y,k,f=null,n=null;for(k=0;k<d;k++)if(a.x=g+c*k,a.y=b+h*k,a.K(),!this.Fe(a,f)&&((f=this.oc(a))&&(n=f),!f&&!f))return n&&this.qu(a,c,h,n),!0;a.x=g;a.y=b;a.K();return!1};e.prototype.qu=function(a,c,h,d){var g=2,b,k=!1;b=!1;for(var f=a.x,n=a.y;16>=g;)b=1/g,g*=2,a.x+=c*b*(k?1:-1),a.y+=h*b*(k?1:-1),a.K(),this.Fe(a,d)?b=k=!0:(b=k=!1,f=a.x,n=a.y);b&&(a.x=
f,a.y=n,a.K())};e.prototype.sj=function(a,c){var h=ga(c)?100:c,d=0,g=a.x,b=a.y,k=0,f=0,n=0,e=this.oc(a);if(!e)return!0;for(;d<=h;){switch(k){case 0:f=0;n=-1;d++;break;case 1:f=1;n=-1;break;case 2:f=1;n=0;break;case 3:n=f=1;break;case 4:f=0;n=1;break;case 5:f=-1;n=1;break;case 6:f=-1;n=0;break;case 7:n=f=-1}k=(k+1)%8;a.x=Q(g+f*d);a.y=Q(b+n*d);a.K();if(!this.Fe(a,e)&&(e=this.oc(a),!e))return!0}a.x=g;a.y=b;a.K();return!1};e.prototype.gg=function(a,c){a.sd&&c.sd&&this.sf.push([a,c])};e.prototype.cr=function(a,
c,h){var d,g,b;d=0;for(g=this.sf.length;d<g;++d){b=this.sf[d];if(b[0]===a)b=b[1];else if(b[1]===a)b=b[0];else continue;if(c.B){if(-1===c.kf.indexOf(c))continue}else if(b.type!==c)continue;-1===h.indexOf(b)&&h.push(b)}};e.prototype.qr=function(a,c){var h,d,g;h=0;for(d=this.sf.length;h<d;h++)if(g=this.sf[h],g[0]===a&&g[1]===c||g[0]===c&&g[1]===a)return!0;return!1};e.prototype.pr=function(a,c,h){var d=a.x,g=a.y,b=la(10,Na(c,h,d,g)),k=Ja(c,h,d,g),f=this.oc(a);if(!f)return Ga(k+na);var n=f,e,v,u,l,w=W(5);
for(e=1;36>e;e++)if(v=k-e*w,a.x=c+Math.cos(v)*b,a.y=h+Math.sin(v)*b,a.K(),!this.Fe(a,n)&&(n=this.oc(a),!n)){u=v;break}36===e&&(u=Ga(k+na));n=f;for(e=1;36>e;e++)if(v=k+e*w,a.x=c+Math.cos(v)*b,a.y=h+Math.sin(v)*b,a.K(),!this.Fe(a,n)&&(n=this.oc(a),!n)){l=v;break}36===e&&(l=Ga(k+na));a.x=d;a.y=g;a.K();if(l===u)return l;a=Ka(l,u)/2;a=Ma(l,u)?Ga(u+a+na):Ga(l+a);u=Math.cos(k);k=Math.sin(k);l=Math.cos(a);a=Math.sin(a);c=u*l+k*a;return Ja(0,0,u-2*c*l,k-2*c*a)};var O=-1;e.prototype.trigger=function(a,c,h){if(!this.ka)return!1;
var d=this.ka.Te;if(!d)return!1;var g=!1,b,k,f;O++;var n=d.Ak;k=0;for(f=n.length;k<f;++k)b=this.Tp(a,c,n[k],h),g=g||b;b=this.Tp(a,c,d,h);O--;return g||b};e.prototype.Tp=function(a,c,h,d){var g=!1,b,k,f,n;if(c)for(f=this.Gm(a,c,c.type.name,h,d),g=g||f,n=c.type.ua,b=0,k=n.length;b<k;++b)f=this.Gm(a,c,n[b].name,h,d),g=g||f;else f=this.Gm(a,c,"system",h,d),g=g||f;return g};e.prototype.Gm=function(a,c,h,d,g){var b,k=!1,f=!1,f="undefined"!==typeof g,n=(f?d.Kn:d.Up)[h];if(!n)return k;var e=null;d=0;for(b=
n.length;d<b;++d)if(n[d].method==a){e=n[d].Eg;break}if(!e)return k;var v;f?v=e[g]:v=e;if(!v)return null;d=0;for(b=v.length;d<b;d++)a=v[d][0],g=v[d][1],f=this.Ks(c,h,a,g),k=k||f;return k};e.prototype.Ks=function(a,c,h,d){var g,b,k=!1;this.Hm++;var f=this.Sa().Ab;f&&this.xh(f.Ee);var n=1<this.Hm;this.xh(h.Ee);n&&this.ru();var e=this.rj(h);e.Ab=h;a&&(g=this.types[c].V(),g.da=!1,R(g.d),g.d[0]=a,this.types[c].tc());a=!0;if(h.parent){c=e.Op;for(g=h.parent;g;)c.push(g),g=g.parent;c.reverse();g=0;for(b=c.length;g<
b;g++)if(!c[g].zu()){a=!1;break}}a&&(this.Fg++,h.mc?h.yu(d):h.Ka(),k=k||e.$e);this.nj();n&&this.iu();this.rf(h.Ee);f&&this.rf(f.Ee);this.ke&&0===this.Sc&&0===O&&!this.tl&&this.rb();this.Hm--;return k};e.prototype.Uk=function(){var a=this.Sa();return a.Ab.eb[a.Ra]};e.prototype.Ht=function(){return 0===this.Sa().Ra};e.prototype.ru=function(){this.Yi++;this.Yi>=this.Nl.length&&this.Nl.push([])};e.prototype.iu=function(){this.Yi--};e.prototype.Rn=function(){return this.Nl[this.Yi]};e.prototype.rj=function(a){this.ri++;
this.ri>=this.Hk.length&&this.Hk.push(new Kb);var c=this.Sa();c.reset(a);return c};e.prototype.nj=function(){this.ri--};e.prototype.Sa=function(){return this.Hk[this.ri]};e.prototype.Sn=function(a,c){for(var h,d,g,b,k,f;c;){h=0;for(d=c.Ec.length;h<d;h++)if(f=c.Ec[h],f instanceof Lb&&eb(a,f.name))return f;c=c.parent}h=0;for(d=this.xd.length;h<d;h++)for(k=this.xd[h],g=0,b=k.ie.length;g<b;g++)if(f=k.ie[g],f instanceof Lb&&eb(a,f.name))return f;return null};e.prototype.Tn=function(a){var c,h;c=0;for(h=
this.Tc.length;c<h;c++)if(this.Tc[c].W===a)return this.Tc[c];return null};e.prototype.Di=function(a){var c,h;c=0;for(h=this.n.length;c<h;c++)if(this.n[c].W===a)return this.n[c];return null};e.prototype.Ts=function(a){var c,h;c=0;for(h=this.Af.length;c<h;c++)if(this.Af[c].W===a)return this.Af[c];return null};e.prototype.Er=function(a,c){this.Ch=[a,c];this.ca=!0};e.prototype.ut=function(){var a=this,c=this.pm,h=this.Dd,d=this.Ui,g=!1;this.Ip&&(g=!0,c="__c2_continuouspreview",this.Ip=!1);if(c.length){this.rb();
h=this.Du();if(m()&&!this.wc)r(c,h,function(){ea("Saved state to IndexedDB storage ("+h.length+" bytes)");a.Dd=h;a.trigger(X.prototype.q.ck,null);a.Dd="";g&&b()},function(d){try{localStorage.setItem("__c2save_"+c,h),ea("Saved state to WebStorage ("+h.length+" bytes)"),a.Dd=h,a.trigger(X.prototype.q.ck,null),a.Dd="",g&&b()}catch(k){ea("Failed to save game state: "+d+"; "+k),a.trigger(X.prototype.q.Vm,null)}});else try{localStorage.setItem("__c2save_"+c,h),ea("Saved state to WebStorage ("+h.length+
" bytes)"),a.Dd=h,this.trigger(X.prototype.q.ck,null),a.Dd="",g&&b()}catch(k){ea("Error saving to WebStorage: "+k),a.trigger(X.prototype.q.Vm,null)}this.Ui=this.pm="";this.Xa=null}if(d.length){if(m()&&!this.wc)t(d,function(c){c?(a.Xa=c,ea("Loaded state from IndexedDB storage ("+a.Xa.length+" bytes)")):(a.Xa=localStorage.getItem("__c2save_"+d)||"",ea("Loaded state from WebStorage ("+a.Xa.length+" bytes)"));a.Eh=!1;a.Xa||(a.Xa=null,a.trigger(X.prototype.q.Rh,null))},function(){a.Xa=localStorage.getItem("__c2save_"+
d)||"";ea("Loaded state from WebStorage ("+a.Xa.length+" bytes)");a.Eh=!1;a.Xa||(a.Xa=null,a.trigger(X.prototype.q.Rh,null))});else{try{this.Xa=localStorage.getItem("__c2save_"+d)||"",ea("Loaded state from WebStorage ("+this.Xa.length+" bytes)")}catch(f){this.Xa=null}this.Eh=!1;a.Xa||(a.Xa=null,a.trigger(X.prototype.q.Rh,null))}this.pm=this.Ui=""}null!==this.Xa&&(this.rb(),this.Qt(this.Xa)?(this.Dd=this.Xa,this.trigger(X.prototype.q.Lq,null),this.Dd=""):a.trigger(X.prototype.q.Rh,null),this.Xa=null)};
e.prototype.Du=function(){var c,h,d,g,b,k,f,n={c2save:!0,version:1,rt:{time:this.ac.ta,walltime:this.Zj.ta,timescale:this.og,tickcount:this.Gc,execcount:this.Fg,next_uid:this.ph,running_layout:this.ka.W,start_time_offset:Date.now()-this.Ij},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};c=0;for(h=this.n.length;c<h;c++)if(b=this.n[c],!b.B&&!this.Im(b)){k={instances:[]};Pa(b.O)&&(k.ex=a(b.O));d=0;for(g=b.d.length;d<g;d++)k.instances.push(this.om(b.d[d]));n.types[b.W.toString()]=k}c=
0;for(h=this.Tc.length;c<h;c++)d=this.Tc[c],n.layouts[d.W.toString()]=d.yb();g=n.events.groups;c=0;for(h=this.Af.length;c<h;c++)d=this.Af[c],g[d.W.toString()]=this.Pg[d.Og].Of;h=n.events.cnds;for(f in this.ee)this.ee.hasOwnProperty(f)&&(c=this.ee[f],Pa(c.O)&&(h[f]={ex:a(c.O)}));h=n.events.acts;for(f in this.Wd)this.Wd.hasOwnProperty(f)&&(c=this.Wd[f],Pa(c.O)&&(h[f]={ex:a(c.O)}));h=n.events.vars;for(f in this.sg)this.sg.hasOwnProperty(f)&&(c=this.sg[f],c.Li||c.parent&&!c.Zg||(h[f]=c.data));n.system=
this.nd.yb();return JSON.stringify(n)};e.prototype.vp=function(){var a,c,h,d,g,b;this.Gd={};a=0;for(c=this.n.length;a<c;a++)if(h=this.n[a],!h.B)for(d=0,g=h.d.length;d<g;d++)b=h.d[d],this.Gd[b.uid.toString()]=b};e.prototype.Qt=function(a){var c;try{c=JSON.parse(a)}catch(h){return!1}if(!c.c2save||1<c.version)return!1;this.Vg=!0;a=c.rt;this.ac.reset();this.ac.ta=a.time;this.Zj.reset();this.Zj.ta=a.walltime||0;this.og=a.timescale;this.Gc=a.tickcount;this.Fg=a.execcount;this.Ij=Date.now()-a.start_time_offset;
var d=a.running_layout;if(d!==this.ka.W)if(d=this.Tn(d))this.Gn(d);else return;var g,b,k,f,n,e,v;e=c.types;for(b in e)if(e.hasOwnProperty(b)&&(f=this.Di(parseInt(b,10)))&&!f.B&&!this.Im(f)){e[b].ex?f.O=e[b].ex:Qa(f.O);n=f.d;k=e[b].instances;d=0;for(g=ma(n.length,k.length);d<g;d++)this.Vi(n[d],k[d]);d=k.length;for(g=n.length;d<g;d++)this.Je(n[d]);d=n.length;for(g=k.length;d<g;d++){n=null;if(f.ma.re&&(n=this.ka.Ci(k[d].w.l),!n))continue;n=this.ge(f.vc,n,!1,0,0,!0);this.Vi(n,k[d])}f.mg=!0}this.rb();
this.vp();g=c.layouts;for(b in g)g.hasOwnProperty(b)&&(d=this.Tn(parseInt(b,10)))&&d.Pb(g[b]);g=c.events.groups;for(b in g)g.hasOwnProperty(b)&&(d=this.Ts(parseInt(b,10)))&&this.Pg[d.Og]&&this.Pg[d.Og].Eu(g[b]);d=c.events.cnds;for(b in this.ee)this.ee.hasOwnProperty(b)&&(d.hasOwnProperty(b)?this.ee[b].O=d[b].ex:this.ee[b].O={});d=c.events.acts;for(b in this.Wd)this.Wd.hasOwnProperty(b)&&(d.hasOwnProperty(b)?this.Wd[b].O=d[b].ex:this.Wd[b].O={});d=c.events.vars;for(b in d)d.hasOwnProperty(b)&&this.sg.hasOwnProperty(b)&&
(this.sg[b].data=d[b]);this.ph=a.next_uid;this.Vg=!1;d=0;for(g=this.ti.length;d<g;++d)n=this.ti[d],this.trigger(Object.getPrototypeOf(n.type.ma).q.Qh,n);R(this.ti);this.nd.Pb(c.system);d=0;for(g=this.n.length;d<g;d++)if(f=this.n[d],!f.B&&!this.Im(f))for(c=0,b=f.d.length;c<b;c++){n=f.d[c];if(f.Ob)for(e=n.Ng(),R(n.siblings),a=0,k=f.Xb.length;a<k;a++)v=f.Xb[a],f!==v&&n.siblings.push(v.d[e]);n.Ke&&n.Ke();if(n.J)for(a=0,k=n.J.length;a<k;a++)e=n.J[a],e.Ke&&e.Ke()}return this.ca=!0};e.prototype.om=function(c,
h){var d,g,b,k,f;k=c.type;b=k.ma;var n={};h?n.c2=!0:n.uid=c.uid;Pa(c.O)&&(n.ex=a(c.O));if(c.Ua&&c.Ua.length)for(n.ivs={},d=0,g=c.Ua.length;d<g;d++)n.ivs[c.type.ml[d].toString()]=c.Ua[d];if(b.re){b={x:c.x,y:c.y,w:c.width,h:c.height,l:c.e.W,zi:c.jd()};0!==c.j&&(b.a=c.j);1!==c.opacity&&(b.o=c.opacity);.5!==c.Lb&&(b.hX=c.Lb);.5!==c.Mb&&(b.hY=c.Mb);0!==c.sb&&(b.bm=c.sb);c.visible||(b.v=c.visible);c.sd||(b.ce=c.sd);-1!==c.oh&&(b.mts=c.oh);if(k.L.length)for(b.fx=[],d=0,g=k.L.length;d<g;d++)f=k.L[d],b.fx.push({name:f.name,
active:c.Vd[f.index],params:c.Ca[f.index]});n.w=b}if(c.J&&c.J.length)for(n.behs={},d=0,g=c.J.length;d<g;d++)k=c.J[d],k.yb&&(n.behs[k.type.W.toString()]=k.yb());c.yb&&(n.data=c.yb());return n};e.prototype.Vs=function(a,c){var h,d;h=0;for(d=a.ml.length;h<d;h++)if(a.ml[h]===c)return h;return-1};e.prototype.Rs=function(a,c){var h,d;h=0;for(d=a.J.length;h<d;h++)if(a.J[h].type.W===c)return h;return-1};e.prototype.Vi=function(a,c,h){var d,g,b,k,f;f=a.type;var n=f.ma;if(h){if(!c.c2)return}else a.uid=c.uid;
c.ex?a.O=c.ex:Qa(a.O);if(g=c.ivs)for(d in g)g.hasOwnProperty(d)&&(b=this.Vs(f,parseInt(d,10)),0>b||b>=a.Ua.length||(k=g[d],null===k&&(k=NaN),a.Ua[b]=k));if(n.re){b=c.w;a.e.W!==b.l&&(g=a.e,a.e=this.ka.Ci(b.l),a.e?(g.hg(a,!0),a.e.wg(a,!0),a.K(),a.e.yh(0)):(a.e=g,h||this.Je(a)));a.x=b.x;a.y=b.y;a.width=b.w;a.height=b.h;a.cd=b.zi;a.j=b.hasOwnProperty("a")?b.a:0;a.opacity=b.hasOwnProperty("o")?b.o:1;a.Lb=b.hasOwnProperty("hX")?b.hX:.5;a.Mb=b.hasOwnProperty("hY")?b.hY:.5;a.visible=b.hasOwnProperty("v")?
b.v:!0;a.sd=b.hasOwnProperty("ce")?b.ce:!0;a.oh=b.hasOwnProperty("mts")?b.mts:-1;a.sb=b.hasOwnProperty("bm")?b.bm:0;a.zg=bb(a.sb);this.u&&cb(a,a.sb,this.u);a.K();if(b.hasOwnProperty("fx"))for(h=0,g=b.fx.length;h<g;h++)k=f.Wk(b.fx[h].name),0>k||(a.Vd[k]=b.fx[h].active,a.Ca[k]=b.fx[h].params);a.ad()}if(f=c.behs)for(d in f)f.hasOwnProperty(d)&&(h=this.Rs(a,parseInt(d,10)),0>h||a.J[h].Pb(f[d]));c.data&&a.Pb(c.data)};e.prototype.Ln=function(a,c,h){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+
"www/"+a,function(a){a.file(c,h)},h)};e.prototype.Ms=function(a,c){this.Ln("data.js",function(h){var d=new FileReader;d.onload=function(c){a(c.target.result)};d.onerror=c;d.readAsText(h)},c)};var U=[],F=0;e.prototype.Pl=function(){if(U.length&&!(8<=F)){F++;var a=U.shift();this.Gr(a.filename,a.Ku,a.ds)}};e.prototype.Ls=function(a,c,h){var d=this;U.push({filename:a,Ku:function(a){F--;d.Pl();c(a)},ds:function(a){F--;d.Pl();h(a)}});this.Pl()};e.prototype.Gr=function(a,c,h){this.Ln(a,function(a){var h=
new FileReader;h.onload=function(a){c(a.target.result)};h.readAsArrayBuffer(a)},h)};e.prototype.Ns=function(a,c,h){var d="",b=a.toLowerCase(),g=b.substr(b.length-4),b=b.substr(b.length-5);".mp4"===g?d="video/mp4":".webm"===b?d="video/webm":".m4a"===g?d="audio/mp4":".mp3"===g&&(d="audio/mpeg");this.Ls(a,function(a){a=URL.createObjectURL(new Blob([a],{type:d}));c(a)},h)};e.prototype.Ct=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};e.prototype.Cp=function(a,
c){this.mo&&!this.Ct(c)?this.Ns(c,function(c){a.src=c},function(a){alert("Failed to load image: "+a)}):a.src=c};e.prototype.Aj=function(a,c){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=c:(a.webkitImageSmoothingEnabled=c,a.mozImageSmoothingEnabled=c,a.msImageSmoothingEnabled=c)};Mb=function(a){return new e(document.getElementById(a))};Nb=function(a,c){return new e({dc:!0,width:a,height:c})};window.cr_createRuntime=Mb;window.cr_createDCRuntime=Nb;window.createCocoonJSRuntime=
function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Uh=!0;document.body.appendChild(a);a=new e(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new e(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,
window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var e=document.getElementById("c2canvas");return e?e.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(e,p){var m=window.cr_getC2Runtime();m&&m.Er(e,p)};window.cr_sizeCanvas=function(e,p){if(0!==e&&0!==p){var m=window.cr_getC2Runtime();m&&m.setSize(e,p)}};window.cr_setSuspended=function(e){var p=window.cr_getC2Runtime();p&&p.setSuspended(e)};
(function(){function e(a,d){this.b=a;this.Te=null;this.scrollX=this.b.Za/2;this.scrollY=this.b.Ya/2;this.scale=1;this.j=0;this.Lf=!0;this.name=d[0];this.eu=d[1];this.du=d[2];this.width=d[1];this.height=d[2];this.Xp=d[3];this.Hp=d[4];this.W=d[5];var b=d[6],g,f;this.N=[];this.Sg=[];g=0;for(f=b.length;g<f;g++){var e=new Ob(this,b[g]);e.$o=g;this.N.push(e)}b=d[7];this.le=[];g=0;for(f=b.length;g<f;g++){var e=b[g],l=this.b.n[e[1]];l.vc||(l.vc=e);this.le.push(e);-1===this.Sg.indexOf(l)&&this.Sg.push(l)}this.L=
[];this.ba=[];this.Jd=!0;this.Ca=[];g=0;for(f=d[8].length;g<f;g++)this.L.push({id:d[8][g][0],name:d[8][g][1],Ma:-1,Vc:!1,bb:!0,index:g}),this.Ca.push(d[8][g][2].slice(0));this.ad();this.fg=new sa(0,0,1,1);this.im=new sa(0,0,1,1);this.ze={}}function p(a,d){return a.cd-d.cd}function m(a,d){this.Ha=a;this.b=a.b;this.d=[];this.scale=1;this.j=0;this.wd=!1;this.Rd=new sa(0,0,0,0);this.Sp=new ta;this.Y=this.U=this.Z=this.T=0;this.wf=!1;this.Td=-1;this.vk=0;this.name=d[0];this.index=d[1];this.W=d[2];this.visible=
d[3];this.Lc=d[4];this.$c=d[5];this.zc=d[6];this.Ac=d[7];this.opacity=d[8];this.yi=d[9];this.rc=d[10];this.dd=d[11];this.sb=d[12];this.$r=d[13];this.zg="source-over";this.ub=this.zb=0;this.pb=null;this.Ed=l();this.Xc=!0;this.Wf=new sa(0,0,-1,-1);this.lb=new sa(0,0,-1,-1);this.rc&&(this.pb=new ab(this.b.Za,this.b.Ya));this.md=!1;var b=d[14],g,f;this.Np=[];this.kc=[];this.Bg=[];g=0;for(f=b.length;g<f;g++){var e=b[g],q=this.b.n[e[1]];q.vc||(q.vc=e,q.Dr=this.index);this.kc.push(e);-1===this.Ha.Sg.indexOf(q)&&
this.Ha.Sg.push(q)}xa(this.Np,this.kc);this.L=[];this.ba=[];this.Jd=!0;this.Ca=[];g=0;for(f=d[15].length;g<f;g++)this.L.push({id:d[15][g][0],name:d[15][g][1],Ma:-1,Vc:!1,bb:!0,index:g}),this.Ca.push(d[15][g][2].slice(0));this.ad();this.fg=new sa(0,0,1,1);this.im=new sa(0,0,1,1)}function l(){return a.length?a.pop():[]}function r(c){R(c);a.push(c)}e.prototype.Cu=function(a){var d=a.type.W.toString();this.ze.hasOwnProperty(d)||(this.ze[d]=[]);this.ze[d].push(this.b.om(a))};e.prototype.$n=function(){var a=
this.N[0];return!a.$c&&1===a.opacity&&!a.yi&&a.visible};e.prototype.ad=function(){R(this.ba);this.Jd=!0;var a,d,b;a=0;for(d=this.L.length;a<d;a++)b=this.L[a],b.bb&&(this.ba.push(b),b.Vc||(this.Jd=!1))};e.prototype.Vk=function(a){var d,b,g;d=0;for(b=this.L.length;d<b;d++)if(g=this.L[d],g.name===a)return g;return null};var t=[],b=!0;e.prototype.Am=function(){this.Hp&&(this.Te=this.b.Ik[this.Hp],this.Te.Km());this.b.ka=this;this.width=this.eu;this.height=this.du;this.scrollX=this.b.Za/2;this.scrollY=
this.b.Ya/2;var a,d,k,g,f,e,l;a=0;for(k=this.b.n.length;a<k;a++)if(d=this.b.n[a],!d.B)for(f=d.d,d=0,g=f.length;d<g;d++)if(e=f[d],e.e){var h=e.e.$o;h>=this.N.length&&(h=this.N.length-1);e.e=this.N[h];-1===e.e.d.indexOf(e)&&e.e.d.push(e);e.e.wf=!0}if(!b)for(a=0,k=this.N.length;a<k;++a)this.N[a].d.sort(p);R(t);this.kr();a=0;for(k=this.N.length;a<k;a++)e=this.N[a],e.Br(),e.Wj();f=!1;if(!this.Lf){for(l in this.ze)if(this.ze.hasOwnProperty(l)&&(d=this.b.Di(parseInt(l,10)))&&!d.B&&this.b.Jm(d)){g=this.ze[l];
a=0;for(k=g.length;a<k;a++){e=null;if(d.ma.re&&(e=this.Ci(g[a].w.l),!e))continue;e=this.b.ge(d.vc,e,!1,0,0,!0);this.b.Vi(e,g[a]);f=!0;t.push(e)}R(g)}a=0;for(k=this.N.length;a<k;a++)this.N[a].d.sort(p),this.N[a].wf=!0}f&&(this.b.rb(),this.b.vp());for(a=0;a<t.length;a++)if(e=t[a],e.type.Ob)for(k=e.Ng(),d=0,g=e.type.Xb.length;d<g;d++)l=e.type.Xb[d],e.type!==l&&(l.d.length>k?e.siblings.push(l.d[k]):l.vc&&(f=this.b.ge(l.vc,e.e,!0,e.x,e.y,!0),this.b.rb(),l.Vj(),e.siblings.push(f),t.push(f)));a=0;for(k=
this.le.length;a<k;a++)e=this.le[a],d=this.b.n[e[1]],d.Ob||this.b.ge(this.le[a],null,!0);this.b.tk=null;this.b.rb();if(this.b.Ba&&!this.b.Va)for(a=0,k=this.b.n.length;a<k;a++)l=this.b.n[a],!l.B&&l.d.length&&l.oj&&l.oj(this.b.Ba);if(this.b.Vg)xa(this.b.ti,t);else for(a=0,k=t.length;a<k;a++)e=t[a],this.b.trigger(Object.getPrototypeOf(e.type.ma).q.Qh,e);R(t);this.b.Vg||this.b.trigger(X.prototype.q.Kq,null);this.Lf=!1};e.prototype.Ar=function(){var a,d,b,g,f;d=a=0;for(b=this.le.length;a<b;a++)g=this.le[a],
f=this.b.n[g[1]],f.global?f.Ob||this.b.ge(g,null,!0):(this.le[d]=g,d++);wa(this.le,d)};e.prototype.Ju=function(){this.b.Vg||this.b.trigger(X.prototype.q.Jq,null);this.b.pl=!0;R(this.b.nd.Ub);var a,d,k,g,f,e;if(!this.Lf)for(a=0,d=this.N.length;a<d;a++)for(this.N[a].Mm(),f=this.N[a].d,k=0,g=f.length;k<g;k++)e=f[k],e.type.global||this.b.Jm(e.type)&&this.Cu(e);a=0;for(d=this.N.length;a<d;a++){f=this.N[a].d;k=0;for(g=f.length;k<g;k++)e=f[k],e.type.global||this.b.Je(e);this.b.rb();R(f);this.N[a].wf=!0}a=
0;for(d=this.b.n.length;a<d;a++)if(f=this.b.n[a],!(f.global||f.ma.re||f.ma.Ej||f.B)){k=0;for(g=f.d.length;k<g;k++)this.b.Je(f.d[k]);this.b.rb()}b=!1;this.b.pl=!1};new sa(0,0,0,0);e.prototype.Yb=function(a){var d,b=a,g=!1,f=!this.b.jc;f&&(this.b.Ti||(this.b.Ti=document.createElement("canvas"),d=this.b.Ti,d.width=this.b.I,d.height=this.b.H,this.b.zo=d.getContext("2d"),g=!0),d=this.b.Ti,b=this.b.zo,d.width!==this.b.I&&(d.width=this.b.I,g=!0),d.height!==this.b.H&&(d.height=this.b.H,g=!0),g&&this.b.Aj(b,
this.b.la));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.b.xn&&!this.$n()&&b.clearRect(0,0,this.b.I,this.b.H);var e,l,g=0;for(e=this.N.length;g<e;g++)l=this.N[g],l.visible&&0<l.opacity&&11!==l.sb&&(l.d.length||!l.$c)?l.Yb(b):l.Wj();f&&a.drawImage(d,0,0,this.b.width,this.b.height)};e.prototype.Gf=function(a){a.Bp(!0);this.b.Ia||(this.b.Ia=a.Ib(this.b.I,this.b.H,this.b.la));if(this.b.Ia.Pe!==this.b.I||this.b.Ia.Oe!==this.b.H)a.deleteTexture(this.b.Ia),this.b.Ia=a.Ib(this.b.I,this.b.H,
this.b.la);a.Dc(this.b.Ia);this.b.jc||a.tf(this.b.I,this.b.H);var d,b;for(d=this.N.length-1;0<=d;--d)b=this.N[d],b.visible&&1===b.opacity&&b.Jd&&0===b.sb&&(b.d.length||!b.$c)?b.Gf(a):b.Wj();a.Bp(!1)};e.prototype.wb=function(a){var d=0<this.ba.length||this.b.qg||!this.b.jc||this.b.ja;if(d){this.b.Ia||(this.b.Ia=a.Ib(this.b.I,this.b.H,this.b.la));if(this.b.Ia.Pe!==this.b.I||this.b.Ia.Oe!==this.b.H)a.deleteTexture(this.b.Ia),this.b.Ia=a.Ib(this.b.I,this.b.H,this.b.la);a.Dc(this.b.Ia);this.b.jc||a.tf(this.b.I,
this.b.H)}else this.b.Ia&&(a.Dc(null),a.deleteTexture(this.b.Ia),this.b.Ia=null);this.b.xn&&!this.$n()&&a.clear(0,0,0,0);var b,g,f;b=0;for(g=this.N.length;b<g;b++)f=this.N[b],f.visible&&0<f.opacity&&(f.d.length||!f.$c)?f.wb(a):f.Wj();d&&(0===this.ba.length||1===this.ba.length&&this.b.jc?(1===this.ba.length?(d=this.ba[0].index,a.Sb(this.ba[0].Ma),a.jg(null,1/this.b.I,1/this.b.H,0,0,1,1,this.scale,this.j,0,0,this.b.I/2,this.b.H/2,this.b.ac.ta,this.Ca[d]),a.pj(this.ba[0].Ma)&&(this.b.ca=!0)):a.Sb(0),
this.b.jc||a.tf(this.b.width,this.b.height),a.Dc(null),a.Ap(!1),a.Id(1),a.La(this.b.Ia),a.yp(),a.Cc(),a.qc(),d=this.b.width/2,b=this.b.height/2,a.Ae(-d,b,d,b,d,-b,-d,-b),a.La(null),a.Ap(!0)):this.jm(a,null,null,null))};e.prototype.Lg=function(){return 0<this.ba.length||this.b.qg||!this.b.jc||this.b.ja?this.b.Ia:null};e.prototype.Un=function(){var a=this.N[0].Kb(),d,b,g;d=1;for(b=this.N.length;d<b;d++)g=this.N[d],(0!==g.zc||0!==g.Ac)&&g.Kb()<a&&(a=g.Kb());return a};e.prototype.qm=function(a){if(!this.Xp){var d=
1/this.Un()*this.b.I/2;a>this.width-d&&(a=this.width-d);a<d&&(a=d)}this.scrollX!==a&&(this.scrollX=a,this.b.ca=!0)};e.prototype.rm=function(a){if(!this.Xp){var d=1/this.Un()*this.b.H/2;a>this.height-d&&(a=this.height-d);a<d&&(a=d)}this.scrollY!==a&&(this.scrollY=a,this.b.ca=!0)};e.prototype.kr=function(){this.qm(this.scrollX);this.rm(this.scrollY)};e.prototype.jm=function(a,d,b,g){var f=b?b.ba:d?d.ba:this.ba,e=1,l=0,h=0,n=0,w=this.b.I,q=this.b.H;b?(e=b.e.Kb(),l=b.e.Zb(),h=b.e.T,n=b.e.U,w=b.e.Z,q=
b.e.Y):d&&(e=d.Kb(),l=d.Zb(),h=d.T,n=d.U,w=d.Z,q=d.Y);var v=this.b.Pk,r,p,m,t,J=0,S=1,D,K,I=this.b.I,O=this.b.H,U=I/2,F=O/2,x=d?d.fg:this.fg,A=d?d.im:this.im,B=0,C=0,M=0,N=0,V=I,za=I,T=O,Aa=O,ra=m=0;t=b?b.e.Zb():0;if(b){r=0;for(p=f.length;r<p;r++)m+=a.Zs(f[r].Ma),ra+=a.$s(f[r].Ma);N=b.fa;B=d.wa(N.left,N.top,!0,!0);M=d.wa(N.left,N.top,!1,!0);V=d.wa(N.right,N.bottom,!0,!0);T=d.wa(N.right,N.bottom,!1,!0);0!==t&&(r=d.wa(N.right,N.top,!0,!0),p=d.wa(N.right,N.top,!1,!0),C=d.wa(N.left,N.bottom,!0,!0),N=
d.wa(N.left,N.bottom,!1,!0),t=Math.min(B,V,r,C),V=Math.max(B,V,r,C),B=t,t=Math.min(M,T,p,N),T=Math.max(M,T,p,N),M=t);B-=m;M-=ra;V+=m;T+=ra;A.left=B/I;A.top=1-M/O;A.right=V/I;A.bottom=1-T/O;C=B=Q(B);N=M=Q(M);za=V=oa(V);Aa=T=oa(T);C-=m;N-=ra;za+=m;Aa+=ra;0>B&&(B=0);0>M&&(M=0);V>I&&(V=I);T>O&&(T=O);0>C&&(C=0);0>N&&(N=0);za>I&&(za=I);Aa>O&&(Aa=O);x.left=B/I;x.top=1-M/O;x.right=V/I;x.bottom=1-T/O}else x.left=A.left=0,x.top=A.top=0,x.right=A.right=1,x.bottom=A.bottom=1;ra=b&&(a.vh(f[0].Ma)||0!==m||0!==
ra||1!==b.opacity||b.type.ma.Xo)||d&&!b&&1!==d.opacity;a.yp();if(ra){v[J]||(v[J]=a.Ib(I,O,this.b.la));if(v[J].Pe!==I||v[J].Oe!==O)a.deleteTexture(v[J]),v[J]=a.Ib(I,O,this.b.la);a.Sb(0);a.Dc(v[J]);K=Aa-N;a.clearRect(C,O-N-K,za-C,K);b?b.wb(a):(a.La(this.b.Wa),a.Id(d.opacity),a.Cc(),a.translate(-U,-F),a.qc(),a.Hd(B,T,V,T,V,M,B,M,x));A.left=A.top=0;A.right=A.bottom=1;b&&(t=x.top,x.top=x.bottom,x.bottom=t);J=1;S=0}a.Id(1);m=f.length-1;var Ya=a.em(f[m].Ma)||!d&&!b&&!this.b.jc;r=t=0;for(p=f.length;r<p;r++){v[J]||
(v[J]=a.Ib(I,O,this.b.la));if(v[J].Pe!==I||v[J].Oe!==O)a.deleteTexture(v[J]),v[J]=a.Ib(I,O,this.b.la);a.Sb(f[r].Ma);t=f[r].index;a.pj(f[r].Ma)&&(this.b.ca=!0);0!=r||ra?(a.jg(g,1/I,1/O,A.left,A.top,A.right,A.bottom,e,l,h,n,(h+w)/2,(n+q)/2,this.b.ac.ta,b?b.Ca[t]:d?d.Ca[t]:this.Ca[t]),a.La(null),r!==m||Ya?(a.Dc(v[J]),K=Aa-N,D=O-N-K,a.clearRect(C,D,za-C,K)):(b?a.Be(b.zb,b.ub):d&&a.Be(d.zb,d.ub),a.Dc(g)),a.La(v[S]),a.Cc(),a.translate(-U,-F),a.qc(),a.Hd(B,T,V,T,V,M,B,M,x),r!==m||Ya||a.La(null)):(a.Dc(v[J]),
K=Aa-N,D=O-N-K,a.clearRect(C,D,za-C,K),b?(b.kb&&b.kb.S?(D=b.kb.S,S=1/D.width,D=1/D.height):(S=1/b.width,D=1/b.height),a.jg(g,S,D,A.left,A.top,A.right,A.bottom,e,l,h,n,(h+w)/2,(n+q)/2,this.b.ac.ta,b.Ca[t]),b.wb(a)):(a.jg(g,1/I,1/O,0,0,1,1,e,l,h,n,(h+w)/2,(n+q)/2,this.b.ac.ta,d?d.Ca[t]:this.Ca[t]),a.La(d?this.b.Wa:this.b.Ia),a.Cc(),a.translate(-U,-F),a.qc(),a.Hd(B,T,V,T,V,M,B,M,x)),A.left=A.top=0,A.right=A.bottom=1,b&&!Ya&&(t=T,T=M,M=t));J=0===J?1:0;S=0===J?1:0}Ya&&(a.Sb(0),b?a.Be(b.zb,b.ub):d?a.Be(d.zb,
d.ub):this.b.jc||(a.tf(this.b.width,this.b.height),U=this.b.width/2,F=this.b.height/2,M=B=0,V=this.b.width,T=this.b.height),a.Dc(g),a.La(v[S]),a.Cc(),a.translate(-U,-F),a.qc(),b&&1===f.length&&!ra?a.Hd(B,M,V,M,V,T,B,T,x):a.Hd(B,T,V,T,V,M,B,M,x),a.La(null))};e.prototype.Ci=function(a){var d,b;d=0;for(b=this.N.length;d<b;d++)if(this.N[d].W===a)return this.N[d];return null};e.prototype.yb=function(){var a,d,b,g={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.j,w:this.width,h:this.height,fv:this.Lf,
persist:this.ze,fx:[],layers:{}};a=0;for(d=this.L.length;a<d;a++)b=this.L[a],g.fx.push({name:b.name,active:b.bb,params:this.Ca[b.index]});a=0;for(d=this.N.length;a<d;a++)b=this.N[a],g.layers[b.W.toString()]=b.yb();return g};e.prototype.Pb=function(a){var d,b,g,f;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.j=a.a;this.width=a.w;this.height=a.h;this.ze=a.persist;"undefined"!==typeof a.fv&&(this.Lf=a.fv);var e=a.fx;d=0;for(b=e.length;d<b;d++)if(g=this.Vk(e[d].name))g.bb=e[d].active,this.Ca[g.index]=
e[d].params;this.ad();d=a.layers;for(f in d)d.hasOwnProperty(f)&&(a=this.Ci(parseInt(f,10)))&&a.Pb(d[f])};Ab=e;m.prototype.ad=function(){R(this.ba);this.Jd=!0;var a,d,b;a=0;for(d=this.L.length;a<d;a++)b=this.L[a],b.bb&&(this.ba.push(b),b.Vc||(this.Jd=!1))};m.prototype.Vk=function(a){var d,b,g;d=0;for(b=this.L.length;d<b;d++)if(g=this.L[d],g.name===a)return g;return null};m.prototype.Br=function(){var a,d,b,g,f,e;d=a=0;for(b=this.kc.length;a<b;a++){g=this.kc[a];f=this.b.n[g[1]];e=this.b.Jm(f);f=!0;
if(!e||this.Ha.Lf){g=this.b.ge(g,this,!0);if(!g)continue;t.push(g);g.type.global&&(f=!1,this.Bg.push(g.uid))}f&&(this.kc[d]=this.kc[a],d++)}this.kc.length=d;this.b.rb();!this.b.k&&this.L.length&&(this.sb=this.$r);this.zg=bb(this.sb);this.b.u&&cb(this,this.sb,this.b.u);this.Xc=!0};m.prototype.hg=function(a,d){var b=Ba(this.d,a);0>b||(d&&this.rc&&a.Rb&&a.Rb.right>=a.Rb.left&&(a.aa(),this.pb.update(a,a.Rb,null),a.Rb.set(0,0,-1,-1)),b===this.d.length-1?this.d.pop():(va(this.d,b),this.yh(b)),this.Xc=!0)};
m.prototype.wg=function(a,d){a.cd=this.d.length;this.d.push(a);d&&this.rc&&a.Rb&&a.K();this.Xc=!0};m.prototype.nu=function(a){this.d.unshift(a);this.yh(0)};m.prototype.Wt=function(a,d,b){var g=a.jd();d=d.jd();va(this.d,g);g<d&&d--;b&&d++;d===this.d.length?this.d.push(a):this.d.splice(d,0,a);this.yh(g<d?g:d)};m.prototype.yh=function(a){-1===this.Td?this.Td=a:a<this.Td&&(this.Td=a);this.Xc=this.wf=!0};m.prototype.Mm=function(){if(this.wf){-1===this.Td&&(this.Td=0);var a,d,b;if(this.rc)for(a=this.Td,
d=this.d.length;a<d;++a)b=this.d[a],b.cd=a,this.pb.St(b.Rb);else for(a=this.Td,d=this.d.length;a<d;++a)this.d[a].cd=a;this.wf=!1;this.Td=-1}};m.prototype.Kb=function(a){return this.Ws()*(this.b.jc||a?this.b.xg:1)};m.prototype.Ws=function(){return(this.scale*this.Ha.scale-1)*this.dd+1};m.prototype.Zb=function(){return this.wd?0:Ga(this.Ha.j+this.j)};var a=[],f=[],q=[];m.prototype.Zk=function(){this.Mm();this.pb.tj(this.T,this.U,this.Z,this.Y,q);if(!q.length)return l();if(1===q.length){var a=l();xa(a,
q[0]);R(q);return a}for(var d=!0;1<q.length;){for(var a=q,b=void 0,g=void 0,e=void 0,p=void 0,m=void 0,b=0,g=a.length;b<g-1;b+=2){var e=a[b],p=a[b+1],m=l(),h=e,n=p,w=m,t=0,v=0,H=0,L=h.length,E=n.length,P=void 0,J=void 0;for(w.length=L+E;t<L&&v<E;++H)P=h[t],J=n[v],P.cd<J.cd?(w[H]=P,++t):(w[H]=J,++v);for(;t<L;++t,++H)w[H]=h[t];for(;v<E;++v,++H)w[H]=n[v];d||(r(e),r(p));f.push(m)}1===g%2&&(d?(e=l(),xa(e,a[g-1]),f.push(e)):f.push(a[g-1]));xa(a,f);R(f);d=!1}a=q[0];R(q);return a};m.prototype.Yb=function(a){this.md=
this.yi||1!==this.opacity||0!==this.sb;var d=this.b.canvas,b=a,g=!1;this.md&&(this.b.Si||(this.b.Si=document.createElement("canvas"),d=this.b.Si,d.width=this.b.I,d.height=this.b.H,this.b.yo=d.getContext("2d"),g=!0),d=this.b.Si,b=this.b.yo,d.width!==this.b.I&&(d.width=this.b.I,g=!0),d.height!==this.b.H&&(d.height=this.b.H,g=!0),g&&this.b.Aj(b,this.b.la),this.$c&&b.clearRect(0,0,this.b.I,this.b.H));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.$c||(b.fillStyle="rgb("+this.Lc[0]+","+
this.Lc[1]+","+this.Lc[2]+")",b.fillRect(0,0,this.b.I,this.b.H));b.save();this.wd=!0;var g=this.jb(0,0,!0,!0),f=this.jb(0,0,!1,!0);this.wd=!1;this.b.nc&&(g=Math.round(g),f=Math.round(f));this.wj(g,f,b);var e=this.Kb();b.scale(e,e);b.translate(-g,-f);this.rc?(this.lb.left=this.pb.Fb(this.T),this.lb.top=this.pb.Gb(this.U),this.lb.right=this.pb.Fb(this.Z),this.lb.bottom=this.pb.Gb(this.Y),this.Xc||!this.lb.Dg(this.Wf)?(r(this.Ed),g=this.Zk(),this.Xc=!1,this.Wf.Cf(this.lb)):g=this.Ed):g=this.d;for(var l,
h=null,f=0,e=g.length;f<e;++f)l=g[f],l!==h&&(this.Vr(l,b),h=l);this.rc&&(this.Ed=g);b.restore();this.md&&(a.globalCompositeOperation=this.zg,a.globalAlpha=this.opacity,a.drawImage(d,0,0))};m.prototype.Vr=function(a,d){if(a.visible&&0!==a.width&&0!==a.height){a.aa();var b=a.fa;b.right<this.T||b.bottom<this.U||b.left>this.Z||b.top>this.Y||(d.globalCompositeOperation=a.zg,a.Yb(d))}};m.prototype.Wj=function(){this.wd=!0;var a=this.jb(0,0,!0,!0),d=this.jb(0,0,!1,!0);this.wd=!1;this.b.nc&&(a=Math.round(a),
d=Math.round(d));this.wj(a,d,null)};m.prototype.wj=function(a,d,b){var g=this.Kb();this.T=a;this.U=d;this.Z=a+1/g*this.b.I;this.Y=d+1/g*this.b.H;this.T>this.Z&&(a=this.T,this.T=this.Z,this.Z=a);this.U>this.Y&&(a=this.U,this.U=this.Y,this.Y=a);a=this.Zb();0!==a&&(b&&(b.translate(this.b.I/2,this.b.H/2),b.rotate(-a),b.translate(this.b.I/-2,this.b.H/-2)),this.Rd.set(this.T,this.U,this.Z,this.Y),this.Rd.offset((this.T+this.Z)/-2,(this.U+this.Y)/-2),this.Sp.Fp(this.Rd,a),this.Sp.pn(this.Rd),this.Rd.offset((this.T+
this.Z)/2,(this.U+this.Y)/2),this.T=this.Rd.left,this.U=this.Rd.top,this.Z=this.Rd.right,this.Y=this.Rd.bottom)};m.prototype.Gf=function(a){if(this.md=this.yi){this.b.Wa||(this.b.Wa=a.Ib(this.b.I,this.b.H,this.b.la));if(this.b.Wa.Pe!==this.b.I||this.b.Wa.Oe!==this.b.H)a.deleteTexture(this.b.Wa),this.b.Wa=a.Ib(this.b.I,this.b.H,this.b.la);a.Dc(this.b.Wa)}this.wd=!0;var d=this.jb(0,0,!0,!0),b=this.jb(0,0,!1,!0);this.wd=!1;this.b.nc&&(d=Math.round(d),b=Math.round(b));this.wj(d,b,null);d=this.Kb();a.Cc();
a.scale(d,d);a.xj(-this.Zb());a.translate((this.T+this.Z)/-2,(this.U+this.Y)/-2);a.qc();this.rc?(this.lb.left=this.pb.Fb(this.T),this.lb.top=this.pb.Gb(this.U),this.lb.right=this.pb.Fb(this.Z),this.lb.bottom=this.pb.Gb(this.Y),this.Xc||!this.lb.Dg(this.Wf)?(r(this.Ed),d=this.Zk(),this.Xc=!1,this.Wf.Cf(this.lb)):d=this.Ed):d=this.d;for(var g,f=null,b=d.length-1;0<=b;--b)g=d[b],g!==f&&(this.Xr(d[b],a),f=g);this.rc&&(this.Ed=d);this.$c||(this.vk=this.b.Se++,a.Bj(this.vk),a.zp(1,1,1),a.On(),a.uu())};
m.prototype.wb=function(a){var d=0,b=0;if(this.md=this.yi||1!==this.opacity||0<this.ba.length||0!==this.sb){this.b.Wa||(this.b.Wa=a.Ib(this.b.I,this.b.H,this.b.la));if(this.b.Wa.Pe!==this.b.I||this.b.Wa.Oe!==this.b.H)a.deleteTexture(this.b.Wa),this.b.Wa=a.Ib(this.b.I,this.b.H,this.b.la);a.Dc(this.b.Wa);this.$c&&a.clear(0,0,0,0)}this.$c||(this.b.ja?(a.Bj(this.vk),a.zp(this.Lc[0]/255,this.Lc[1]/255,this.Lc[2]/255),a.On(),a.Fu()):a.clear(this.Lc[0]/255,this.Lc[1]/255,this.Lc[2]/255,1));this.wd=!0;var g=
this.jb(0,0,!0,!0),d=this.jb(0,0,!1,!0);this.wd=!1;this.b.nc&&(g=Math.round(g),d=Math.round(d));this.wj(g,d,null);g=this.Kb();a.Cc();a.scale(g,g);a.xj(-this.Zb());a.translate((this.T+this.Z)/-2,(this.U+this.Y)/-2);a.qc();this.rc?(this.lb.left=this.pb.Fb(this.T),this.lb.top=this.pb.Gb(this.U),this.lb.right=this.pb.Fb(this.Z),this.lb.bottom=this.pb.Gb(this.Y),this.Xc||!this.lb.Dg(this.Wf)?(r(this.Ed),d=this.Zk(),this.Xc=!1,this.Wf.Cf(this.lb)):d=this.Ed):d=this.d;var f,e,l=null,b=0;for(f=d.length;b<
f;++b)e=d[b],e!==l&&(this.Wr(d[b],a),l=e);this.rc&&(this.Ed=d);this.md&&(d=this.ba.length?this.ba[0].Ma:0,b=this.ba.length?this.ba[0].index:0,0===this.ba.length||1===this.ba.length&&!a.em(d)&&1===this.opacity?(1===this.ba.length?(a.Sb(d),a.jg(this.Ha.Lg(),1/this.b.I,1/this.b.H,0,0,1,1,g,this.Zb(),this.T,this.U,(this.T+this.Z)/2,(this.U+this.Y)/2,this.b.ac.ta,this.Ca[b]),a.pj(d)&&(this.b.ca=!0)):a.Sb(0),a.Dc(this.Ha.Lg()),a.Id(this.opacity),a.La(this.b.Wa),a.Be(this.zb,this.ub),a.Cc(),a.qc(),g=this.b.I/
2,d=this.b.H/2,a.Ae(-g,d,g,d,g,-d,-g,-d),a.La(null)):this.Ha.jm(a,this,null,this.Ha.Lg()))};m.prototype.Wr=function(a,d){if(a.visible&&0!==a.width&&0!==a.height){a.aa();var b=a.fa;b.right<this.T||b.bottom<this.U||b.left>this.Z||b.top>this.Y||(d.Bj(a.Se),a.cq?this.Yr(a,d):(d.Sb(0),d.Be(a.zb,a.ub),a.wb(d)))}};m.prototype.Xr=function(a,d){if(a.visible&&0!==a.width&&0!==a.height){a.aa();var b=a.fa;b.right<this.T||b.bottom<this.U||b.left>this.Z||b.top>this.Y||(a.Se=this.b.Se++,0===a.sb&&1===a.opacity&&
a.Jd&&a.Gf&&(d.Bj(a.Se),a.Gf(d)))}};m.prototype.Yr=function(a,b){var f=a.ba[0].Ma,g=a.ba[0].index,e=this.Kb();if(1!==a.ba.length||b.em(f)||b.pu(f)||(a.j||a.e.Zb())&&b.vh(f)||1!==a.opacity||a.type.ma.Xo)this.Ha.jm(b,this,a,this.md?this.b.Wa:this.Ha.Lg()),b.Cc(),b.scale(e,e),b.xj(-this.Zb()),b.translate((this.T+this.Z)/-2,(this.U+this.Y)/-2),b.qc();else{b.Sb(f);b.Be(a.zb,a.ub);b.pj(f)&&(this.b.ca=!0);var l=0,q=0,h=0,n=0;b.vh(f)&&(n=a.fa,l=this.wa(n.left,n.top,!0,!0),q=this.wa(n.left,n.top,!1,!0),h=
this.wa(n.right,n.bottom,!0,!0),n=this.wa(n.right,n.bottom,!1,!0),l=l/windowWidth,q=1-q/windowHeight,h=h/windowWidth,n=1-n/windowHeight);var w;a.kb&&a.kb.S?(w=a.kb.S,f=1/w.width,w=1/w.height):(f=1/a.width,w=1/a.height);b.jg(this.md?this.b.Wa:this.Ha.Lg(),f,w,l,q,h,n,e,this.Zb(),this.T,this.U,(this.T+this.Z)/2,(this.U+this.Y)/2,this.b.ac.ta,a.Ca[g]);a.wb(b)}};m.prototype.jb=function(a,b,f,g){var e=this.b.devicePixelRatio;this.b.Ye&&(a*=e,b*=e);var e=this.b.jp,l=this.b.kp,e=(this.Ha.scrollX-e)*this.zc+
e,l=(this.Ha.scrollY-l)*this.Ac+l,q=e,h=l,n=1/this.Kb(!g);g?(q-=this.b.I*n/2,h-=this.b.H*n/2):(q-=this.b.width*n/2,h-=this.b.height*n/2);q+=a*n;h+=b*n;b=this.Zb();0!==b&&(q-=e,h-=l,a=Math.cos(b),b=Math.sin(b),g=q*a-h*b,h=h*a+q*b,q=g+e,h+=l);return f?q:h};m.prototype.wa=function(a,b,f,g){var e=this.b.jp,l=this.b.kp,q=(this.Ha.scrollX-e)*this.zc+e,h=(this.Ha.scrollY-l)*this.Ac+l,l=q,e=h,n=this.Zb();if(0!==n){a-=q;b-=h;var w=Math.cos(-n),n=Math.sin(-n),r=a*w-b*n;b=b*w+a*n;a=r+q;b+=h}q=1/this.Kb(!g);
g?(l-=this.b.I*q/2,e-=this.b.H*q/2):(l-=this.b.width*q/2,e-=this.b.height*q/2);l=(a-l)/q;e=(b-e)/q;a=this.b.devicePixelRatio;this.b.Ye&&!g&&(l/=a,e/=a);return f?l:e};m.prototype.yb=function(){var a,b,f,g={s:this.scale,a:this.j,vl:this.T,vt:this.U,vr:this.Z,vb:this.Y,v:this.visible,bc:this.Lc,t:this.$c,px:this.zc,py:this.Ac,o:this.opacity,zr:this.dd,fx:[],cg:this.Bg,instances:[]};a=0;for(b=this.L.length;a<b;a++)f=this.L[a],g.fx.push({name:f.name,active:f.bb,params:this.Ca[f.index]});return g};m.prototype.Pb=
function(a){var b,f,g;this.scale=a.s;this.j=a.a;this.T=a.vl;this.U=a.vt;this.Z=a.vr;this.Y=a.vb;this.visible=a.v;this.Lc=a.bc;this.$c=a.t;this.zc=a.px;this.Ac=a.py;this.opacity=a.o;this.dd=a.zr;this.Bg=a.cg||[];xa(this.kc,this.Np);var e=new ba;b=0;for(g=this.Bg.length;b<g;++b)e.add(this.Bg[b]);f=b=0;for(g=this.kc.length;b<g;++b)e.contains(this.kc[b][2])||(this.kc[f]=this.kc[b],++f);wa(this.kc,f);f=a.fx;b=0;for(g=f.length;b<g;b++)if(a=this.Vk(f[b].name))a.bb=f[b].active,this.Ca[a.index]=f[b].params;
this.ad();this.d.sort(p);this.wf=!0};Ob=m})();
(function(){function e(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function p(a,b){return a.index-b.index}function m(a){var b,c,d,g;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(p);a.length>=u.length&&(u.length=a.length+1);u[a.length]||(u[a.length]=[]);g=u[a.length];b=0;for(c=g.length;b<c;b++)if(d=g[b],e(a,d))return d;g.push(a);return a}
function l(a,b){this.b=a;this.Up={};this.Kn={};this.el=!1;this.bo=new ba;this.Ak=[];this.jk=[];this.name=b[0];var c=b[1];this.ie=[];var d,g;d=0;for(g=c.length;d<g;d++)this.eo(c[d],null,this.ie)}function r(a){this.type=a;this.d=[];this.R=[];this.da=!0}function t(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.na=[];this.Ee=[];this.ao=this.Rj=this.Fm=this.hl=this.group=this.Lp=!1;this.eb=[];this.Jc=[];this.Ec=[];this.Og="";this.Of=this.hl=this.group=!1;this.ji=null;c[1]&&(this.Og=c[1][1].toLowerCase(),
this.group=!0,this.hl=!!c[1][0],this.ji=[],this.Of=this.hl,this.b.Af.push(this),this.b.Pg[this.Og]=this);this.mc=c[2];this.W=c[4];this.group||(this.b.nn[this.W.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var g=new Pb(this,d[a]);g.index=a;this.eb.push(g);this.hn(g.type)}d=c[6];a=0;for(b=d.length;a<b;a++)g=new Qb(this,d[a]),g.index=a,this.Jc.push(g);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.eo(c[a],this,this.Ec);this.Mi=!1;this.eb.length&&(this.Mi=null==this.eb[0].type&&
this.eb[0].mb==X.prototype.q.pq)}function b(a,b){var c,d,g;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Ob))for(c=0,d=a.Xb.length;c<d;c++)g=a.Xb[c],a!==g&&-1===b.indexOf(g)&&b.push(g)}function a(a,b){this.ic=a;this.sheet=a.sheet;this.b=a.b;this.Q=[];this.Da=[];this.O={};this.index=-1;this.ug=!1;this.mb=this.b.Ud(b[1]);this.trigger=0<b[3];this.Jn=2===b[3];this.Hi=b[5];this.Pt=b[6];this.W=b[7];this.b.ee[this.W.toString()]=this;-1===b[0]?(this.type=null,this.Ka=this.nm,this.Ne=null,this.Nc=-1):(this.type=this.b.n[b[0]],
this.Ka=this.Pt?this.Au:this.mm,b[2]?(this.Ne=this.type.Bi(b[2]),this.Nc=this.type.Rk(b[2])):(this.Ne=null,this.Nc=-1),this.ic.parent&&this.ic.parent.Cj());this.Jn&&(this.Ka=this.Bu);if(10===b.length){var c,d,g=b[9];c=0;for(d=g.length;c<d;c++){var f=new Rb(this,g[c]);this.Q.push(f)}this.Da.length=g.length}}function f(a,b){this.ic=a;this.sheet=a.sheet;this.b=a.b;this.Q=[];this.Da=[];this.O={};this.index=-1;this.ug=!1;this.mb=this.b.Ud(b[1]);-1===b[0]?(this.type=null,this.Ka=this.nm,this.Ne=null,this.Nc=
-1):(this.type=this.b.n[b[0]],this.Ka=this.mm,b[2]?(this.Ne=this.type.Bi(b[2]),this.Nc=this.type.Rk(b[2])):(this.Ne=null,this.Nc=-1));this.W=b[3];this.b.Wd[this.W.toString()]=this;if(6===b.length){var c,d,g=b[5];c=0;for(d=g.length;c<d;c++){var f=new Rb(this,g[c]);this.Q.push(f)}this.Da.length=g.length}}function q(){G++;y.length===G&&y.push(new Sb);return y[G]}function c(a,b){this.pa=a;this.ic=a.ic;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.hd=null;this.Od=0;this.get=null;this.yn=0;this.Ha=
null;this.key=0;this.object=null;this.index=0;this.Kh=this.vf=this.Kh=this.vf=this.Mn=this.Ue=this.Lh=null;this.Hc=!1;var c,d,g;switch(b[0]){case 0:case 7:this.hd=new Tb(this,b[1]);this.Od=0;this.get=this.ht;break;case 1:this.hd=new Tb(this,b[1]);this.Od=0;this.get=this.it;break;case 5:this.hd=new Tb(this,b[1]);this.Od=0;this.get=this.mt;break;case 3:case 8:this.yn=b[1];this.get=this.et;break;case 6:this.Ha=this.b.El[b[1]];this.get=this.nt;break;case 9:this.key=b[1];this.get=this.lt;break;case 4:this.object=
this.b.n[b[1]];this.get=this.ot;this.ic.hn(this.object);this.pa instanceof Qb?this.ic.Cj():this.ic.parent&&this.ic.parent.Cj();break;case 10:this.index=b[1];a.type&&a.type.B?(this.get=this.jt,this.Hc=!0):this.get=this.kt;break;case 11:this.Lh=b[1];this.Ue=null;this.get=this.gt;break;case 2:case 12:this.Mn=b[1];this.get=this.dt;break;case 13:for(this.get=this.pt,this.vf=[],this.Kh=[],c=1,d=b.length;c<d;c++)g=new Rb(this.pa,b[c]),this.vf.push(g),this.Kh.push(0)}}function d(a,b,c){this.sheet=a;this.parent=
b;this.b=a.b;this.na=[];this.name=c[1];this.Xj=c[2];this.gl=c[3];this.Zg=!!c[4];this.Li=!!c[5];this.W=c[6];this.b.sg[this.W.toString()]=this;this.data=this.gl;this.parent?(this.jf=this.Zg||this.Li?-1:this.b.Iu++,this.b.fr.push(this)):(this.jf=-1,this.b.er.push(this))}function k(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.na=[];this.Rg=null;this.xt=c[1];this.bb=!0}function g(){this.Op=[];this.reset(null)}var u=[];l.prototype.toString=function(){return this.name};l.prototype.eo=function(a,b,c){switch(a[0]){case 0:a=
new Ub(this,b,a);if(a.mc)for(c.push(a),c=0,b=a.eb.length;c<b;c++)a.eb[c].trigger&&this.fo(a,c);else a.po()?this.fo(a,0):c.push(a);break;case 1:a=new Lb(this,b,a);c.push(a);break;case 2:a=new Vb(this,b,a),c.push(a)}};l.prototype.Ga=function(){var a,b;a=0;for(b=this.ie.length;a<b;a++)this.ie[a].Ga(a<b-1&&this.ie[a+1].Mi)};l.prototype.Km=function(){R(this.Ak);R(this.jk);this.gn(this);R(this.jk)};l.prototype.gn=function(a){var b,c,d,g,f=a.Ak,e=a.jk,k=this.bo.qd();b=0;for(c=k.length;b<c;++b)d=k[b],g=d.Rg,
!d.bb||a===g||-1<e.indexOf(g)||(e.push(g),g.gn(a),f.push(g))};l.prototype.Ka=function(a){this.b.pw||(this.el=!0,a||(this.b.tl=!0));var b,c;b=0;for(c=this.ie.length;b<c;b++){var d=this.ie[b];d.Ka();this.b.uk(d.na);this.b.ke&&this.b.rb()}a||(this.b.tl=!1)};l.prototype.fo=function(a,b){a.mc||this.b.Tj.push(a);var c,d,g=a.eb[b],f;g.type?f=g.type.name:f="system";var e=(c=g.Jn)?this.Kn:this.Up;e[f]||(e[f]=[]);f=e[f];e=g.mb;if(c){if(g.Q.length&&(g=g.Q[0],1===g.type&&2===g.hd.type)){g=g.hd.value.toLowerCase();
c=0;for(d=f.length;c<d;c++)if(f[c].method==e){c=f[c].Eg;c[g]?c[g].push([a,b]):c[g]=[[a,b]];return}c={};c[g]=[[a,b]];f.push({method:e,Eg:c})}}else{c=0;for(d=f.length;c<d;c++)if(f[c].method==e){f[c].Eg.push([a,b]);return}Y&&e===Y.prototype.q.zf?f.unshift({method:e,Eg:[[a,b]]}):f.push({method:e,Eg:[[a,b]]})}};Bb=l;r.prototype.dl=function(){return this.da?this.type.d.length:this.d.length};r.prototype.$b=function(){return this.da?this.type.d:this.d};r.prototype.uh=function(a){a&&(a.b.Sa().Ab.mc?(this.da&&
(R(this.d),xa(this.R,a.type.d),this.da=!1),a=this.R.indexOf(a),-1!==a&&(this.d.push(this.R[a]),this.R.splice(a,1))):(this.da=!1,R(this.d),this.d[0]=a))};ib=r;window._c2hh_="189BF63191E29A43747095FF656474172E7DF1B8";t.prototype.Ga=function(a){var b,c=this.parent;if(this.group)for(this.Rj=!0;c;){if(!c.group){this.Rj=!1;break}c=c.parent}this.Fm=!this.po()&&(!this.parent||this.parent.group&&this.parent.Rj);this.ao=!!a;this.Ee=this.na.slice(0);for(c=this.parent;c;){a=0;for(b=c.na.length;a<b;a++)this.br(c.na[a]);
c=c.parent}this.na=m(this.na);this.Ee=m(this.Ee);a=0;for(b=this.eb.length;a<b;a++)this.eb[a].Ga();a=0;for(b=this.Jc.length;a<b;a++)this.Jc[a].Ga();a=0;for(b=this.Ec.length;a<b;a++)this.Ec[a].Ga(a<b-1&&this.Ec[a+1].Mi)};t.prototype.Eu=function(a){if(this.Of!==!!a){this.Of=!!a;var b;a=0;for(b=this.ji.length;a<b;++a)this.ji[a].Zp();0<b&&this.b.ka.Te&&this.b.ka.Te.Km()}};t.prototype.hn=function(a){b(a,this.na)};t.prototype.br=function(a){b(a,this.Ee)};t.prototype.Cj=function(){this.Lp=!0;this.parent&&
this.parent.Cj()};t.prototype.po=function(){return this.eb.length?this.eb[0].trigger:!1};t.prototype.Ka=function(){var a,b,c=!1,d=this.b,g=this.b.Sa();g.Ab=this;var f=this.eb;this.Mi||(g.Gk=!1);if(this.mc){0===f.length&&(c=!0);g.Ra=0;for(a=f.length;g.Ra<a;g.Ra++)b=f[g.Ra],b.trigger||(b=b.Ka())&&(c=!0);(g.$e=c)&&this.yj()}else{g.Ra=0;for(a=f.length;g.Ra<a;g.Ra++)if(b=f[g.Ra].Ka(),!b){g.$e=!1;this.Fm&&d.ke&&d.rb();return}g.$e=!0;this.yj()}this.bs(g)};t.prototype.bs=function(a){a.$e&&this.ao&&(a.Gk=
!0);this.Fm&&this.b.ke&&this.b.rb()};t.prototype.yu=function(a){this.b.Sa().Ab=this;this.eb[a].Ka()&&(this.yj(),this.b.Sa().$e=!0)};t.prototype.yj=function(){var a=this.b.Sa(),b;a.Vb=0;for(b=this.Jc.length;a.Vb<b;a.Vb++)if(this.Jc[a.Vb].Ka())return;this.xp()};t.prototype.vu=function(){var a=this.b.Sa(),b;for(b=this.Jc.length;a.Vb<b;a.Vb++)if(this.Jc[a.Vb].Ka())return;this.xp()};t.prototype.xp=function(){if(this.Ec.length){var a,b,c,d,g=this.Ec.length-1;this.b.rj(this);if(this.Lp)for(a=0,b=this.Ec.length;a<
b;a++)c=this.Ec[a],(d=!this.Rj||!this.group&&a<g)&&this.b.qj(c.na),c.Ka(),d?this.b.rf(c.na):this.b.uk(c.na);else for(a=0,b=this.Ec.length;a<b;a++)this.Ec[a].Ka();this.b.nj()}};t.prototype.zu=function(){var a=this.b.Sa();a.Ab=this;var b=!1,c;a.Ra=0;for(c=this.eb.length;a.Ra<c;a.Ra++)if(this.eb[a.Ra].Ka())b=!0;else if(!this.mc)return!1;return this.mc?b:!0};t.prototype.wu=function(){this.b.Fg++;var a=this.b.Sa().Ra,b=this.b.rj(this);if(!this.mc)for(b.Ra=a+1,a=this.eb.length;b.Ra<a;b.Ra++)if(!this.eb[b.Ra].Ka()){this.b.nj();
return}this.yj();this.b.nj()};t.prototype.Jt=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.eb[b].type===a.type)return!1;return!0};Ub=t;a.prototype.Ga=function(){var a,b,c;a=0;for(b=this.Q.length;a<b;a++)c=this.Q[a],c.Ga(),c.Hc&&(this.ug=!0)};a.prototype.Bu=function(){return!0};a.prototype.nm=function(){var a,b;a=0;for(b=this.Q.length;a<b;a++)this.Da[a]=this.Q[a].get();return Oa(this.mb.apply(this.b.nd,this.Da),this.Hi)};a.prototype.Au=function(){var a,b;a=0;for(b=this.Q.length;a<
b;a++)this.Da[a]=this.Q[a].get();a=this.mb.apply(this.Ne?this.Ne:this.type,this.Da);this.type.tc();return a};a.prototype.mm=function(){var a,b,c,d,g,f,e,k,l=this.type,q=l.V(),u=this.ic.mc&&!this.trigger;b=0;var r=l.Ob,p=l.B,m=l.yd,t=this.Nc,y=-1<t,F=this.ug,x=this.Q,A=this.Da,B=this.Hi,C=this.mb,G;if(F)for(b=0,g=x.length;b<g;++b)f=x[b],f.Hc||(A[b]=f.get(0));else for(b=0,g=x.length;b<g;++b)A[b]=x[b].get(0);if(q.da){R(q.d);R(q.R);G=l.d;a=0;for(d=G.length;a<d;++a){k=G[a];if(F)for(b=0,g=x.length;b<g;++b)f=
x[b],f.Hc&&(A[b]=f.get(a));y?(b=0,p&&(b=k.type.Kf[m]),b=C.apply(k.J[t+b],A)):b=C.apply(k,A);(e=Oa(b,B))?q.d.push(k):u&&q.R.push(k)}l.finish&&l.finish(!0);q.da=!1;l.tc();return q.dl()}c=0;G=(e=u&&!this.ic.Jt(this))?q.R:q.d;var N=!1;a=0;for(d=G.length;a<d;++a){k=G[a];if(F)for(b=0,g=x.length;b<g;++b)f=x[b],f.Hc&&(A[b]=f.get(a));y?(b=0,p&&(b=k.type.Kf[m]),b=C.apply(k.J[t+b],A)):b=C.apply(k,A);if(Oa(b,B))if(N=!0,e){if(q.d.push(k),r)for(b=0,g=k.siblings.length;b<g;b++)f=k.siblings[b],f.type.V().d.push(f)}else{G[c]=
k;if(r)for(b=0,g=k.siblings.length;b<g;b++)f=k.siblings[b],f.type.V().d[c]=f;c++}else if(e){G[c]=k;if(r)for(b=0,g=k.siblings.length;b<g;b++)f=k.siblings[b],f.type.V().R[c]=f;c++}else if(u&&(q.R.push(k),r))for(b=0,g=k.siblings.length;b<g;b++)f=k.siblings[b],f.type.V().R.push(f)}wa(G,c);if(r)for(p=l.Xb,a=0,d=p.length;a<d;a++)k=p[a].V(),e?wa(k.R,c):wa(k.d,c);c=N;if(e&&!N)for(a=0,d=q.d.length;a<d;a++){k=q.d[a];if(F)for(b=0,g=x.length;b<g;b++)f=x[b],f.Hc&&(A[b]=f.get(a));b=y?C.apply(k.J[t],A):C.apply(k,
A);if(Oa(b,B)){N=!0;break}}l.finish&&l.finish(c||u);return u?N:q.dl()};Pb=a;f.prototype.Ga=function(){var a,b,c;a=0;for(b=this.Q.length;a<b;a++)c=this.Q[a],c.Ga(),c.Hc&&(this.ug=!0)};f.prototype.nm=function(){var a=this.b,b,c,d=this.Q,g=this.Da;b=0;for(c=d.length;b<c;++b)g[b]=d[b].get();return this.mb.apply(a.nd,g)};f.prototype.mm=function(){var a=this.type,b=this.Nc,c=a.yd,d=this.ug,g=this.Q,f=this.Da,k=this.mb,e=a.V().$b(),a=a.B,l=-1<b,q,u,r,p,m,t;if(d)for(u=0,p=g.length;u<p;++u)m=g[u],m.Hc||(f[u]=
m.get(0));else for(u=0,p=g.length;u<p;++u)f[u]=g[u].get(0);q=0;for(r=e.length;q<r;++q){t=e[q];if(d)for(u=0,p=g.length;u<p;++u)m=g[u],m.Hc&&(f[u]=m.get(q));l?(u=0,a&&(u=t.type.Kf[c]),k.apply(t.J[b+u],f)):k.apply(t,f)}return!1};Qb=f;var y=[],G=-1;c.prototype.Ga=function(){var a,b;if(11===this.type)this.Ue=this.b.Sn(this.Lh,this.ic.parent);else if(13===this.type)for(a=0,b=this.vf.length;a<b;a++)this.vf[a].Ga();this.hd&&this.hd.Ga()};c.prototype.Ut=function(a){this.Hc||!a||a.ma.Ej||(this.Hc=!0)};c.prototype.Dp=
function(){this.Hc=!0};c.prototype.ht=function(a){this.Od=a||0;a=q();this.hd.get(a);G--;return a.data};c.prototype.it=function(a){this.Od=a||0;a=q();this.hd.get(a);G--;return z(a.data)?a.data:""};c.prototype.ot=function(){return this.object};c.prototype.et=function(){return this.yn};c.prototype.mt=function(a){this.Od=a||0;a=q();this.hd.get(a);G--;return a.gb()?this.b.Kg(a.data):this.b.Yk(a.data)};c.prototype.nt=function(){return this.Ha};c.prototype.lt=function(){return this.key};c.prototype.kt=function(){return this.index};
c.prototype.jt=function(a){a=a||0;var b=this.pa.type,c=null,c=b.V(),d=c.$b();if(d.length)c=d[a%d.length].type;else if(c.R.length)c=c.R[a%c.R.length].type;else if(b.d.length)c=b.d[a%b.d.length].type;else return 0;return this.index+c.si[b.yd]};c.prototype.gt=function(){return this.Ue};c.prototype.dt=function(){return this.Mn};c.prototype.pt=function(){var a,b;a=0;for(b=this.vf.length;a<b;a++)this.Kh[a]=this.vf[a].get();return this.Kh};Rb=c;d.prototype.Ga=function(){this.na=m(this.na)};d.prototype.uf=
function(a){var b=this.b.Rn();this.parent&&!this.Zg&&b?(this.jf>=b.length&&(b.length=this.jf+1),b[this.jf]=a):this.data=a};d.prototype.Mg=function(){var a=this.b.Rn();return!this.parent||this.Zg||!a||this.Li?this.data:this.jf>=a.length||"undefined"===typeof a[this.jf]?this.gl:a[this.jf]};d.prototype.Ka=function(){!this.parent||this.Zg||this.Li||this.uf(this.gl)};Lb=d;k.prototype.toString=function(){return"include:"+this.Rg.toString()};k.prototype.Ga=function(){this.Rg=this.b.Ik[this.xt];this.sheet.bo.add(this);
this.na=m(this.na);for(var a=this.parent;a;)a.group&&a.ji.push(this),a=a.parent;this.Zp()};k.prototype.Ka=function(){this.parent&&this.b.xh(this.b.n);this.Rg.el||this.Rg.Ka(!0);this.parent&&this.b.rf(this.b.n)};k.prototype.Zp=function(){for(var a=this.parent;a;){if(a.group&&!a.Of){this.bb=!1;return}a=a.parent}this.bb=!0};Vb=k;g.prototype.reset=function(a){this.Ab=a;this.Vb=this.Ra=0;R(this.Op);this.Gk=this.$e=!1};Kb=g})();
(function(){function e(b,a){this.pa=b;this.b=b.b;this.type=a[0];this.get=[this.xs,this.ts,this.Gs,this.Js,this.es,this.Hs,this.Bs,this.os,this.As,this.Fs,this.gs,this.Es,this.qs,this.Cs,this.ys,this.zs,this.us,this.vs,this.ns,this.Is,this.Ds,this.ws,this.ms,this.rs][this.type];var f=null;this.Fd=this.Q=this.Da=this.mb=this.Qj=this.second=this.first=this.value=null;this.Nc=-1;this.Qc=null;this.dq=-1;this.Ue=this.Lh=null;this.ig=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new Tb(b,a[1]);break;case 18:this.first=new Tb(b,a[1]);this.second=new Tb(b,a[2]);this.Qj=new Tb(b,a[3]);break;case 19:this.mb=this.b.Ud(a[1]);this.mb!==X.prototype.fb.random&&this.mb!==X.prototype.fb.rr||this.pa.Dp();this.Da=[];this.Q=[];3===a.length?(f=a[2],this.Da.length=f.length+1):this.Da.length=1;break;case 20:this.Fd=this.b.n[a[1]];this.Nc=-1;this.mb=this.b.Ud(a[2]);this.ig=a[3];Yb.Function&&this.mb===Yb.Function.prototype.fb.Zu&&this.pa.Dp();a[4]?this.Qc=new Tb(b,a[4]):this.Qc=null;this.Da=
[];this.Q=[];6===a.length?(f=a[5],this.Da.length=f.length+1):this.Da.length=1;break;case 21:this.Fd=this.b.n[a[1]];this.ig=a[2];a[3]?this.Qc=new Tb(b,a[3]):this.Qc=null;this.dq=a[4];break;case 22:this.Fd=this.b.n[a[1]];this.Fd.Bi(a[2]);this.Nc=this.Fd.Rk(a[2]);this.mb=this.b.Ud(a[3]);this.ig=a[4];a[5]?this.Qc=new Tb(b,a[5]):this.Qc=null;this.Da=[];this.Q=[];7===a.length?(f=a[6],this.Da.length=f.length+1):this.Da.length=1;break;case 23:this.Lh=a[1],this.Ue=null}this.pa.Ut(this.Fd);4<=this.type&&17>=
this.type&&(this.first=new Tb(b,a[1]),this.second=new Tb(b,a[2]));if(f){var e,c;e=0;for(c=f.length;e<c;e++)this.Q.push(new Tb(b,f[e]))}}function p(){++t;r.length===t&&r.push(new Sb);return r[t]}function m(b,a,f){var e,c;e=0;for(c=b.length;e<c;++e)b[e].get(f),a[e+1]=f.data}function l(b,a){this.type=b||Wb.yf;this.data=a||0;this.mf=null;this.type==Wb.yf&&(this.data=Math.floor(this.data))}e.prototype.Ga=function(){23===this.type&&(this.Ue=this.pa.b.Sn(this.Lh,this.pa.ic.parent));this.first&&this.first.Ga();
this.second&&this.second.Ga();this.Qj&&this.Qj.Ga();this.Qc&&this.Qc.Ga();if(this.Q){var b,a;b=0;for(a=this.Q.length;b<a;b++)this.Q[b].Ga()}};var r=[],t=-1;e.prototype.Is=function(b){var a=this.Q,f=this.Da;f[0]=b;b=p();m(a,f,b);--t;this.mb.apply(this.b.nd,f)};e.prototype.Ds=function(b){var a=this.Fd,f=this.Da,e=this.Q,c=this.Qc,d=this.mb,k=this.pa.Od,g=a.V(),l=g.$b();if(!l.length)if(g.R.length)l=g.R;else{this.ig?b.hc(""):b.qa(0);return}f[0]=b;b.mf=a;b=p();m(e,f,b);c&&(c.get(b),b.gb()&&(k=b.data,l=
a.d));--t;a=l.length;if(k>=a||k<=-a)k%=a;0>k&&(k+=a);d.apply(l[k],f)};e.prototype.ms=function(b){var a=this.Fd,f=this.Da,e=this.Q,c=this.Qc,d=this.Nc,k=this.mb,g=this.pa.Od,l=a.V(),r=l.$b();if(!r.length)if(l.R.length)r=l.R;else{this.ig?b.hc(""):b.qa(0);return}f[0]=b;b.mf=a;b=p();m(e,f,b);c&&(c.get(b),b.gb()&&(g=b.data,r=a.d));--t;e=r.length;if(g>=e||g<=-e)g%=e;0>g&&(g+=e);g=r[g];r=0;a.B&&(r=g.type.Kf[a.yd]);k.apply(g.J[d+r],f)};e.prototype.ws=function(b){var a=this.Qc,f=this.Fd,e=this.dq,c=this.pa.Od,
d=f.V(),k=d.$b();if(!k.length)if(d.R.length)k=d.R;else{this.ig?b.hc(""):b.qa(0);return}if(a){d=p();a.get(d);if(d.gb()){c=d.data;k=f.d;0!==k.length&&(c%=k.length,0>c&&(c+=k.length));c=f.Xk(c);f=c.Ua[e];z(f)?b.hc(f):b.D(f);--t;return}--t}a=k.length;if(c>=a||c<=-a)c%=a;0>c&&(c+=a);c=k[c];k=0;f.B&&(k=c.type.si[f.yd]);f=c.Ua[e+k];z(f)?b.hc(f):b.D(f)};e.prototype.xs=function(b){b.type=Wb.yf;b.data=this.value};e.prototype.ts=function(b){b.type=Wb.xf;b.data=this.value};e.prototype.Gs=function(b){b.type=Wb.String;
b.data=this.value};e.prototype.Js=function(b){this.first.get(b);b.gb()&&(b.data=-b.data)};e.prototype.es=function(b){this.first.get(b);var a=p();this.second.get(a);b.gb()&&a.gb()&&(b.data+=a.data,a.Qf()&&b.$f());--t};e.prototype.Hs=function(b){this.first.get(b);var a=p();this.second.get(a);b.gb()&&a.gb()&&(b.data-=a.data,a.Qf()&&b.$f());--t};e.prototype.Bs=function(b){this.first.get(b);var a=p();this.second.get(a);b.gb()&&a.gb()&&(b.data*=a.data,a.Qf()&&b.$f());--t};e.prototype.os=function(b){this.first.get(b);
var a=p();this.second.get(a);b.gb()&&a.gb()&&(b.data/=a.data,b.$f());--t};e.prototype.As=function(b){this.first.get(b);var a=p();this.second.get(a);b.gb()&&a.gb()&&(b.data%=a.data,a.Qf()&&b.$f());--t};e.prototype.Fs=function(b){this.first.get(b);var a=p();this.second.get(a);b.gb()&&a.gb()&&(b.data=Math.pow(b.data,a.data),a.Qf()&&b.$f());--t};e.prototype.gs=function(b){this.first.get(b);var a=p();this.second.get(a);a.Sf()||b.Sf()?this.js(b,a):this.hs(b,a);--t};e.prototype.js=function(b,a){b.Sf()&&
a.Sf()?this.ls(b,a):this.ks(b,a)};e.prototype.ls=function(b,a){b.data+=a.data};e.prototype.ks=function(b,a){b.Sf()?b.data+=(Math.round(1E10*a.data)/1E10).toString():b.hc(b.data.toString()+a.data)};e.prototype.hs=function(b,a){b.qa(b.data&&a.data?1:0)};e.prototype.Es=function(b){this.first.get(b);var a=p();this.second.get(a);b.gb()&&a.gb()&&(b.data||a.data?b.qa(1):b.qa(0));--t};e.prototype.ns=function(b){this.first.get(b);b.data?this.second.get(b):this.Qj.get(b)};e.prototype.qs=function(b){this.first.get(b);
var a=p();this.second.get(a);b.qa(b.data===a.data?1:0);--t};e.prototype.Cs=function(b){this.first.get(b);var a=p();this.second.get(a);b.qa(b.data!==a.data?1:0);--t};e.prototype.ys=function(b){this.first.get(b);var a=p();this.second.get(a);b.qa(b.data<a.data?1:0);--t};e.prototype.zs=function(b){this.first.get(b);var a=p();this.second.get(a);b.qa(b.data<=a.data?1:0);--t};e.prototype.us=function(b){this.first.get(b);var a=p();this.second.get(a);b.qa(b.data>a.data?1:0);--t};e.prototype.vs=function(b){this.first.get(b);
var a=p();this.second.get(a);b.qa(b.data>=a.data?1:0);--t};e.prototype.rs=function(b){var a=this.Ue.Mg();ha(a)?b.D(a):b.hc(a)};Tb=e;l.prototype.Qf=function(){return this.type===Wb.xf};l.prototype.gb=function(){return this.type===Wb.yf||this.type===Wb.xf};l.prototype.Sf=function(){return this.type===Wb.String};l.prototype.$f=function(){this.Qf()||(this.Sf()&&(this.data=parseFloat(this.data)),this.type=Wb.xf)};l.prototype.qa=function(b){this.type=Wb.yf;this.data=Math.floor(b)};l.prototype.D=function(b){this.type=
Wb.xf;this.data=b};l.prototype.hc=function(b){this.type=Wb.String;this.data=b};l.prototype.Gu=function(b){ha(b)?(this.type=Wb.xf,this.data=b):z(b)?(this.type=Wb.String,this.data=b.toString()):(this.type=Wb.yf,this.data=0)};Sb=l;Wb={yf:0,xf:1,String:2}})();function X(e){this.b=e;this.Ub=[]}
X.prototype.yb=function(){var e={},p,m,l,r,t,b,a,f;e.waits=[];var q=e.waits,c;p=0;for(m=this.Ub.length;p<m;p++){b=this.Ub[p];c={t:b.time,st:b.Jp,s:b.ym,ev:b.If.W,sm:[],sols:{}};b.If.Jc[b.Vb]&&(c.act=b.If.Jc[b.Vb].W);l=0;for(r=b.na.length;l<r;l++)c.sm.push(b.na[l].W);for(t in b.Eb)if(b.Eb.hasOwnProperty(t)){a=this.b.n[parseInt(t,10)];f={sa:b.Eb[t].zj,insts:[]};l=0;for(r=b.Eb[t].Bd.length;l<r;l++)f.insts.push(b.Eb[t].Bd[l].uid);c.sols[a.W.toString()]=f}q.push(c)}return e};
X.prototype.Pb=function(e){e=e.waits;var p,m,l,r,t,b,a,f,q,c,d;R(this.Ub);p=0;for(m=e.length;p<m;p++)if(b=e[p],f=this.b.nn[b.ev.toString()]){q=-1;l=0;for(r=f.Jc.length;l<r;l++)if(f.Jc[l].W===b.act){q=l;break}if(-1!==q){a={Eb:{},na:[],Ck:!1};a.time=b.t;a.Jp=b.st||"";a.ym=!!b.s;a.If=f;a.Vb=q;l=0;for(r=b.sm.length;l<r;l++)(f=this.b.Di(b.sm[l]))&&a.na.push(f);for(t in b.sols)if(b.sols.hasOwnProperty(t)&&(f=this.b.Di(parseInt(t,10)))){q=b.sols[t];c={zj:q.sa,Bd:[]};l=0;for(r=q.insts.length;l<r;l++)(d=this.b.Vn(q.insts[l]))&&
c.Bd.push(d);a.Eb[f.index.toString()]=c}this.Ub.push(a)}}};
(function(){function e(){}function p(){}function m(){}var l=X.prototype;e.prototype.qq=function(){return!0};e.prototype.Kq=function(){return!0};e.prototype.Jq=function(){return!0};e.prototype.nq=function(b,a,f){return Xb(b.Mg(),a,f)};e.prototype.vq=function(b){return(b=this.b.Pg[b.toLowerCase()])&&b.Of};e.prototype.pq=function(){var b=this.b.Sa();return b.Gk?!1:!b.$e};e.prototype.Sm=function(){return!0};e.prototype.Cq=function(){return!0};e.prototype.ck=function(){return!0};e.prototype.Vm=function(){return!0};
e.prototype.Lq=function(){return!0};e.prototype.Rh=function(){return!0};e.prototype.jq=function(b,a,f){return Ka(W(b),W(f))<=W(a)};e.prototype.uq=function(b,a){return Ma(W(b),W(a))};e.prototype.tq=function(b,a,f){b=Ia(b);a=Ia(a);f=Ia(f);return Ma(f,a)?Ma(b,a)&&!Ma(b,f):!(!Ma(b,a)&&Ma(b,f))};l.q=new e;p.prototype.oq=function(b,a,f,e){if(a&&b&&(a=this.b.An(b,a,f,e))){this.b.Sc++;var c;this.b.trigger(Object.getPrototypeOf(b.ma).q.Qh,a);if(a.Ob)for(f=0,e=a.siblings.length;f<e;f++)c=a.siblings[f],this.b.trigger(Object.getPrototypeOf(c.type.ma).q.Qh,
c);this.b.Sc--;b=b.V();b.da=!1;R(b.d);b.d[0]=a;if(a.Ob)for(f=0,e=a.siblings.length;f<e;f++)c=a.siblings[f],b=c.type.V(),b.da=!1,R(b.d),b.d[0]=c}};p.prototype.Tq=function(b,a){0===b.Xj?ha(a)?b.uf(a):b.uf(parseFloat(a)):1===b.Xj&&b.uf(a.toString())};p.prototype.hq=function(b,a){0===b.Xj?ha(a)?b.uf(b.Mg()+a):b.uf(b.Mg()+parseFloat(a)):1===b.Xj&&b.uf(b.Mg()+a.toString())};var r=[],t=[];p.prototype.Wq=function(b){if(!(0>b)){var a,f,e,c=this.b.Sa(),d;r.length?d=r.pop():d={Eb:{},na:[]};d.Ck=!1;d.time=this.b.ac.ta+
b;d.Jp="";d.ym=!1;d.If=c.Ab;d.Vb=c.Vb+1;b=0;for(a=this.b.n.length;b<a;b++)e=this.b.n[b],f=e.V(),f.da&&-1===c.Ab.na.indexOf(e)||(d.na.push(e),e=void 0,t.length?e=t.pop():e={Bd:[]},e.zj=!1,e.zj=f.da,xa(e.Bd,f.d),d.Eb[b.toString()]=e);this.Ub.push(d);return!0}};l.ea=new p;m.prototype["int"]=function(b,a){z(a)?(b.qa(parseInt(a,10)),isNaN(b.data)&&(b.data=0)):b.qa(a)};m.prototype["float"]=function(b,a){z(a)?(b.D(parseFloat(a)),isNaN(b.data)&&(b.data=0)):b.D(a)};m.prototype.random=function(b,a,f){void 0===
f?b.D(Math.random()*a):b.D(Math.random()*(f-a)+a)};m.prototype.sqrt=function(b,a){b.D(Math.sqrt(a))};m.prototype.abs=function(b,a){b.D(Math.abs(a))};m.prototype.round=function(b,a){b.qa(Math.round(a))};m.prototype.floor=function(b,a){b.qa(Math.floor(a))};m.prototype.ceil=function(b,a){b.qa(Math.ceil(a))};m.prototype.sin=function(b,a){b.D(Math.sin(W(a)))};m.prototype.cos=function(b,a){b.D(Math.cos(W(a)))};m.prototype.tan=function(b,a){b.D(Math.tan(W(a)))};m.prototype.asin=function(b,a){b.D(Ea(Math.asin(a)))};
m.prototype.acos=function(b,a){b.D(Ea(Math.acos(a)))};m.prototype.atan=function(b,a){b.D(Ea(Math.atan(a)))};m.prototype.exp=function(b,a){b.D(Math.exp(a))};m.prototype.log10=function(b,a){b.D(Math.log(a)/Math.LN10)};m.prototype.max=function(b){var a=arguments[1];"number"!==typeof a&&(a=0);var f,e,c;f=2;for(e=arguments.length;f<e;f++)c=arguments[f],"number"===typeof c&&a<c&&(a=c);b.D(a)};m.prototype.min=function(b){var a=arguments[1];"number"!==typeof a&&(a=0);var f,e,c;f=2;for(e=arguments.length;f<
e;f++)c=arguments[f],"number"===typeof c&&a>c&&(a=c);b.D(a)};m.prototype.Hf=function(b){b.D(this.b.Hf)};m.prototype.og=function(b){b.D(this.b.og)};m.prototype.time=function(b){b.D(this.b.ac.ta)};m.prototype.Gc=function(b){b.qa(this.b.Gc)};m.prototype.dj=function(b){b.qa(this.b.dj)};m.prototype.Nk=function(b){b.qa(this.b.Nk)};m.prototype.j=function(b,a,f,e,c){b.D(Ea(Ja(a,f,e,c)))};m.prototype.left=function(b,a,f){b.hc(z(a)?a.substr(0,f):"")};m.prototype.right=function(b,a,f){b.hc(z(a)?a.substr(a.length-
f):"")};m.prototype.replace=function(b,a,f,e){z(a)&&z(f)&&z(e)?b.hc(a.replace(new RegExp(Xa(f),"gi"),e)):b.hc(z(a)?a:"")};m.prototype.trim=function(b,a){b.hc(z(a)?a.trim():"")};m.prototype.rr=function(b){var a=Q(Math.random()*(arguments.length-1));b.Gu(arguments[a+1])};m.prototype.wk=function(b){b.D(this.b.wk/1E3)};m.prototype.Wi=function(b){b.D(this.b.Wi)};l.fb=new m;l.xu=function(){var b,a,f,e,c,d,k=this.b.Sa();b=0;for(f=this.Ub.length;b<f;b++){e=this.Ub[b];if(-1===e.time){if(!e.ym)continue}else if(e.time>
this.b.ac.ta)continue;k.Ab=e.If;k.Vb=e.Vb;k.Ra=0;for(a in e.Eb)e.Eb.hasOwnProperty(a)&&(c=this.b.n[parseInt(a,10)].V(),d=e.Eb[a],c.da=d.zj,xa(c.d,d.Bd),c=d,R(c.Bd),t.push(c));e.If.vu();this.b.uk(e.na);e.Ck=!0}a=b=0;for(f=this.Ub.length;b<f;b++)e=this.Ub[b],this.Ub[a]=e,e.Ck?(Qa(e.Eb),R(e.na),r.push(e)):a++;wa(this.Ub,a)}})();
(function(){hb=function(e,m){var l=e[1],r=e[3],t=e[4],b=e[5],a=e[6],f=e[7],q=e[8];m.q||(m.q={});m.ea||(m.ea={});m.fb||(m.fb={});var c=m.q,d=m.ea,k=m.fb;r&&(c.dv=function(a,b){return Xb(this.x,a,b)},c.gv=function(a,b){return Xb(this.y,a,b)},c.mv=function(){var a=this.e;this.aa();var b=this.fa;return!(b.right<a.T||b.bottom<a.U||b.left>a.Z||b.top>a.Y)},c.nv=function(){this.aa();var a=this.fa,b=this.b.ka;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},c.zv=function(a,b,c){var d=this.V(),
f=d.$b();if(!f.length)return!1;var e=f[0],k=e,l=Na(e.x,e.y,b,c),v,r,q;v=1;for(r=f.length;v<r;v++)if(e=f[v],q=Na(e.x,e.y,b,c),0===a&&q<l||1===a&&q>l)l=q,k=e;d.uh(k);return!0},d.Pv=function(a){this.x!==a&&(this.x=a,this.K())},d.Qv=function(a){this.y!==a&&(this.y=a,this.K())},d.Sq=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.K()},d.Mv=function(a,b){var c=a.Xs(this);if(c){var d;c.Jg?(d=c.Jg(b,!0),c=c.Jg(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.K()}},d.sv=
function(a){0!==a&&(this.x+=Math.cos(this.j)*a,this.y+=Math.sin(this.j)*a,this.K())},d.rv=function(a,b){0!==b&&(this.x+=Math.cos(W(a))*b,this.y+=Math.sin(W(a))*b,this.K())},k.an=function(a){a.D(this.x)},k.bn=function(a){a.D(this.y)},k.Hf=function(a){a.D(this.b.Ig(this))});t&&(c.cv=function(a,b){return Xb(this.width,a,b)},c.$u=function(a,b){return Xb(this.height,a,b)},d.Uq=function(a){this.width!==a&&(this.width=a,this.K())},d.Kv=function(a){this.height!==a&&(this.height=a,this.K())},d.Nv=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.K()},k.Uv=function(a){a.D(this.width)},k.iv=function(a){a.D(this.height)},k.Wu=function(a){this.aa();a.D(this.fa.left)},k.Yu=function(a){this.aa();a.D(this.fa.top)},k.Xu=function(a){this.aa();a.D(this.fa.right)},k.Vu=function(a){this.aa();a.D(this.fa.bottom)});b&&(c.jq=function(a,b){return Ka(this.j,W(b))<=W(a)},c.uq=function(a){return Ma(this.j,W(a))},c.tq=function(a,b){var c=Ia(a),d=Ia(b),f=Ga(this.j);return Ma(d,c)?Ma(f,c)&&
!Ma(f,d):!(!Ma(f,c)&&Ma(f,d))},d.Oq=function(a){a=W(Fa(a));isNaN(a)||this.j===a||(this.j=a,this.K())},d.Dv=function(a){0===a||isNaN(a)||(this.j+=W(a),this.j=Ga(this.j),this.K())},d.Ev=function(a){0===a||isNaN(a)||(this.j-=W(a),this.j=Ga(this.j),this.K())},d.Fv=function(a,b){var c=La(this.j,W(b),W(a));isNaN(c)||this.j===c||(this.j=c,this.K())},d.Gv=function(a,b,c){a=La(this.j,Math.atan2(c-this.y,b-this.x),W(a));isNaN(a)||this.j===a||(this.j=a,this.K())},d.Ov=function(a,b){var c=Math.atan2(b-this.y,
a-this.x);isNaN(c)||this.j===c||(this.j=c,this.K())},k.iq=function(a){a.D(Ha(this.j))});l||(c.av=function(a,b,c){return Xb(this.Ua[a],b,c)},c.kv=function(a){return this.Ua[a]},c.Av=function(a,b){var c=this.V(),d=c.$b();if(!d.length)return!1;var f=d[0],e=f,k=f.Ua[b],l,v,r;l=1;for(v=d.length;l<v;l++)if(f=d[l],r=f.Ua[b],0===a&&r<k||1===a&&r>k)k=r,e=f;c.uh(e);return!0},c.yv=function(a){var b,c,d,f,e;if(this.b.Uk().Hi){e=this.V();if(e.da)for(e.da=!1,R(e.d),R(e.R),d=this.d,b=0,c=d.length;b<c;b++)f=d[b],
f.uid===a?e.R.push(f):e.d.push(f);else{d=b=0;for(c=e.d.length;b<c;b++)f=e.d[b],e.d[d]=f,f.uid===a?e.R.push(f):d++;wa(e.d,d)}this.tc();return!!e.d.length}f=this.b.Vn(a);if(!f)return!1;e=this.V();if(!e.da&&-1===e.d.indexOf(f))return!1;if(this.B)for(a=f.type.ua,b=0,c=a.length;b<c;b++){if(a[b]===this)return e.uh(f),this.tc(),!0}else if(f.type===this)return e.uh(f),this.tc(),!0;return!1},c.Qh=function(){return!0},c.Eq=function(){return!0},d.Lv=function(a,b){var c=this.Ua;ha(c[a])?c[a]=ha(b)?b:parseFloat(b):
z(c[a])&&(c[a]=z(b)?b:b.toString())},d.Uu=function(a,b){var c=this.Ua;ha(c[a])?c[a]=ha(b)?c[a]+b:c[a]+parseFloat(b):z(c[a])&&(c[a]=z(b)?c[a]+b:c[a]+b.toString())},d.Rv=function(a,b){var c=this.Ua;ha(c[a])&&(c[a]=ha(b)?c[a]-b:c[a]-parseFloat(b))},d.Hv=function(a,b){this.Ua[a]=b?1:0},d.Sv=function(a){this.Ua[a]=1-this.Ua[a]},d.Rm=function(){this.b.Je(this)},d.zq||(d.zq=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.b.Vi(this,b,!0);this.Ke&&this.Ke();if(this.J)for(a=0,b=this.J.length;a<
b;++a)c=this.J[a],c.Ke&&c.Ke()}),k.hv=function(a){var b=a.mf.d.length,c,d,f;c=0;for(d=this.b.Oc.length;c<d;c++)f=this.b.Oc[c],a.mf.B?0<=f.type.ua.indexOf(a.mf)&&b++:f.type===a.mf&&b++;a.qa(b)},k.Cv=function(a){a.qa(a.mf.V().$b().length)},k.Tv=function(a){a.qa(this.uid)},k.jv=function(a){a.qa(this.Ng())},k.kq||(k.kq=function(a){a.hc(JSON.stringify(this.b.om(this,!0)))}));a&&(c.ov=function(){return this.visible},d.$m=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.ca=!0)},c.bv=function(a,b){return Xb(db(100*
this.opacity),a,b)},d.Rq=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.ca=!0)},k.Opacity=function(a){a.D(db(100*this.opacity))});f&&(c.lv=function(a){return a?this.e===a:!1},c.Bv=function(a){var b=this.V(),c=b.$b();if(!c.length)return!1;var d=c[0],f=d,e,k;e=1;for(k=c.length;e<k;e++)if(d=c[e],0===a){if(d.e.index>f.e.index||d.e.index===f.e.index&&d.jd()>f.jd())f=d}else if(d.e.index<f.e.index||d.e.index===f.e.index&&d.jd()<f.jd())f=d;b.uh(f);return!0},d.vv=function(){var a=
this.e,b=a.d;b.length&&b[b.length-1]===this||(a.hg(this,!1),a.wg(this,!1),this.b.ca=!0)},d.tv=function(){var a=this.e,b=a.d;b.length&&b[0]===this||(a.hg(this,!1),a.nu(this),this.b.ca=!0)},d.uv=function(a){a&&a!=this.e&&(this.e.hg(this,!0),this.e=a,a.wg(this,!0),this.b.ca=!0)},d.Wv=function(a,b){var c=0===a;if(b){var d=b.Ss(this);d&&d.uid!==this.uid&&(this.e.index!==d.e.index&&(this.e.hg(this,!0),this.e=d.e,d.e.wg(this,!0)),this.e.Wt(this,d,c),this.b.ca=!0)}},k.qv=function(a){a.qa(this.e.$o)},k.pv=
function(a){a.hc(this.e.name)},k.Vv=function(a){a.qa(this.jd())});q&&(d.Iv=function(a,b){if(this.b.k){var c=this.type.Wk(b);if(!(0>c)){var d=1===a;this.Vd[c]!==d&&(this.Vd[c]=d,this.ad(),this.b.ca=!0)}}},d.Jv=function(a,b,c){if(this.b.k){var d=this.type.Wk(a);0>d||(a=this.type.L[d],d=this.Ca[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.k.bt(a.Ma,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.bb&&(this.b.ca=!0))))}})};Cb=function(){this.qk=this.Zh=!0;this.type.Sh=!0;this.b.ca=!0;var e,m,l=this.mk;e=0;for(m=
l.length;e<m;++e)l[e](this);this.e.rc&&this.aa()};Db=function(e){e&&this.mk.push(e)};Fb=function(){if(this.Zh){var e=this.fa,m=this.cb;e.set(this.x,this.y,this.x+this.width,this.y+this.height);e.offset(-this.Lb*this.width,-this.Mb*this.height);this.j?(e.offset(-this.x,-this.y),m.Fp(e,this.j),m.offset(this.x,this.y),m.pn(e)):m.De(e);e.normalize();this.Zh=!1;this.bq()}};var e=new sa(0,0,0,0);Gb=function(){if(this.e.rc){var p=this.e.pb,m=this.fa;e.set(p.Fb(m.left),p.Gb(m.top),p.Fb(m.right),p.Gb(m.bottom));
this.Rb.Dg(e)||(this.Rb.right<this.Rb.left?p.update(this,null,e):p.update(this,this.Rb,e),this.Rb.Cf(e),this.e.Xc=!0)}};Hb=function(){if(this.qk&&this.sd){this.aa();var p=this.type.ii,m=this.fa;e.set(p.Fb(m.left),p.Gb(m.top),p.Fb(m.right),p.Gb(m.bottom));this.fe.Dg(e)||(this.fe.right<this.fe.left?p.update(this,null,e):p.update(this,this.fe,e),this.fe.Cf(e),this.qk=!1)}};Eb=function(e,m){return this.fa.tb(e,m)&&this.cb.tb(e,m)?this.He?this.sw(e,m):this.M&&!this.M.qe()?(this.M.Zd(this.width,this.height,
this.j),this.M.tb(e-this.x,m-this.y)):!0:!1};yb=function(){this.type.Vj();return this.Xe};Ib=function(){this.e.Mm();return this.cd};Jb=function(){R(this.ba);var e,m,l,r=!0;e=0;for(m=this.Vd.length;e<m;e++)this.Vd[e]&&(l=this.type.L[e],this.ba.push(l),l.Vc||(r=!1));this.cq=!!this.ba.length;this.Jd=r};zb=function(){return"Inst"+this.rp};kb=function(e){if(e&&e.Ob&&e.type!=this){var m,l,r;m=0;for(l=e.siblings.length;m<l;m++)if(r=e.siblings[m],r.type==this)return r}e=this.V().$b();return e.length?e[0]:
null};lb=function(e){var m=this.V().$b();return m.length?m[e.Ng()%m.length]:null};jb=function(){if(this.mg&&!this.B){var e,m;e=0;for(m=this.d.length;e<m;e++)this.d[e].Xe=e;var l=e,r=this.b.Oc;e=0;for(m=r.length;e<m;++e)r[e].type===this&&(r[e].Xe=l++);this.mg=!1}};wb=function(e){if(e<this.d.length)return this.d[e];e-=this.d.length;var m=this.b.Oc,l,r;l=0;for(r=m.length;l<r;++l)if(m[l].type===this){if(0===e)return m[l];--e}return null};mb=function(){return this.Pd[this.fd]};pb=function(){this.fd++;
this.fd===this.Pd.length?this.Pd.push(new ib(this)):(this.Pd[this.fd].da=!0,R(this.Pd[this.fd].R))};qb=function(){this.fd++;this.fd===this.Pd.length&&this.Pd.push(new ib(this));var e=this.Pd[this.fd],m=this.Pd[this.fd-1];m.da?e.da=!0:(e.da=!1,xa(e.d,m.d));R(e.R)};rb=function(){this.fd--};sb=function(e){var m,l,r,t,b,a=0;if(!this.B)for(m=0,l=this.ua.length;m<l;m++)for(b=this.ua[m],r=0,t=b.Aa.length;r<t;r++){if(e===b.Aa[r].name)return this.O.lastBehIndex=a,b.Aa[r];a++}m=0;for(l=this.Aa.length;m<l;m++){if(e===
this.Aa[m].name)return this.O.lastBehIndex=a,this.Aa[m];a++}return null};tb=function(e){return this.Bi(e)?this.O.lastBehIndex:-1};ub=function(e){var m,l;m=0;for(l=this.L.length;m<l;m++)if(this.L[m].name===e)return m;return-1};vb=function(){if(this.Ob&&!this.B){var e,m,l,r,t,b,a;this.Vj();b=this.V();var f=b.da,q=(e=this.b.Sa())&&e.Ab&&e.Ab.mc;e=0;for(m=this.Xb.length;e<m;e++)if(t=this.Xb[e],t!==this&&(t.Vj(),a=t.V(),a.da=f,!f)){R(a.d);l=0;for(r=b.d.length;l<r;++l)a.d[l]=t.Xk(b.d[l].Xe);if(q)for(R(a.R),
l=0,r=b.R.length;l<r;++l)a.R[l]=t.Xk(b.R[l].Xe)}}};xb=function(){return"Type"+this.W};Xb=function(e,m,l){if("undefined"===typeof e||"undefined"===typeof l)return!1;switch(m){case 0:return e===l;case 1:return e!==l;case 2:return e<l;case 3:return e<=l;case 4:return e>l;case 5:return e>=l;default:return!1}}})();var fc={};function ic(e){this.b=e}
(function(){function e(e){this.pa=e;this.bb=!1;this.j=this.speed=this.y=this.x=0;this.opacity=1;this.Xd=this.Pf=this.size=this.Ei=0}var p=ic.prototype;p.za=function(e){this.ma=e;this.b=e.b};var m=p.za.prototype;m.X=function(){this.B||(this.S=new Image,this.S.xk=this.Dm,this.F=null,this.b.Yj(this.S,this.Pj))};m.dg=function(){this.B||(this.F=null)};m.sh=function(){this.B||!this.d.length||this.F||(this.F=this.b.k.Yf(this.S,!0,this.b.la,this.Hh))};m.Jl=function(){this.B||this.F||!this.b.k||(this.F=this.b.k.Yf(this.S,
!0,this.b.la,this.Hh))};m.Uj=function(){this.B||this.d.length||!this.F||(this.b.k.deleteTexture(this.F),this.F=null)};m.oj=function(e){e.drawImage(this.S,0,0)};e.prototype.init=function(){var e=this.pa;this.x=e.x-e.$j/2+Math.random()*e.$j;this.y=e.y-e.ak/2+Math.random()*e.ak;this.speed=e.kl-e.Gj/2+Math.random()*e.Gj;this.j=e.j-e.Hj/2+Math.random()*e.Hj;this.opacity=e.il;this.size=e.jl-e.Fj/2+Math.random()*e.Fj;this.Ei=e.cl-e.Fi/2+Math.random()*e.Fi;this.Xd=this.Pf=0};e.prototype.Tb=function(e){var l=
this.pa;this.x+=Math.cos(this.j)*this.speed*e;this.y+=Math.sin(this.j)*this.speed*e;this.y+=this.Pf*e;this.speed+=l.ib*e;this.size+=this.Ei*e;this.Pf+=l.Qk*e;this.Xd+=e;1>this.size?this.bb=!1:(0!==l.bh&&(this.j+=Math.random()*l.bh*e-l.bh*e/2),0!==l.eh&&(this.speed+=Math.random()*l.eh*e-l.eh*e/2),0!==l.dh&&(this.opacity+=Math.random()*l.dh*e-l.dh*e/2,0>this.opacity?this.opacity=0:1<this.opacity&&(this.opacity=1)),1>=l.Ff&&this.Xd>=l.timeout&&(this.bb=!1),2===l.Ff&&0>=this.speed&&(this.bb=!1))};e.prototype.Yb=
function(e){var l=this.pa.opacity*this.opacity;if(0!==l){0===this.pa.Ff&&(l*=1-this.Xd/this.pa.timeout);e.globalAlpha=l;var l=this.x-this.size/2,b=this.y-this.size/2;this.pa.b.nc&&(l=l+.5|0,b=b+.5|0);e.drawImage(this.pa.type.S,l,b,this.size,this.size)}};e.prototype.wb=function(e){var l=this.pa.opacity*this.opacity;0===this.pa.Ff&&(l*=1-this.Xd/this.pa.timeout);var b=this.size,a=b*this.pa.lp,f=this.x-b/2,q=this.y-b/2;this.pa.b.nc&&(f=f+.5|0,q=q+.5|0);1>a||0===l||(a<e.Vt||a>e.Ol?(e.Id(l),e.Ae(f,q,f+
b,q,f+b,q+b,f,q+b)):e.hu(this.x,this.y,a,l))};e.prototype.left=function(){return this.x-this.size/2};e.prototype.right=function(){return this.x+this.size/2};e.prototype.top=function(){return this.y-this.size/2};e.prototype.bottom=function(){return this.y+this.size/2};p.oa=function(e){this.type=e;this.b=e.b};var m=p.oa.prototype,l=[];m.X=function(){var e=this.A;this.uj=e[0];this.Hj=W(e[1]);this.kg=e[2];this.zm=!0;this.kl=e[3];this.jl=e[4];this.il=e[5]/100;this.cl=e[6];this.$j=e[7];this.ak=e[8];this.Gj=
e[9];this.Fj=e[10];this.Fi=e[11];this.ib=e[12];this.Qk=e[13];this.bh=e[14];this.eh=e[15];this.dh=e[16];this.Ff=e[17];this.timeout=e[18];this.pf=0;this.lp=1;this.jj=this.x;this.lj=this.y;this.kj=this.x;this.ij=this.y;this.dr(function(e){e.fa.set(e.jj,e.lj,e.kj,e.ij);e.cb.De(e.fa);e.Zh=!1;e.Nm();e.bq()});this.gc||(this.Cb=[]);this.b.Ih(this);this.type.Jl();if(1===this.kg)for(e=0;e<this.uj;e++)this.ik().opacity=0;this.wi=!0};m.yb=function(){var e={r:this.uj,sc:this.Hj,st:this.kg,s:this.zm,isp:this.kl,
isz:this.jl,io:this.il,gr:this.cl,xr:this.$j,yr:this.ak,spr:this.Gj,szr:this.Fj,grnd:this.Fi,acc:this.ib,g:this.Qk,lar:this.bh,lsr:this.eh,lor:this.dh,dm:this.Ff,to:this.timeout,pcc:this.pf,ft:this.wi,p:[]},l,b,a,f=e.p;l=0;for(b=this.Cb.length;l<b;l++)a=this.Cb[l],f.push([a.x,a.y,a.speed,a.j,a.opacity,a.Ei,a.size,a.Pf,a.Xd]);return e};m.Pb=function(e){this.uj=e.r;this.Hj=e.sc;this.kg=e.st;this.zm=e.s;this.kl=e.isp;this.jl=e.isz;this.il=e.io;this.cl=e.gr;this.$j=e.xr;this.ak=e.yr;this.Gj=e.spr;this.Fj=
e.szr;this.Fi=e.grnd;this.ib=e.acc;this.Qk=e.g;this.bh=e.lar;this.eh=e.lsr;this.dh=e.lor;this.Ff=e.dm;this.timeout=e.to;this.pf=e.pcc;this.wi=e.ft;l.push.apply(l,this.Cb);R(this.Cb);var m,b,a,f=e.p;e=0;for(m=f.length;e<m;e++)b=this.ik(),a=f[e],b.x=a[0],b.y=a[1],b.speed=a[2],b.j=a[3],b.opacity=a[4],b.Ei=a[5],b.size=a[6],b.Pf=a[7],b.Xd=a[8]};m.nf=function(){l.push.apply(l,this.Cb);R(this.Cb)};m.ik=function(){var m;l.length?(m=l.pop(),m.pa=this):m=new e(this);this.Cb.push(m);m.bb=!0;return m};m.Tb=function(){var e=
this.b.Ig(this),m,b,a,f;if(0===this.kg&&this.zm)for(this.pf+=e*this.uj,b=Q(this.pf),this.pf-=b,m=0;m<b;m++)a=this.ik(),a.init();this.jj=this.x;this.lj=this.y;this.kj=this.x;this.ij=this.y;f=m=0;for(b=this.Cb.length;m<b;m++)a=this.Cb[m],this.Cb[f]=a,this.b.ca=!0,1===this.kg&&this.wi&&a.init(),a.Tb(e),a.bb?(a.left()<this.jj&&(this.jj=a.left()),a.right()>this.kj&&(this.kj=a.right()),a.top()<this.lj&&(this.lj=a.top()),a.bottom()>this.ij&&(this.ij=a.bottom()),f++):l.push(a);wa(this.Cb,f);this.K();this.wi=
!1;1===this.kg&&0===this.Cb.length&&this.b.Je(this)};m.Yb=function(e){var l,b,a,f=this.e;l=0;for(b=this.Cb.length;l<b;l++)a=this.Cb[l],a.right()>=f.T&&a.bottom()>=f.U&&a.left()<=f.Z&&a.top()<=f.Y&&a.Yb(e)};m.wb=function(e){this.lp=this.e.Kb();e.La(this.type.F);var l,b,a,f=this.e;l=0;for(b=this.Cb.length;l<b;l++)a=this.Cb[l],a.right()>=f.T&&a.bottom()>=f.U&&a.left()<=f.Z&&a.top()<=f.Y&&a.wb(e)};p.q=new function(){};p.ea=new function(){};p.fb=new function(){}})();function Y(e){this.b=e}
(function(){function e(){if(0===this.zk.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.lg?b.drawImage(this.S,this.ag,this.bg,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.S,0,0,this.width,this.height);this.zk=a.toDataURL("image/png")}return this.zk}function p(){}function m(a){a[0]=0;a[1]=0;a[2]=0;g.push(a)}function l(a,b){return a<b?""+a+","+b:""+b+","+a}function r(a,b,c,d){b=b.uid;c=c.uid;var e=l(b,c);if(a.hasOwnProperty(e))a[e][2]=
d;else{var f=g.length?g.pop():[0,0,0];f[0]=b;f[1]=c;f[2]=d;a[e]=f}}function t(a,b,c){b=l(b.uid,c.uid);a.hasOwnProperty(b)&&(m(a[b]),delete a[b])}function b(a,b,c){b=l(b.uid,c.uid);if(a.hasOwnProperty(b))return u=a[b][2],!0;u=-2;return!1}function a(){}function f(){}var q=Y.prototype;q.za=function(a){this.ma=a;this.b=a.b};var c=q.za.prototype;c.X=function(){if(!this.B){var a,b,c,d,f,g,h,k,l;this.Kc=[];this.Qg=!1;a=0;for(b=this.Wb.length;a<b;a++){f=this.Wb[a];h={};h.name=f[0];h.speed=f[1];h.loop=f[2];
h.km=f[3];h.lm=f[4];h.mp=f[5];h.W=f[6];h.frames=[];c=0;for(d=f[7].length;c<d;c++)g=f[7][c],k={},k.Pj=g[0],k.Dm=g[1],k.ag=g[2],k.bg=g[3],k.width=g[4],k.height=g[5],k.duration=g[6],k.Lb=g[7],k.Mb=g[8],k.fl=g[9],k.mj=g[10],k.np=g[11],k.lg=0!==k.width,k.zk="",k.aw=e,l={left:0,top:0,right:1,bottom:1},k.xm=l,k.F=null,(l=this.b.Os(g[0]))?k.S=l:(k.S=new Image,k.S.tr=g[0],k.S.xk=g[1],k.S.lr=null,this.b.Yj(k.S,g[0])),h.frames.push(k),this.Kc.push(k);this.Wb[a]=h}}};c.aq=function(){var a,b,c;a=0;for(b=this.d.length;a<
b;a++)c=this.d[a],c.li=c.kb.F};c.dg=function(){if(!this.B){var a,b,c;a=0;for(b=this.Kc.length;a<b;++a)c=this.Kc[a],c.S.lr=null,c.F=null;this.Qg=!1;this.aq()}};c.sh=function(){if(!this.B&&this.d.length){var a,b,c;a=0;for(b=this.Kc.length;a<b;++a)c=this.Kc[a],c.F=this.b.k.Yf(c.S,!1,this.b.la,c.np);this.aq()}};c.Jl=function(){if(!this.B&&!this.Qg&&this.b.k){var a,b,c;a=0;for(b=this.Kc.length;a<b;++a)c=this.Kc[a],c.F=this.b.k.Yf(c.S,!1,this.b.la,c.np);this.Qg=!0}};c.Uj=function(){if(!this.B&&!this.d.length&&
this.Qg){var a,b,c;a=0;for(b=this.Kc.length;a<b;++a)c=this.Kc[a],this.b.k.deleteTexture(c.F),c.F=null;this.Qg=!1}};var d=[];c.oj=function(a){var b,c,f;R(d);b=0;for(c=this.Kc.length;b<c;++b)f=this.Kc[b].S,-1===d.indexOf(f)&&(a.drawImage(f,0,0),d.push(f))};q.oa=function(a){this.type=a;this.b=a.b;a=this.type.Wb[0].frames[0].mj;this.gc?this.M.zh(a):this.M=new Za(a)};var k=q.oa.prototype;k.X=function(){this.visible=0===this.A[0];this.Gi=this.Xg=!1;this.sd=0!==this.A[3];this.ra=this.Pn(this.A[1])||this.type.Wb[0];
this.C=this.A[2];0>this.C&&(this.C=0);this.C>=this.ra.frames.length&&(this.C=this.ra.frames.length-1);var a=this.ra.frames[this.C];this.M.zh(a.mj);this.Lb=a.Lb;this.Mb=a.Mb;this.Df=this.ra.speed;this.he=this.ra.lm;1===this.type.Wb.length&&1===this.type.Wb[0].frames.length||0===this.Df||(this.b.Ih(this),this.Xg=!0);this.gc?this.ed.reset():this.ed=new Wa;this.zd=this.ed.ta;this.Me=!0;this.rd=0;this.Le=!0;this.ei=this.jn="";this.wn=0;this.di=-1;this.type.Jl();var b,c,d,f,e,g,h,a=0;for(b=this.type.Wb.length;a<
b;a++)for(f=this.type.Wb[a],c=0,d=f.frames.length;c<d;c++)e=f.frames[c],0===e.width&&(e.width=e.S.width,e.height=e.S.height),e.lg&&(h=e.S,g=e.xm,g.left=e.ag/h.width,g.top=e.bg/h.height,g.right=(e.ag+e.width)/h.width,g.bottom=(e.bg+e.height)/h.height,0===e.ag&&0===e.bg&&e.width===h.width&&e.height===h.height&&(e.lg=!1));this.kb=this.ra.frames[this.C];this.li=this.kb.F};k.yb=function(){var a={a:this.ra.W,f:this.C,cas:this.Df,fs:this.zd,ar:this.rd,at:this.ed.ta,rt:this.he};this.Me||(a.ap=this.Me);this.Le||
(a.af=this.Le);return a};k.Pb=function(a){var b=this.Qs(a.a);b&&(this.ra=b);this.C=a.f;0>this.C&&(this.C=0);this.C>=this.ra.frames.length&&(this.C=this.ra.frames.length-1);this.Df=a.cas;this.zd=a.fs;this.rd=a.ar;this.ed.reset();this.ed.ta=a.at;this.Me=a.hasOwnProperty("ap")?a.ap:!0;this.Le=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.he=a.rt:this.he=this.ra.lm;this.kb=this.ra.frames[this.C];this.li=this.kb.F;this.M.zh(this.kb.mj);this.Lb=this.kb.Lb;this.Mb=this.kb.Mb};k.lk=function(a){this.C=
a?0:this.ra.frames.length-1;this.Me=!1;this.jn=this.ra.name;this.Gi=!0;this.b.trigger(Y.prototype.q.Bq,this);this.b.trigger(Y.prototype.q.Aq,this);this.Gi=!1;this.rd=0};k.Uh=function(){return this.ed.ta};k.Tb=function(){this.ed.add(this.b.Ig(this));this.ei.length&&this.En();0<=this.di&&this.Fn();var a=this.ed.ta,b=this.ra,c=b.frames[this.C],d=c.duration/this.Df;this.Me&&a>=this.zd+d&&(this.Le?this.C++:this.C--,this.zd+=d,this.C>=b.frames.length&&(b.mp?(this.Le=!1,this.C=b.frames.length-2):b.loop?
this.C=this.he:(this.rd++,this.rd>=b.km?this.lk(!1):this.C=this.he)),0>this.C&&(b.mp?(this.C=1,this.Le=!0,b.loop||(this.rd++,this.rd>=b.km&&this.lk(!0))):b.loop?this.C=this.he:(this.rd++,this.rd>=b.km?this.lk(!0):this.C=this.he)),0>this.C?this.C=0:this.C>=b.frames.length&&(this.C=b.frames.length-1),a>this.zd+b.frames[this.C].duration/this.Df&&(this.zd=a),a=b.frames[this.C],this.zf(c,a),this.b.ca=!0)};k.Pn=function(a){var b,c,d;b=0;for(c=this.type.Wb.length;b<c;b++)if(d=this.type.Wb[b],eb(d.name,a))return d;
return null};k.Qs=function(a){var b,c,d;b=0;for(c=this.type.Wb.length;b<c;b++)if(d=this.type.Wb[b],d.W===a)return d;return null};k.En=function(){var a=this.ra.frames[this.C],b=this.Pn(this.ei);this.ei="";!b||eb(b.name,this.ra.name)&&this.Me||(this.ra=b,this.Df=b.speed,this.he=b.lm,0>this.C&&(this.C=0),this.C>=this.ra.frames.length&&(this.C=this.ra.frames.length-1),1===this.wn&&(this.C=0),this.Me=!0,this.zd=this.ed.ta,this.Le=!0,this.zf(a,this.ra.frames[this.C]),this.b.ca=!0)};k.Fn=function(){var a=
this.ra.frames[this.C],b=this.C;this.C=Q(this.di);0>this.C&&(this.C=0);this.C>=this.ra.frames.length&&(this.C=this.ra.frames.length-1);b!==this.C&&(this.zf(a,this.ra.frames[this.C]),this.zd=this.ed.ta,this.b.ca=!0);this.di=-1};k.zf=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Lb=b.Lb;this.Mb=b.Mb;this.M.zh(b.mj);this.K();this.kb=b;this.li=b.F;c=0;for(d=this.J.length;c<d;c++)e=this.J[c],e.cu&&e.cu(a,b);this.b.trigger(Y.prototype.q.zf,
this)};k.Yb=function(a){a.globalAlpha=this.opacity;var b=this.kb,c=b.lg,d=b.S,e=this.x,f=this.y,g=this.width,h=this.height;if(0===this.j&&0<=g&&0<=h)e-=this.Lb*g,f-=this.Mb*h,this.b.nc&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.ag,b.bg,b.width,b.height,e,f,g,h):a.drawImage(d,e,f,g,h);else{this.b.nc&&(e=Math.round(e),f=Math.round(f));a.save();var k=0<g?1:-1,l=0<h?1:-1;a.translate(e,f);1===k&&1===l||a.scale(k,l);a.rotate(this.j*k*l);e=0-this.Lb*ka(g);f=0-this.Mb*ka(h);c?a.drawImage(d,b.ag,
b.bg,b.width,b.height,e,f,ka(g),ka(h)):a.drawImage(d,e,f,ka(g),ka(h));a.restore()}};k.Gf=function(a){this.wb(a)};k.wb=function(a){a.La(this.li);a.Id(this.opacity);var b=this.kb,c=this.cb;if(this.b.nc){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.lg?a.Hd(c.xa+d,c.ya+e,c.$a+d,c.ab+e,c.Pa+d,c.Qa+e,c.Na+d,c.Oa+e,b.xm):a.Ae(c.xa+d,c.ya+e,c.$a+d,c.ab+e,c.Pa+d,c.Qa+e,c.Na+d,c.Oa+e)}else b.lg?a.Hd(c.xa,c.ya,c.$a,c.ab,c.Pa,c.Qa,c.Na,c.Oa,b.xm):a.Ae(c.xa,c.ya,c.$a,c.ab,c.Pa,c.Qa,c.Na,c.Oa)};
k.Us=function(a){var b=this.kb,c,d;c=0;for(d=b.fl.length;c<d;c++)if(eb(a,b.fl[c][0]))return c;return-1};k.Jg=function(a,b){var c=this.kb,d=c.fl,e;z(a)?e=this.Us(a):e=a-1;e=Q(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.Lb)*this.width,d=d[e][2],d=(d-c.Mb)*this.height,c=Math.cos(this.j);e=Math.sin(this.j);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var g=[],u=-2,y=[];p.prototype.Dq=function(a){if(!a)return!1;var c=this.b,d=c.Uk(),e=d.type,f=null;d.O.collmemory?f=d.O.collmemory:
(f={},d.O.collmemory=f);d.O.spriteCreatedDestroyCallback||(d.O.spriteCreatedDestroyCallback=!0,c.$q(function(a){var b=d.O.collmemory;a=a.uid;var c,e;for(c in b)b.hasOwnProperty(c)&&(e=b[c],e[0]===a||e[1]===a)&&(m(b[c]),delete b[c])}));var g=e.V(),h=a.V(),g=g.$b(),k,l,n,q,p,w,x,A=this.b.Gc,B=A-1,C=c.Sa().Ab;for(l=0;l<g.length;l++){n=g[l];h.da?(n.aa(),this.b.Tk(n.e,a,n.fa,y),k=y,this.b.cr(n,a,k)):k=h.$b();for(q=0;q<k.length;q++)p=k[q],c.Fe(n,p)||c.qr(n,p)?(w=b(f,n,p),w=!w||u<B,r(f,n,p,A),w&&(c.qj(C.na),
w=e.V(),x=a.V(),w.da=!1,x.da=!1,e===a?(w.d.length=2,w.d[0]=n,w.d[1]=p,e.tc()):(w.d.length=1,x.d.length=1,w.d[0]=n,x.d[0]=p,e.tc(),a.tc()),C.wu(),c.rf(C.na))):t(f,n,p);R(y)}return!1};var G=null,h=new ba,n=!1,w=[],ca=new sa(0,0,0,0);c.finish=function(a){if(n){if(a){var b=this.b.Sa().Ab.mc;a=G.V();var c=h.qd(),d,e;if(a.da){a.da=!1;R(a.d);d=0;for(e=c.length;d<e;++d)a.d[d]=c[d];if(b)for(R(a.R),d=0,e=G.d.length;d<e;++d)c=G.d[d],h.contains(c)||a.R.push(c)}else if(b)for(b=a.d.length,d=0,e=c.length;d<e;++d)a.d[b+
d]=c[d],Ca(a.R,c[d]);else xa(a.d,c);G.tc()}h.clear();n=!1}};p.prototype.wq=function(a){if(a){var b=!1,c,d,e,f=this.b.Uk(),g=f.type,f=f.Hi;c=a.V();d=this.b.Sa().Ab.mc;var k;c.da?(this.aa(),ca.Cf(this.fa),ca.offset(0,0),this.b.Tk(this.e,a,ca,w),k=w):k=d?this.b.Ht()&&!c.R.length&&c.d.length?c.d:c.R:c.d;G=a;n=g!==a&&!f;c=0;for(d=k.length;c<d;c++)if(e=k[c],this.b.Fe(this,e)){b=!0;if(f)break;g!==a&&h.add(e)}R(w);a=b}else a=!1;return a};p.prototype.Aq=function(a){return eb(this.jn,a)};p.prototype.Bq=function(){return!0};
p.prototype.zf=function(){return!0};q.q=new p;a.prototype.Pq=function(a,b){this.ei=a;this.wn=b;this.Xg||(this.b.Ih(this),this.Xg=!0);this.Gi||this.En()};a.prototype.Qq=function(a){this.di=a;this.Xg||(this.b.Ih(this),this.Xg=!0);this.Gi||this.Fn()};q.ea=new a;f.prototype.rq=function(a,b){a.D(this.Jg(b,!0))};f.prototype.sq=function(a,b){a.D(this.Jg(b,!1))};q.fb=new f})();function jc(e){this.b=e}
(function(){function e(a,b){return a.length?a.pop():new b}function p(a,c,d){if(d){var e;d=0;for(e=c.length;d<e;d++)a.length<b&&a.push(c[d]);R(c)}else for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(a.length<b&&a.push(c[e]),delete c[e])}function m(b,c,d){var f=b.Bb;d=d.replace(/\s\s*$/,"");c>=f.length&&f.push(e(a,Object));c=f[c];c.text=d;c.width=b.Ql(d);b.Qd=la(b.Qd,c.width)}function l(){}var r=jc.prototype;r.X=function(){};r.za=function(a){this.ma=a;this.b=a.b};var t=r.za.prototype;t.X=function(){this.B||
(this.S=new Image,this.b.Yj(this.S,this.Pj),this.F=null)};t.dg=function(){this.B||(this.F=null)};t.sh=function(){if(!this.B&&this.d.length){this.F||(this.F=this.b.k.Yf(this.S,!1,this.b.la,this.Hh));var a,b;a=0;for(b=this.d.length;a<b;a++)this.d[a].F=this.F}};t.Uj=function(){this.B||this.d.length||!this.F||(this.b.k.deleteTexture(this.F),this.F=null)};t.oj=function(a){a.drawImage(this.S,0,0)};r.oa=function(a){this.type=a;this.b=a.b};t=r.oa.prototype;t.nf=function(){p(a,this.Bb,!0);p(f,this.gi,!1);
p(q,this.hi,!1);Qa(this.de)};t.X=function(){this.S=this.type.S;this.fi=this.A[0];this.ae=this.A[1];this.characterSet=this.A[2];this.text=this.A[3];this.be=this.A[4];this.visible=0===this.A[5];this.Ad=this.A[6]/2;this.Sd=this.A[7]/2;this.Ph=0===this.A[9];this.Bf=this.A[10];this.lineHeight=this.A[11];this.od=this.Qd=0;this.gc?(R(this.Bb),Qa(this.gi),Qa(this.hi),Qa(this.de)):(this.Bb=[],this.gi={},this.hi={},this.de={});this.pc=!0;this.df=this.width;this.b.k&&(this.type.F||(this.type.F=this.b.k.Yf(this.type.S,
!1,this.b.la,this.type.Hh)),this.F=this.type.F);this.Vq()};t.yb=function(){var a={t:this.text,csc:this.be,csp:this.Bf,lh:this.lineHeight,tw:this.Qd,th:this.od,lrt:this.cf,ha:this.Ad,va:this.Sd,cw:{}},b;for(b in this.de)a.cw[b]=this.de[b];return a};t.Pb=function(a){this.text=a.t;this.be=a.csc;this.Bf=a.csp;this.lineHeight=a.lh;this.Qd=a.tw;this.od=a.th;this.cf=a.lrt;a.hasOwnProperty("ha")&&(this.Ad=a.ha);a.hasOwnProperty("va")&&(this.Sd=a.va);for(var b in a.cw)this.de[b]=a.cw[b];this.pc=!0;this.df=
this.width};var b=1E3,a=[],f=[],q=[];t.Vq=function(){for(var a=this.S,b=a.width,c=a.height,a=this.fi,d=this.ae,l=a/b,h=d/c,n=this.characterSet,b=Math.floor(b/a),c=Math.floor(c/d),m=0;m<n.length&&!(m>=b*c);m++){var p=m%b,r=Math.floor(m/b),t=n.charAt(m);if(this.b.k){var L=this.hi,E=p*l,P=r*h,p=(p+1)*l,r=(r+1)*h;void 0===L[t]&&(L[t]=e(q,sa));L[t].left=E;L[t].top=P;L[t].right=p;L[t].bottom=r}else L=this.gi,p=p*a,r=r*d,E=a,P=d,void 0===L[t]&&(L[t]=e(f,Object)),L[t].x=p,L[t].y=r,L[t].fq=E,L[t].Yn=P}};var c=
[];r.fk=function(a){R(c);for(var b="",d,e=0;e<a.length;)if(d=a.charAt(e),"\n"===d)b.length&&(c.push(b),b=""),c.push("\n"),++e;else if(" "===d||"\t"===d||"-"===d){do b+=a.charAt(e),e++;while(e<a.length&&(" "===a.charAt(e)||"\t"===a.charAt(e)));c.push(b);b=""}else e<a.length&&(b+=d,e++);b.length&&c.push(b)};r.gk=function(b){var c=b.text,d=b.Bb;if(c&&c.length){var f=b.width;if(2>=f)p(a,d,!0);else{var l=b.be,h=b.Bf;if(c.length*(b.fi*l+h)-h<=f&&-1===c.indexOf("\n")&&(h=b.Ql(c),h<=f)){p(a,d,!0);d.push(e(a,
Object));d[0].text=c;d[0].width=h;b.Qd=h;b.od=b.ae*l+b.lineHeight;return}this.hk(b);b.od=d.length*(b.ae*l+b.lineHeight)}}else p(a,d,!0)};r.hk=function(d){var e=d.Ph,f=d.text,l=d.Bb,q=d.width;e&&(this.fk(f),f=c);var h="",n,p,r,v=0,t=!1;for(r=0;r<f.length;r++)"\n"===f[r]?(!0===t?t=!1:(m(d,v,h),v++),h=""):(t=!1,n=h,h+=f[r],p=d.Ql(h.replace(/\s\s*$/,"")),p>q&&(""===n?(m(d,v,h),h="",t=!0):(m(d,v,n),h=f[r]),v++,e||" "!==h||(h="")));h.replace(/\s\s*$/,"").length&&(m(d,v,h),v++);for(r=v;r<l.length;r++)a.length<
b&&a.push(l[r]);l.length=v};t.Ql=function(a){for(var b=this.Bf,c=a.length,d=0,e=0;e<c;e++)d+=this.Sk(a.charAt(e))*this.be+b;return d-(0<d?b:0)};t.Sk=function(a){var b=this.de;return void 0!==b[a]?b[a]:this.fi};t.up=function(){if(this.pc||this.width!==this.df)this.od=this.Qd=0,this.type.ma.gk(this),this.pc=!1,this.df=this.width};t.Yb=function(a){var b=this.S;if(""!==this.text&&null!=b&&(this.up(),!(this.height<this.ae*this.be+this.lineHeight))){a.globalAlpha=this.opacity;var b=this.x,c=this.y;this.b.nc&&
(b=Math.round(b),c=Math.round(c));var d=this.e.T,e=this.e.U,f=this.e.Z,l=this.e.Y;a.save();a.translate(b,c);a.rotate(this.j);for(var q=this.j,m=this.Ad,r=this.be,p=this.ae*r,t=this.lineHeight,E=this.Bf,P=this.Bb,J,S=-(this.Lb*this.width),D=-(this.Mb*this.height),D=D+this.Sd*la(0,this.height-this.od),K,I,O,U=0;U<P.length;U++){var F=P[U].text;J=m*la(0,this.width-P[U].width);K=S+J;D+=t;if(0===q&&c+D+p<e)D+=p;else{for(var x=0;x<F.length;x++){I=F.charAt(x);J=this.Sk(I);var A=this.gi[I];if(0===q&&b+K+J*
r+E<d)K+=J*r+E;else{if(K+J*r>this.width+1E-5)break;void 0!==A&&(I=K,O=D,0===q&&1===r&&(I=Math.round(I),O=Math.round(O)),a.drawImage(this.S,A.x,A.y,A.fq,A.Yn,I,O,A.fq*r,A.Yn*r));K+=J*r+E;if(0===q&&b+K>f)break}}D+=p;if(0===q&&(D+p+t>this.height||c+D>l))break}}a.restore()}};var d=new ta;t.wb=function(a){a.La(this.F);a.Id(this.opacity);if(this.text&&(this.up(),!(this.height<this.ae*this.be+this.lineHeight))){this.aa();var b=this.cb,c=0,e=0;this.b.nc&&(c=Math.round(this.x)-this.x,e=Math.round(this.y)-
this.y);var f=this.e.T,h=this.e.U,l=this.e.Z,q=this.e.Y,m=this.j,r=this.Ad,p=this.Sd,t=this.be,E=this.ae*t,P=this.lineHeight,J=this.Bf,S=this.Bb,D=this.od,K,I,O;0!==m&&(I=Math.cos(m),O=Math.sin(m));for(var c=b.xa+c,b=b.ya+e,U,p=p*la(0,this.height-D),F,x,D=0;D<S.length;D++)if(e=S[D].text,U=K=r*la(0,this.width-S[D].width),p+=P,0===m&&b+p+E<h)p+=E;else{for(var A=0;A<e.length;A++){var B=e.charAt(A);K=this.Sk(B);B=this.hi[B];if(0===m&&c+U+K*t+J<f)U+=K*t+J;else{if(U+K*t>this.width+1E-5)break;if(void 0!==
B){var C=this.fi*t,M=this.ae*t;F=U;x=p;0===m&&1===t&&(F=Math.round(F),x=Math.round(x));d.xa=F;d.ya=x;d.$a=F+C;d.ab=x;d.Na=F;d.Oa=x+M;d.Pa=F+C;d.Qa=x+M;0!==m&&(F=d,x=I,C=O,M=void 0,M=F.xa*x-F.ya*C,F.ya=F.ya*x+F.xa*C,F.xa=M,M=F.$a*x-F.ab*C,F.ab=F.ab*x+F.$a*C,F.$a=M,M=F.Na*x-F.Oa*C,F.Oa=F.Oa*x+F.Na*C,F.Na=M,M=F.Pa*x-F.Qa*C,F.Qa=F.Qa*x+F.Pa*C,F.Pa=M);d.offset(c,b);a.Hd(d.xa,d.ya,d.$a,d.ab,d.Pa,d.Qa,d.Na,d.Oa,B)}U+=K*t+J;if(0===m&&c+U>l)break}}p+=E;if(0===m&&(p+E+P>this.height||b+p>q))break}}};r.q=new function(){};
l.prototype.Zm=function(a){ha(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.pc=!0,this.b.ca=!0)};t.Uh=function(a,b){var c=parseInt(b,10);this.de[a]!==c&&(this.de[a]=c,this.pc=!0,this.b.ca=!0)};r.ea=new l;r.fb=new function(){}})();function kc(e){this.b=e}
(function(){function e(){return a.length?a.pop():{}}function p(b){var e,c;e=0;for(c=b.length;e<c;e++)a.push(b[e]);R(b)}function m(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function l(){}var r=kc.prototype;r.X=function(){r.ea.Uq=function(a){this.width!==a&&(this.width=a,this.pc=!0,this.K())}};r.za=function(a){this.ma=a;this.b=a.b};var t=r.za.prototype;t.X=function(){};t.dg=function(){if(!this.B){var a,b,c;a=0;for(b=this.d.length;a<b;a++)c=this.d[a],c.kd=null,c.lf=null,
c.ec=null}};r.oa=function(a){this.type=a;this.b=a.b;this.gc?R(this.Bb):this.Bb=[];this.pc=!0};t=r.oa.prototype;t.X=function(){this.text=this.A[0];this.visible=0===this.A[1];this.font=this.A[2];this.color=this.A[3];this.Ad=this.A[4];this.Sd=this.A[5];this.Ph=0===this.A[7];this.df=this.Ri=this.width;this.Qi=this.height;this.Il=this.A[8];this.xi=this.Jf="";this.od=this.Qd=this.wh=0;this.fu();this.ec=this.lf=this.kd=null;this.Yo=!1;this.cf=this.b.Gc;this.gc?this.fg.set(0,0,1,1):this.fg=new sa(0,0,1,1);
this.b.k&&this.b.Ih(this)};t.fu=function(){var a=this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.wh=parseInt(a[b].substr(0,a[b].length-2));this.gm=Math.ceil(this.wh/72*96)+4;0<b&&(this.xi=a[b-1]);this.Jf=a[b+1];for(b+=2;b<a.length;b++)this.Jf+=" "+a[b];break}};t.yb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Ad,va:this.Sd,wr:this.Ph,lho:this.Il,fn:this.Jf,fs:this.xi,ps:this.wh,pxh:this.gm,tw:this.Qd,th:this.od,lrt:this.cf}};t.Pb=function(a){this.text=
a.t;this.font=a.f;this.color=a.c;this.Ad=a.ha;this.Sd=a.va;this.Ph=a.wr;this.Il=a.lho;this.Jf=a.fn;this.xi=a.fs;this.wh=a.ps;this.gm=a.pxh;this.Qd=a.tw;this.od=a.th;this.cf=a.lrt;this.pc=!0;this.df=this.Ri=this.width;this.Qi=this.height};t.Tb=function(){if(this.b.k&&this.ec&&300<=this.b.Gc-this.cf){var a=this.e;this.aa();var b=this.fa;if(b.right<a.T||b.bottom<a.U||b.left>a.Z||b.top>a.Y)this.b.k.deleteTexture(this.ec),this.kd=this.lf=this.ec=null}};t.nf=function(){this.kd=this.lf=null;this.b.k&&this.ec&&
this.b.k.deleteTexture(this.ec);this.ec=null};t.Uh=function(){this.font=this.xi+" "+this.wh.toString()+"pt "+this.Jf;this.pc=!0;this.b.ca=!0};t.Yb=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=Math.abs(this.e.Kb()),a.save(),a.scale(c,c));if(this.pc||this.width!==this.df)this.type.ma.gk(this.text,this.Bb,a,this.width,this.Ph),this.pc=!1,this.df=this.width;this.aa();var c=b?0:this.cb.xa,d=b?0:this.cb.ya;this.b.nc&&(c=c+.5|0,d=
d+.5|0);0===this.j||b||(a.save(),a.translate(c,d),a.rotate(this.j),d=c=0);var e=d+this.height,g=this.gm,g=g+this.Il,l,m;1===this.Sd?d+=Math.max(this.height/2-this.Bb.length*g/2,0):2===this.Sd&&(d+=Math.max(this.height-this.Bb.length*g-2,0));for(m=0;m<this.Bb.length&&!(l=c,1===this.Ad?l=c+(this.width-this.Bb[m].width)/2:2===this.Ad&&(l=c+(this.width-this.Bb[m].width)),a.fillText(this.Bb[m].text,l,d),d+=g,d>=e-g);m++);(0!==this.j||b)&&a.restore();this.cf=this.b.Gc};t.wb=function(a){if(!(1>this.width||
1>this.height)){var b=this.pc||this.Yo;this.Yo=!1;var c=this.e.Kb(),d=this.e.Zb(),e=this.fg,g=c*this.width,l=c*this.height,m=Math.ceil(g),r=Math.ceil(l),h=Math.abs(m),n=Math.abs(r),p=this.b.I/2,t=this.b.H/2;this.lf||(this.kd=document.createElement("canvas"),this.kd.width=h,this.kd.height=n,this.Ri=h,this.Qi=n,b=!0,this.lf=this.kd.getContext("2d"));if(h!==this.Ri||n!==this.Qi)this.kd.width=h,this.kd.height=n,this.ec&&(a.deleteTexture(this.ec),this.ec=null),b=!0;b&&(this.lf.clearRect(0,0,h,n),this.Yb(this.lf,
!0),this.ec||(this.ec=a.Ib(h,n,this.b.la,this.b.pe)),a.Pm(this.kd,this.ec,this.b.pe));this.Ri=h;this.Qi=n;a.La(this.ec);a.Id(this.opacity);a.Cc();a.translate(-p,-t);a.qc();var v=this.cb,b=this.e.wa(v.xa,v.ya,!0,!0),h=this.e.wa(v.xa,v.ya,!1,!0),n=this.e.wa(v.$a,v.ab,!0,!0),p=this.e.wa(v.$a,v.ab,!1,!0),t=this.e.wa(v.Pa,v.Qa,!0,!0),H=this.e.wa(v.Pa,v.Qa,!1,!0),L=this.e.wa(v.Na,v.Oa,!0,!0),v=this.e.wa(v.Na,v.Oa,!1,!0);if(this.b.nc||0===this.j&&0===d)var E=(b+.5|0)-b,P=(h+.5|0)-h,b=b+E,h=h+P,n=n+E,p=p+
P,t=t+E,H=H+P,L=L+E,v=v+P;0===this.j&&0===d?(n=b+m,p=h,t=n,H=h+r,L=b,v=H,e.right=1,e.bottom=1):(e.right=g/m,e.bottom=l/r);a.Hd(b,h,n,p,t,H,L,v,e);a.Cc();a.scale(c,c);a.xj(-this.e.Zb());a.translate((this.e.T+this.e.Z)/-2,(this.e.U+this.e.Y)/-2);a.qc();this.cf=this.b.Gc}};var b=[];r.fk=function(a){R(b);for(var e="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)e.length&&(b.push(e),e=""),b.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do e+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===
a.charAt(d)));b.push(e);e=""}else d<a.length&&(e+=c,d++);e.length&&b.push(e)};var a=[];r.gk=function(a,b,c,d,k){if(a&&a.length)if(2>=d)p(b);else{if(100>=a.length&&-1===a.indexOf("\n")){var g=c.measureText(a).width;if(g<=d){p(b);b.push(e());b[0].text=a;b[0].width=g;return}}this.hk(a,b,c,d,k)}else p(b)};r.hk=function(f,l,c,d,k){k&&(this.fk(f),f=b);var g="",p,r,t,h=0;for(t=0;t<f.length;t++)"\n"===f[t]?(h>=l.length&&l.push(e()),g=m(g),r=l[h],r.text=g,r.width=c.measureText(g).width,h++,g=""):(p=g,g+=f[t],
r=c.measureText(g).width,r>=d&&(h>=l.length&&l.push(e()),p=m(p),r=l[h],r.text=p,r.width=c.measureText(p).width,h++,g=f[t],k||" "!==g||(g="")));g.length&&(h>=l.length&&l.push(e()),g=m(g),r=l[h],r.text=g,r.width=c.measureText(g).width,h++);for(t=h;t<l.length;t++)a.push(l[t]);l.length=h};r.q=new function(){};l.prototype.Zm=function(a){ha(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.pc=!0,this.b.ca=!0)};r.ea=new l;r.fb=new function(){}})();
function Z(e){this.b=e}
(function(){function e(a){q=a.x;c=a.y;d=a.z}function p(a,b,c,d){var e;e=k.length?k.pop():new m;e.init(a,b,c,d);return e}function m(){this.Dh=this.id=this.ff=this.ef=this.y=this.x=this.Kj=this.Jj=this.Cl=this.time=this.Bm=0;this.Jh=this.Sj=!1}function l(a){return a.sourceCapabilities&&a.sourceCapabilities.firesTouchEvents||a.originalEvent&&a.originalEvent.sourceCapabilities&&a.originalEvent.sourceCapabilities.firesTouchEvents}function r(){}function t(){}var b=Z.prototype;b.za=function(a){this.ma=a;
this.b=a.b};b.za.prototype.X=function(){};b.oa=function(a){this.type=a;this.b=a.b;this.touches=[];this.Rl=!1};var a=b.oa.prototype,f={left:0,top:0};a.Hg=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var q=0,c=0,d=0,k=[];m.prototype.init=function(a,b,c,d){var e=Ra();this.Bm=this.Cl=this.time=e;this.Jj=a;this.Kj=b;this.x=a;this.y=b;this.ef=a;this.ff=b;this.pressure=this.height=this.width=0;this.id=c;this.Dh=d;this.Jh=this.Sj=!1};m.prototype.update=
function(a,b,c,d,e,f){this.Cl=this.time;this.time=a;this.ef=this.x;this.ff=this.y;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.Jh&&15<=Na(this.Jj,this.Kj,this.x,this.y)&&(this.Jh=!0)};m.prototype.Tt=function(a,b){!this.Sj&&500<=Ra()-this.Bm&&!this.Jh&&15>Na(this.Jj,this.Kj,this.x,this.y)&&(this.Sj=!0,a.pd=this.Dh,a.pg=this.id,a.Nf=b,a.b.trigger(Z.prototype.q.Hq,a),a.ud=this.x,a.vd=this.y,a.b.trigger(Z.prototype.q.Iq,a),a.Nf=0)};var g=-1E3,u=-1E3,y=-1E4;m.prototype.To=function(a,
b){if(!this.Sj){var c=Ra();333>=c-this.Bm&&!this.Jh&&15>Na(this.Jj,this.Kj,this.x,this.y)&&(a.pd=this.Dh,a.pg=this.id,a.Nf=b,666>=c-y&&25>Na(g,u,this.x,this.y)?(a.b.trigger(Z.prototype.q.Fq,a),a.ud=this.x,a.vd=this.y,a.b.trigger(Z.prototype.q.Gq,a),u=g=-1E3,y=-1E4):(a.b.trigger(Z.prototype.q.Mq,a),a.ud=this.x,a.vd=this.y,a.b.trigger(Z.prototype.q.Nq,a),g=this.x,u=this.y,y=c),a.Nf=0)}};a.X=function(){this.Lt=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Nf=this.pg=this.pd=
this.vd=this.ud=this.en=this.dn=this.cn=this.Zq=this.Yq=this.Xq=this.hj=this.gj=this.fj=0;this.Qu=0!==this.A[0];var a=0<this.b.Jb?document:this.b.canvas,b=document;this.b.me?b=a=window.Canvas:this.b.wc&&(b=a=window);var c=this;"undefined"!==typeof PointerEvent?(a.addEventListener("pointerdown",function(a){c.fp(a)},!1),a.addEventListener("pointermove",function(a){c.ep(a)},!1),b.addEventListener("pointerup",function(a){c.ej(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.ej(a,!0)},!1),this.b.canvas&&
(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.fp(a)},!1),a.addEventListener("MSPointerMove",function(a){c.ep(a)},!1),b.addEventListener("MSPointerUp",
function(a){c.ej(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.ej(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){c.hp(a)},!1),a.addEventListener("touchmove",function(a){c.gp(a)},!1),b.addEventListener("touchend",function(a){c.Xl(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.Xl(a,!0)},
!1));if(this.Lt){var d=function(a){a=a.reading;c.cn=a.accelerationX;c.dn=a.accelerationY;c.en=a.accelerationZ},f=function(a){a=a.reading;c.fj=a.yawDegrees;c.gj=a.pitchDegrees;c.hj=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",d));var k=Windows.Devices.Sensors.Inclinometer.getDefault();k&&(k.reportInterval=Math.max(k.minimumReportInterval,16),k.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",
function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",d),k&&k.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",d),k&&k.addEventListener("readingchanged",f))},!1)}else window.addEventListener("deviceorientation",function(a){c.fj=a.alpha||0;c.gj=a.beta||0;c.hj=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.Xq=a.accelerationIncludingGravity.x||0,c.Yq=a.accelerationIncludingGravity.y||
0,c.Zq=a.accelerationIncludingGravity.z||0);a.acceleration&&(c.cn=a.acceleration.x||0,c.dn=a.acceleration.y||0,c.en=a.acceleration.z||0)},!1);this.Qu&&!this.b.Va&&(jQuery(document).mousemove(function(a){c.au(a)}),jQuery(document).mousedown(function(a){c.$t(a)}),jQuery(document).mouseup(function(a){c.bu(a)}));!this.b.Ni&&this.b.xc&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(e,null,{frequency:40});this.b.Qp(this)};a.ep=function(a){if(a.pointerType!==
a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.Hg(a.pointerId),c=Ra();if(0<=b){var d=this.b.Va?f:jQuery(this.b.canvas).offset(),b=this.touches[b];2>c-b.time||b.update(c,a.pageX-d.left,a.pageY-d.top,a.width||0,a.height||0,a.pressure||0)}}};a.fp=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&fb(a)&&a.preventDefault();var b=this.b.Va?f:jQuery(this.b.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top;Ra();
this.pd=this.touches.length;this.pg=a.pointerId;this.touches.push(p(c,b,a.pointerId,this.pd));this.b.oe=!0;this.b.trigger(Z.prototype.q.Um,this);this.b.trigger(Z.prototype.q.Xm,this);this.ud=c;this.vd=b;this.b.trigger(Z.prototype.q.dk,this);this.b.oe=!1}};a.ej=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&fb(a)&&a.preventDefault();var c=this.Hg(a.pointerId);this.pd=0<=c?this.touches[c].Dh:-1;this.pg=0<=c?this.touches[c].id:-1;this.b.oe=!0;this.b.trigger(Z.prototype.q.Tm,
this);this.b.trigger(Z.prototype.q.Wm,this);0<=c&&(b||this.touches[c].To(this,c),100>k.length&&k.push(this.touches[c]),this.touches.splice(c,1));this.b.oe=!1}};a.gp=function(a){a.preventDefault&&a.preventDefault();var b=Ra(),c,d,e,g;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],g=this.Hg(e.identifier),0<=g){var k=this.b.Va?f:jQuery(this.b.canvas).offset();g=this.touches[g];2>b-g.time||g.update(b,e.pageX-k.left,e.pageY-k.top,2*(e.mw||e.xw||e.fw||e.iw||0),2*(e.ow||e.yw||e.gw||e.jw||
0),e.$v||e.ww||e.ew||e.hw||0)}};a.hp=function(a){a.preventDefault&&fb(a)&&a.preventDefault();var b=this.b.Va?f:jQuery(this.b.canvas).offset();Ra();this.b.oe=!0;var c,d,e,g;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],g=this.Hg(e.identifier),-1===g){g=e.pageX-b.left;var k=e.pageY-b.top;this.pd=this.touches.length;this.pg=e.identifier;this.touches.push(p(g,k,e.identifier,this.pd));this.b.trigger(Z.prototype.q.Um,this);this.b.trigger(Z.prototype.q.Xm,this);this.ud=g;this.vd=k;this.b.trigger(Z.prototype.q.dk,
this)}this.b.oe=!1};a.Xl=function(a,b){a.preventDefault&&fb(a)&&a.preventDefault();this.b.oe=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.Hg(e.identifier),0<=e&&(this.pd=this.touches[e].Dh,this.pg=this.touches[e].id,this.b.trigger(Z.prototype.q.Tm,this),this.b.trigger(Z.prototype.q.Wm,this),b||this.touches[e].To(this,e),100>k.length&&k.push(this.touches[e]),this.touches.splice(e,1));this.b.oe=!1};a.Uh=function(){return this.b.xc&&0===this.fj&&0!==d?90*d:this.fj};
a.Yv=function(){return this.b.xc&&0===this.gj&&0!==c?90*c:this.gj};a.Zv=function(){return this.b.xc&&0===this.hj&&0!==q?90*q:this.hj};a.$t=function(a){l(a)||(this.hp({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),this.Rl=!0)};a.au=function(a){this.Rl&&!l(a)&&this.gp({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};a.bu=function(a){a.preventDefault&&this.b.Zn&&!this.b.pe&&a.preventDefault();this.b.Zn=!0;l(a)||(this.Xl({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),
this.Rl=!1)};a.ng=function(){var a,b,c,d=Ra();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.Cl=d),c.Tt(this,a)};r.prototype.Xm=function(){return!0};r.prototype.Wm=function(){return!0};r.prototype.dk=function(a){return a?this.b.Oj(a,this.ud,this.vd):!1};var G=[];r.prototype.xq=function(a){if(!a)return!1;var b=a.V(),c=b.$b(),d,e,f,g,k,l;f=0;for(g=c.length;f<g;f++){var m=c[f];m.aa();k=0;for(l=this.touches.length;k<l;k++)if(e=this.touches[k],d=m.e.jb(e.x,e.y,!0),e=m.e.jb(e.x,
e.y,!1),m.tb(d,e)){G.push(m);break}}return G.length?(b.da=!1,xa(b.d,G),a.tc(),R(G),!0):!1};r.prototype.Um=function(a){a=Math.floor(a);return a===this.pd};r.prototype.Tm=function(a){a=Math.floor(a);return a===this.pd};r.prototype.Hq=function(){return!0};r.prototype.Mq=function(){return!0};r.prototype.Fq=function(){return!0};r.prototype.Iq=function(a){return a?this.b.Oj(a,this.ud,this.vd):!1};r.prototype.Nq=function(a){return a?this.b.Oj(a,this.ud,this.vd):!1};r.prototype.Gq=function(a){return a?this.b.Oj(a,
this.ud,this.vd):!1};b.q=new r;t.prototype.an=function(a,b){var c=this.Nf;if(0>c||c>=this.touches.length)a.D(0);else{var d,e,f,g,k;ga(b)?(d=this.b.Kg(0),e=d.scale,f=d.dd,g=d.zc,k=d.j,d.scale=1,d.dd=1,d.zc=1,d.j=0,a.D(d.jb(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.dd=f,d.zc=g,d.j=k):(d=ha(b)?this.b.Kg(b):this.b.Yk(b))?a.D(d.jb(this.touches[c].x,this.touches[c].y,!0)):a.D(0)}};t.prototype.bn=function(a,b){var c=this.Nf;if(0>c||c>=this.touches.length)a.D(0);else{var d,e,f,g,k;ga(b)?(d=this.b.Kg(0),
e=d.scale,f=d.dd,g=d.Ac,k=d.j,d.scale=1,d.dd=1,d.Ac=1,d.j=0,a.D(d.jb(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.dd=f,d.Ac=g,d.j=k):(d=ha(b)?this.b.Kg(b):this.b.Yk(b))?a.D(d.jb(this.touches[c].x,this.touches[c].y,!1)):a.D(0)}};b.fb=new t})();function lc(e){this.b=e}
(function(){function e(a){a%=d.length;0>a&&(a+=d.length);return a}function p(){var a,b,c,f;a=0;for(b=d.length;a<b;++a)c=d[a],(f=d[e(a-1)])&&!c&&(g=a),!f&&c&&(y=a)}var m=lc.prototype;m.za=function(a){this.ma=a;this.b=a.b};var l=m.za.prototype,r=!1,t=null,b=null;l.X=function(){this.B||r||(r=!0,t=new Image,t.xk=15E3,this.b.Yj(t,"penumbra.png"))};l.dg=function(){if(!this.B){this.fc=this.F=null;var a,b,c;a=0;for(b=this.d.length;a<b;++a)c=this.d[a],c.F=null,c.fc=null}};l.sh=function(){if(!this.B){var a,
b;a=0;for(b=this.d.length;a<b;++a)this.d[a].Bn()}};m.oa=function(a){this.type=a;this.b=a.b};l=m.oa.prototype;l.X=function(){if(!b){var a=t.width,c=t.height,d=document.createElement("canvas");d.width=a;d.height=c;d=d.getContext("2d");d.clearRect(0,0,a,c);d.drawImage(t,0,0,a,c);b=d.getImageData(0,0,a,c).data}this.ue=this.x;this.ve=this.y;this.Ao=this.A[0];this.Qb=1E3;this.Xf=this.A[1];this.un=this.A[2];this.tag=this.A[3];this.Fl=this.Gl=this.Hl=0;this.so=this.x;this.uo=this.y;this.fc=this.F=null;this.b.k?
this.Bn():this.Xf=0;this.b.Qp(this)};l.vn=function(a){return 1===this.un?eb(this.tag,a):2===this.un?!eb(this.tag,a):!0};l.ng=function(){if(this.so!==this.x||this.uo!==this.y)this.ue=this.x,this.ve=this.y;var a=this.e,b=(a.T+a.Z)/2,c=(a.U+a.Y)/2,d=a.Z-a.T+this.Qb,e=a.Y-a.U+this.Qb;if(b!==this.x||c!==this.y||d!==this.width||e!==this.height)this.x=b,this.y=c,this.width=d,this.height=e,this.K();this.so=this.x;this.uo=this.y;this.Qb=1.5*Na(a.T,a.U,a.Z,a.Y)};l.nf=function(){this.b.k&&(this.F&&(this.b.k.deleteTexture(this.F),
this.F=null),this.fc&&(this.b.k.deleteTexture(this.fc),this.fc=null))};l.yb=function(){return{}};l.Pb=function(){};var a=[],f=[];l.Wn=function(){this.b.um&&(this.b.Xn(this.e,this.b.um.kw,this.fa,a),Sa(a))};var q=[],c=0,d=[],k=[],g=-1,u=-1,y=-1,G=-1,h=0,n=0,w=[],ca=0,v=0,H=0,L=0,E=0,P=0,J=0,S=0,D=new Za([]);l.Yb=function(b){this.Wn();b.save();b.fillStyle="rgba("+this.Hl+","+this.Gl+","+this.Fl+","+this.opacity+")";var c,e,g,h,k,l,n,m,r,q;c=0;for(e=a.length;c<e;++c)if(g=a[c],g.O.shadowcasterEnabled&&
this.vn(g.O.shadowcasterTag))if(g.aa(),n=g.O.shadowcasterHeight,g.He){g.Qn(this.fa,f);m=g.x;r=g.y;g=0;for(h=f.length;g<h;++g){k=f[g];q=k.tp;k.qf?(k=k.qf,l=q.left,q=q.top):(D.De(q,0,0),k=D,q=l=0);this.ci(k,m+l,r+q,n,!1);b.beginPath();b.moveTo(w[0],w[1]);k=2;for(l=w.length;k<l;k+=2)b.lineTo(w[k],w[k+1]);b.closePath();b.fill();R(d);R(w)}R(f)}else{g.M&&!g.M.qe()?(g.M.Zd(g.width,g.height,g.j),k=g.M):(D.Ce(g.cb,g.x,g.y,g.width,g.height),k=D);this.ci(k,g.x,g.y,n,Oa(0>g.width,0>g.height));b.beginPath();b.moveTo(w[0],
w[1]);g=2;for(h=w.length;g<h;g+=2)b.lineTo(w[g],w[g+1]);b.closePath();b.fill();R(d);R(w)}b.restore();R(a)};l.Ys=function(a,b,d,e){c=a.Bc;R(q);var f,g=a.Ja;n=h=0;var k;for(k=0;k<c;++k)f=2*k,a=g[f]+b,f=g[f+1]+d,e?(q.unshift(f),q.unshift(a)):(q.push(a),q.push(f)),h+=a,n+=f;h/=c;n/=c};l.ci=function(a,b,e,f,h){this.Ys(a,b,e,h);var l;R(d);R(k);R(w);G=u=y=g=-1;e=this.ue;h=this.ve;if(0<this.Xf)this.ok(-this.Xf),p(),xa(k,d),u=g,G=y,R(d),y=g=-1,this.ok(this.Xf),p(),-1!==g&&-1!==y&&-1!==u&&-1!==G&&this.nr();
else for(this.ok(0),p(),a=0;a<c;++a)l=2*a,b=q[l],l=q[l+1],this.mr(a,e,h,b,l,f)};l.mr=function(a,b,c,f,h,k){var l;l=d[e(a-1)];var n=a===g,m=a===y;d[a]||l?(a=Ja(b,c,f,h),l=Na(b,c,f,h),k=this.or(b,c,f,h,k),b+=Math.cos(a)*(l+k),c+=Math.sin(a)*(l+k)):(b=f,c=h);m&&(w.push(f),w.push(h));w.push(b);w.push(c);n&&(w.push(f),w.push(h))};l.ok=function(a){var b=this.ue,e=this.ve,f=b,g=e,k,l,m,r,p;for(k=0;k<c;++k)l=2*k,m=k+1,m=m===c?0:2*m,r=q[l],l=q[l+1],p=q[m],m=q[m+1],0!==a&&(g=Ja(b,e,h,n)-Math.PI/2,f=b+Math.cos(g)*
a,g=e+Math.sin(g)*a),d.push(Ka(Ja(r,l,f,g),Ja(r,l,p,m)-Math.PI/2)>=Math.PI/2)};var K=0,I=0;l.nr=function(){for(var a=u,b,d,e;a=a%c,b=2*a,d=q[b],e=q[b+1],w.push(d),w.push(e),a!==y;++a);var f=this.Xf,g=Ja(this.ue,this.ve,h,n),a=this.ue+Math.cos(g-Math.PI/2)*f,k=this.ve+Math.sin(g-Math.PI/2)*f,g=Ja(a,k,d,e),l=Na(a,k,d,e),a=a+Math.cos(g)*(l+this.Qb),k=k+Math.sin(g)*(l+this.Qb);b=2*u;var m=q[b];b=q[b+1];var g=Ja(this.ue,this.ve,h,n),r=this.ue+Math.cos(g+Math.PI/2)*f,p=this.ve+Math.sin(g+Math.PI/2)*f,g=
Ja(r,p,m,b),l=Na(r,p,m,b),f=r+Math.cos(g)*(l+this.Qb),g=p+Math.sin(g)*(l+this.Qb);E=d;P=e;ca=m;v=b;var t,D,G,l=a-d,r=k-e;t=f-m;D=g-b;G=-t*r+l*D;0===G?d=!1:(p=(-r*(d-m)+l*(e-b))/G,G=-t*r+l*D,0===G?d=!1:(m=(t*(e-b)-D*(d-m))/G,0<=p&&1>=p&&0<=m&&1>=m?(K=d+m*l,I=e+m*r,d=!0):d=!1));d?(w.push(K),w.push(I),J=K,S=I,H=K,L=I):(w.push(a),w.push(k),w.push(f),w.push(g),J=a,S=k,H=f,L=g)};l.or=function(a,b,c,d,e){if(e>=this.Ao)return this.Qb;if(0>=e)return 0;a=Na(a,b,c,d);a=Math.atan(a/(this.Ao-e));e=e*Math.tan(a);
e>=this.Qb&&(e=this.Qb);0>e&&(e=0);return e};l.wb=function(b){b.Id(this.opacity);this.Wn();var c,e,h,k,l,m,n,r,q,p;c=0;for(e=a.length;c<e;++c)if(h=a[c],h.O.shadowcasterEnabled&&this.vn(h.O.shadowcasterTag))if(h.aa(),l=h.O.shadowcasterHeight,h.He){h.Qn(this.fa,f);n=h.x;r=h.y;h=0;for(k=f.length;h<k;++h)m=f[h],q=m.tp,m.qf?(m=m.qf,p=q.left,q=q.top):(D.De(q,0,0),m=D,q=p=0),this.ci(m,n+p,r+q,l,!1),6>w.length||(b.La(this.F),b.zn(w),-1<g&&-1<u&&(b.La(this.fc),this.qi(b,!0)),-1<y&&-1<G&&(b.La(this.fc),this.qi(b,
!1)),R(d),R(w));R(f)}else h.M&&!h.M.qe()?(h.M.Zd(h.width,h.height,h.j),m=h.M):(D.Ce(h.cb,h.x,h.y,h.width,h.height),m=D),this.ci(m,h.x,h.y,l,Oa(0>h.width,0>h.height)),6>w.length||(b.La(this.F),b.zn(w),-1<g&&-1<u&&(b.La(this.fc),this.qi(b,!0)),-1<y&&-1<G&&(b.La(this.fc),this.qi(b,!1)),R(d),R(w));R(a)};l.qi=function(a,b){var c=this.ue,d=this.ve,e,f,k,l,m,r;b?(k=ca,l=v,m=H,r=L):(k=E,l=P,m=J,r=S);var p=this.Xf,t=Ja(c,d,h,n),w=Math.PI/2;b&&(w=-w);c+=Math.cos(t+w)*p;d+=Math.sin(t+w)*p;p=!1;if(b){if(p=g!==
u)e=q[2*g],f=q[2*g+1]}else if(p=y!==G)e=q[2*G],f=q[2*G+1];var t=p?Ja(e,f,k,l):Ja(c,d,k,l),w=k+Math.cos(t)*this.Qb,D=l+Math.sin(t)*this.Qb,I,K,pa,nb=pa=0,ob=1;p&&(pa=Ja(c,d,e,f),I=e+Math.cos(pa)*this.Qb,K=f+Math.sin(pa)*this.Qb,c=Ja(k,l,m,r),pa=Ka(t,pa)/Ka(c,pa),t=Na(e,f,k,l),t=t/(t+this.Qb),c=Ja(0,1,pa,0),d=Na(0,1,pa,0),nb+=Math.cos(c)*t*d,ob+=Math.sin(c)*t*d);a.sp(k,l,m,r,w,D,w,D,nb,ob,1,pa,pa);p&&a.sp(e,f,w,D,I,K,I,K,0,1,pa,0,0)};l.Bn=function(){this.b.k&&(this.F&&(this.b.k.deleteTexture(this.F),
this.F=null),this.fc&&(this.b.k.deleteTexture(this.fc),this.fc=null),this.ur(),this.Cr())};l.ur=function(){var a=document.createElement("canvas");a.width=16;a.height=16;var b=a.getContext("2d");b.fillStyle="rgb("+this.Hl+","+this.Gl+","+this.Fl+")";b.fillRect(0,0,16,16);this.F=this.b.k.Ib(16,16,!1,!1,!0);this.b.k.Pm(a,this.F)};l.Cr=function(){var a=t.width,c=t.height,d=this.Hl,e=this.Gl,f=this.Fl,g=b,h=document.createElement("canvas");h.width=a;h.height=c;var k=h.getContext("2d"),l=k.createImageData(a,
c),m=l.data,n,r;n=0;for(r=m.length;n<r;n+=4)m[n]=d,m[n+1]=e,m[n+2]=f,m[n+3]=g[n+3];k.putImageData(l,0,0);this.fc=this.b.k.Ib(a,c,this.b.la,!1,!1);this.b.k.Pm(h,this.fc)};m.q=new function(){};m.ea=new function(){};m.fb=new function(){}})();function mc(e){this.b=e}
(function(){function e(){}var p=mc.prototype;p.za=function(e){this.behavior=e;this.b=e.b};p.za.prototype.X=function(){};p.oa=function(e,m){this.type=e;this.behavior=e.behavior;this.i=m;this.b=e.b;this.Md=this.Ld=this.Kd=this.Nd=this.We=this.Yc=this.Uc=this.Pc=this.bd=!1;this.G=0;this.xb=this.Hb=this.i.j};var m=p.oa.prototype;m.X=function(){this.cc=this.A[0];this.ib=this.A[1];this.Fa=this.A[2];this.Lj=W(this.A[3]);this.Fk=W(this.A[4]);this.Ok=this.A[5];this.tm=1===this.A[6];this.Bk=1===this.A[7];this.enabled=
0!==this.A[8];this.ef=this.i.x;this.ff=this.i.y;this.Tf=this.i.j;this.Bk&&!this.b.Va&&(jQuery(document).keydown(function(e){return function(m){e.Vl(m)}}(this)),jQuery(document).keyup(function(e){return function(m){e.Wl(m)}}(this)))};m.yb=function(){return{ignoreInput:this.We,enabled:this.enabled,s:this.G,a:this.Hb,m:this.xb,maxspeed:this.cc,acc:this.ib,dec:this.Fa,steerSpeed:this.Lj,driftRecover:this.Fk,friction:this.Ok,lastx:this.ef,lasty:this.ff,lastAngle:this.Tf}};m.Pb=function(e){this.We=e.ignoreInput;
this.enabled=e.enabled;this.G=e.s;this.Hb=e.a;this.xb=e.m;this.cc=e.maxspeed;this.ib=e.acc;this.Fa=e.dec;this.Lj=e.steerSpeed;this.Fk=e.driftRecover;this.Ok=e.friction;this.ef=e.lastx;this.ff=e.lasty;this.Tf=e.lastAngle;this.Md=this.Ld=this.Kd=this.Nd=this.Yc=this.Uc=this.Pc=this.bd=!1};m.Vl=function(e){switch(e.which){case 37:e.preventDefault();this.Uc=!0;break;case 38:e.preventDefault();this.bd=!0;break;case 39:e.preventDefault();this.Yc=!0;break;case 40:e.preventDefault(),this.Pc=!0}};m.Wl=function(e){switch(e.which){case 37:e.preventDefault();
this.Uc=!1;break;case 38:e.preventDefault();this.bd=!1;break;case 39:e.preventDefault();this.Yc=!1;break;case 40:e.preventDefault(),this.Pc=!1}};m.of=function(){this.Yc=this.Uc=this.Pc=this.bd=!1};m.Tb=function(){var e=this.b.Ig(this.i),m=this.Uc||this.Ld,p=this.Yc||this.Md,b=this.bd||this.Nd,a=this.Pc||this.Kd;this.Kd=this.Nd=this.Md=this.Ld=!1;if(this.enabled){this.tm&&this.i.j!==this.Tf&&(this.Tf=this.xb=this.Hb=this.i.j);var f=this.b.oc(this.i);if(f&&(this.b.gg(this.i,f),!this.b.sj(this.i)))return;
this.We&&(a=b=p=m=!1);b&&!a&&(this.G+=this.ib*e,this.G>this.cc&&(this.G=this.cc));a&&!b&&(this.G-=this.Fa*e,this.G<-this.cc&&(this.G=-this.cc));a===b&&(0<this.G?(this.G-=this.Fa*e*.1,0>this.G&&(this.G=0)):0>this.G&&(this.G+=this.Fa*e*.1,0<this.G&&(this.G=0)));0>this.G&&(b=m,m=p,p=b);m&&!p&&(this.Hb=Ga(this.Hb-this.Lj*e*(Math.abs(this.G)/this.cc)));p&&!m&&(this.Hb=Ga(this.Hb+this.Lj*e*(Math.abs(this.G)/this.cc)));m=this.Fk*e;p=Ka(this.Hb,this.xb);p>W(90)&&(m+=p-W(90));p<=m?this.xb=Ga(this.Hb):Ma(this.Hb,
this.xb)?this.xb=Ga(this.xb+m):this.xb=Ga(this.xb-m);this.ef=this.i.x;this.ff=this.i.y;if(0!==this.G&&0!==e){if(this.i.x+=Math.cos(this.xb)*this.G*e,this.i.y+=Math.sin(this.xb)*this.G*e,this.tm&&(this.Tf=this.i.j=this.Hb),this.i.K(),m=this.b.oc(this.i))this.b.gg(this.i,m),this.G=Math.abs(this.G),this.xb=this.b.pr(this.i,this.ef,this.ff),this.i.x+=Math.cos(this.xb)*this.G*e,this.i.y+=Math.sin(this.xb)*this.G*e,this.i.K(),this.G*=1-this.Ok,this.b.fm(this.i,Math.cos(this.xb),Math.sin(this.xb),Math.max(2.5*
this.G*e,30))||this.b.sj(this.i,100)}else this.tm&&this.i.j!==this.Hb&&(this.Tf=this.i.j=this.Hb,this.i.K(),this.b.oc(this.i)&&this.b.sj(this.i,100))}};p.q=new function(){};e.prototype.Ym=function(e){this.Fa=e;0>this.Fa&&(this.Fa=0)};e.prototype.ek=function(e){switch(e){case 0:this.Ld=!0;break;case 1:this.Md=!0;break;case 2:this.Nd=!0;break;case 3:this.Kd=!0}};p.ea=new e;p.fb=new function(){}})();function nc(e){this.b=e}
(function(){function e(){}var p=nc.prototype;p.za=function(e){this.behavior=e;this.b=e.b};p.za.prototype.X=function(){};p.oa=function(e,m){this.type=e;this.behavior=e.behavior;this.i=m;this.b=e.b;this.Md=this.Ld=this.Kd=this.Nd=this.We=this.Yc=this.Uc=this.Pc=this.bd=!1;this.Bl=this.Al=this.zl=this.Dl=-1;this.ia=this.ga=0};var m=p.oa.prototype;m.X=function(){this.cc=this.A[0];this.ib=this.A[1];this.Fa=this.A[2];this.Ek=this.A[3];this.kk=this.A[4];this.Bk=1===this.A[5];this.enabled=0!==this.A[6];this.Bk&&
!this.b.Va&&(jQuery(document).keydown(function(e){return function(m){e.Vl(m)}}(this)),jQuery(document).keyup(function(e){return function(m){e.Wl(m)}}(this)))};m.yb=function(){return{dx:this.ga,dy:this.ia,enabled:this.enabled,maxspeed:this.cc,acc:this.ib,dec:this.Fa,ignoreInput:this.We}};m.Pb=function(e){this.ga=e.dx;this.ia=e.dy;this.enabled=e.enabled;this.cc=e.maxspeed;this.ib=e.acc;this.Fa=e.dec;this.We=e.ignoreInput;this.Md=this.Ld=this.Kd=this.Nd=this.Yc=this.Uc=this.Pc=this.bd=!1;this.Bl=this.Al=
this.zl=this.Dl=-1};m.Vl=function(e){var m=this.b.Gc;switch(e.which){case 37:e.preventDefault();this.Al<m&&(this.Uc=!0);break;case 38:e.preventDefault();this.Dl<m&&(this.bd=!0);break;case 39:e.preventDefault();this.Bl<m&&(this.Yc=!0);break;case 40:e.preventDefault(),this.zl<m&&(this.Pc=!0)}};m.Wl=function(e){var m=this.b.Gc;switch(e.which){case 37:e.preventDefault();this.Uc=!1;this.Al=m;break;case 38:e.preventDefault();this.bd=!1;this.Dl=m;break;case 39:e.preventDefault();this.Yc=!1;this.Bl=m;break;
case 40:e.preventDefault(),this.Pc=!1,this.zl=m}};m.of=function(){this.Yc=this.Uc=this.Pc=this.bd=!1};m.Tb=function(){var e=this.b.Ig(this.i),m=this.Uc||this.Ld,p=this.Yc||this.Md,b=this.bd||this.Nd,a=this.Pc||this.Kd;this.Kd=this.Nd=this.Md=this.Ld=!1;if(this.enabled){var f=this.b.oc(this.i);if(f&&(this.b.gg(this.i,f),!this.b.sj(this.i)))return;this.We&&(a=b=p=m=!1);0===this.Ek?p=m=!1:1===this.Ek&&(a=b=!1);2===this.Ek&&(b||a)&&(p=m=!1);m==p&&(0>this.ga?(this.ga+=this.Fa*e,0<this.ga&&(this.ga=0)):
0<this.ga&&(this.ga-=this.Fa*e,0>this.ga&&(this.ga=0)));b==a&&(0>this.ia?(this.ia+=this.Fa*e,0<this.ia&&(this.ia=0)):0<this.ia&&(this.ia-=this.Fa*e,0>this.ia&&(this.ia=0)));m&&!p&&(this.ga=0<this.ga?this.ga-(this.ib+this.Fa)*e:this.ga-this.ib*e);p&&!m&&(this.ga=0>this.ga?this.ga+(this.ib+this.Fa)*e:this.ga+this.ib*e);b&&!a&&(this.ia=0<this.ia?this.ia-(this.ib+this.Fa)*e:this.ia-this.ib*e);a&&!b&&(this.ia=0>this.ia?this.ia+(this.ib+this.Fa)*e:this.ia+this.ib*e);if(0!==this.ga||0!==this.ia){Math.sqrt(this.ga*
this.ga+this.ia*this.ia)>this.cc&&(f=Math.atan2(this.ia,this.ga),this.ga=this.cc*Math.cos(f),this.ia=this.cc*Math.sin(f));p=this.i.x;b=this.i.y;m=this.i.j;this.i.x+=this.ga*e;this.i.K();if(f=this.b.oc(this.i))this.b.fm(this.i,0>this.ga?1:-1,0,Math.abs(Math.floor(this.ga*e)))||(this.i.x=p),this.ga=0,this.i.K(),this.b.gg(this.i,f);this.i.y+=this.ia*e;this.i.K();if(f=this.b.oc(this.i))this.b.fm(this.i,0,0>this.ia?1:-1,Math.abs(Math.floor(this.ia*e)))||(this.i.y=b),this.ia=0,this.i.K(),this.b.gg(this.i,
f);e=db(this.ga);f=db(this.ia);0===e&&0===f||!this.i.type.ma.Nt||(1===this.kk?this.i.j=Ia(90*Math.round(Ea(Math.atan2(f,e))/90)):2===this.kk?this.i.j=Ia(45*Math.round(Ea(Math.atan2(f,e))/45)):3===this.kk&&(this.i.j=Math.atan2(f,e)));this.i.K();this.i.j!=m&&(f=this.b.oc(this.i))&&(this.i.j=m,this.i.K(),this.b.gg(this.i,f))}}};p.q=new function(){};e.prototype.Ym=function(e){this.Fa=e;0>this.Fa&&(this.Fa=0)};e.prototype.ek=function(e){switch(e){case 0:this.Ld=!0;break;case 1:this.Md=!0;break;case 2:this.Nd=
!0;break;case 3:this.Kd=!0}};p.ea=new e;p.fb=new function(){}})();function oc(e){this.b=e}
(function(){var e=oc.prototype;e.za=function(e){this.behavior=e;this.b=e.b};e.za.prototype.X=function(){};e.oa=function(e,m){this.type=e;this.behavior=e.behavior;this.i=m;this.b=e.b;this.mode=0};e=e.oa.prototype;e.X=function(){this.mode=this.A[0]};e.Tb=function(){};e.ng=function(){this.i.aa();var e=this.i.fa,m=this.i.e.Ha,l=!1;0===this.mode?(0>this.i.x&&(this.i.x=0,l=!0),0>this.i.y&&(this.i.y=0,l=!0),this.i.x>m.width&&(this.i.x=m.width,l=!0),this.i.y>m.height&&(this.i.y=m.height,l=!0)):(0>e.left&&
(this.i.x-=e.left,l=!0),0>e.top&&(this.i.y-=e.top,l=!0),e.right>m.width&&(this.i.x-=e.right-m.width,l=!0),e.bottom>m.height&&(this.i.y-=e.bottom-m.height,l=!0));l&&this.i.K()}})();function pc(e){this.b=e;this.wm=this.Dj=this.Bh=this.vm=0}
(function(){var e=pc.prototype;e.za=function(e){this.behavior=e;this.b=e.b};e.za.prototype.X=function(){};e.oa=function(e,l){this.type=e;this.behavior=e.behavior;this.i=l;this.b=e.b};var p=e.oa.prototype;p.X=function(){this.enabled=0!==this.A[0]};p.yb=function(){return{smg:this.behavior.vm,ss:this.behavior.Bh,se:this.behavior.Dj,smd:this.behavior.wm}};p.Pb=function(e){this.behavior.vm=e.smg;this.behavior.Bh=e.ss;this.behavior.Dj=e.se;this.behavior.wm=e.smd};p.Tb=function(){};p.ng=function(){if(this.enabled){var e=
this.behavior.bj.qd(),l=0,p=0,t,b,a,f=0;t=0;for(b=e.length;t<b;t++){a:{a=e[t];for(var q=void 0,c=void 0,d=void 0,q=0,c=a.J.length;q<c;++q)if(d=a.J[q],d.behavior instanceof pc){a=d;break a}a=null}a&&a.enabled&&(l+=e[t].x,p+=e[t].y,++f)}e=this.i.e.Ha;b=this.b.ac.ta;a=t=0;b>=this.behavior.Bh&&b<this.behavior.Dj&&(t=this.behavior.vm*Math.min(this.b.og,1),0===this.behavior.wm&&(t*=1-(b-this.behavior.Bh)/(this.behavior.Dj-this.behavior.Bh)),b=Math.random()*Math.PI*2,a=Math.random()*t,t=Math.cos(b)*a,a*=
Math.sin(b));e.qm(l/f+t);e.rm(p/f+a)}};e.ea=new function(){}})();function hc(e){this.b=e}(function(){var e=hc.prototype;e.za=function(e){this.behavior=e;this.b=e.b};e.za.prototype.X=function(){};e.oa=function(e,l){this.type=e;this.behavior=e.behavior;this.i=l;this.b=e.b};var p=e.oa.prototype;p.X=function(){this.i.O.solidEnabled=0!==this.A[0]};p.Tb=function(){};e.q=new function(){};e.ea=new function(){}})();
function gc(){return[ic,lc,Y,jc,kc,Z,nc,oc,pc,mc,hc,X.prototype.q.vq,Z.prototype.q.xq,X.prototype.q.nq,nc.prototype.ea.ek,Y.prototype.ea.Qq,Y.prototype.ea.Pq,X.prototype.q.qq,jc.prototype.ea.Zm,Y.prototype.ea.$m,mc.prototype.ea.ek,mc.prototype.ea.Ym,Y.prototype.ea.Sq,Y.prototype.fb.rq,Y.prototype.fb.sq,Y.prototype.ea.Oq,Y.prototype.fb.iq,Y.prototype.q.wq,Z.prototype.q.dk,X.prototype.ea.hq,Y.prototype.fb.an,Y.prototype.fb.bn,X.prototype.ea.Tq,X.prototype.ea.Wq,Y.prototype.ea.Rm,X.prototype.ea.oq,Y.prototype.ea.Rq,
Y.prototype.q.Dq,kc.prototype.ea.Rm,kc.prototype.ea.$m]};
